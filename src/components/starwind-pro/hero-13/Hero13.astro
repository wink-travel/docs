---
import IconSparkles from "@tabler/icons/outline/sparkles.svg";
import type { HTMLAttributes } from "astro/types";
import { tv } from "tailwind-variants";

import { Button } from "@/components/starwind/button";
import RisingParticlesEffect from "@/components/starwind-pro/effect-10/Effect10.astro";

interface Props extends HTMLAttributes<"section"> {
  /** Badge text */
  badgeText?: string;
  /** Badge href */
  badgeHref?: string;
  /** Badge icon component */
  badgeIcon?: any;
  /** Main heading text */
  heading?: string;
  /** Description text */
  description?: string;
  /** Primary button text */
  primaryButtonText?: string;
  /** Primary button href */
  primaryButtonHref?: string;
  /** Secondary button text (optional - only renders if provided) */
  secondaryButtonText?: string;
  /** Secondary button href */
  secondaryButtonHref?: string;
  /** Number of particles */
  particleCount?: number;
  /** Minimum particle size */
  minSize?: number;
  /** Maximum particle size */
  maxSize?: number;
  /** Minimum rise duration in seconds */
  minDuration?: number;
  /** Maximum rise duration in seconds */
  maxDuration?: number;
  /** Particle color */
  particleColor?: string;
  /** Minimum particle opacity */
  minOpacity?: number;
  /** Maximum particle opacity */
  maxOpacity?: number;
}

const hero13Styles = tv({
  base: "@container w-full h-full",
});

const {
  badgeText = "Introducing our platform",
  badgeHref = "#",
  badgeIcon: BadgeIcon = IconSparkles,
  heading = "Expertly crafted components for your projects",
  description = "Build beautiful, accessible, and production-ready interfaces with our comprehensive component library. Ready to copy into your projects or seamlessly install via CLI.",
  primaryButtonText = "Get Started",
  primaryButtonHref = "#",
  secondaryButtonText,
  secondaryButtonHref = "#",
  particleCount = 50,
  minSize = 2,
  maxSize = 5,
  minDuration = 10,
  maxDuration = 18,
  particleColor = "var(--color-foreground)",
  minOpacity = 0.15,
  maxOpacity = 0.5,
  class: className,
  ...rest
} = Astro.props;
---

<section class={hero13Styles({ class: className })} {...rest}>
  <RisingParticlesEffect
    class="h-full w-full"
    particleCount={particleCount}
    minSize={minSize}
    maxSize={maxSize}
    minDuration={minDuration}
    maxDuration={maxDuration}
    particleColor={particleColor}
    minOpacity={minOpacity}
    maxOpacity={maxOpacity}
  >
    <div class="flex min-h-[50lvh] flex-col items-center justify-center px-4 py-24 text-center">
      <!-- Badge -->
      <Button
        variant="outline"
        href={badgeHref}
        class="inset-shadow-muted mb-6 h-auto rounded-full py-1 text-sm inset-shadow-xs"
      >
        <BadgeIcon class="size-4" />
        {badgeText}
      </Button>

      <!-- Heading -->
      <h1
        class="from-foreground via-foreground to-foreground dark:from-foreground/50 dark:to-foreground/50 max-w-5xl bg-linear-to-br bg-clip-text pb-4 text-3xl font-medium tracking-tight text-pretty text-transparent @xl:text-5xl @3xl:text-7xl"
      >
        {heading}
      </h1>

      <!-- Description -->
      <p class="text-muted-foreground mx-auto mt-2 max-w-3xl text-pretty @xl:mt-6 @xl:text-lg">
        {description}
      </p>

      <!-- Buttons -->
      <div
        class="mt-10 flex w-full flex-col items-center justify-center gap-x-4 gap-y-3 @md:w-fit @md:flex-row"
      >
        <Button variant="primary" href={primaryButtonHref} class="w-full @md:w-auto">
          {primaryButtonText}
        </Button>
        {
          secondaryButtonText && (
            <Button variant="outline" href={secondaryButtonHref} class="w-full @md:w-auto">
              {secondaryButtonText}
            </Button>
          )
        }
      </div>
    </div>
  </RisingParticlesEffect>
</section>
