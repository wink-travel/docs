---
import IconBrandGithub from "@tabler/icons/filled/brand-github.svg";
import IconBrandLinkedin from "@tabler/icons/filled/brand-linkedin.svg";
import IconBrandX from "@tabler/icons/outline/brand-x.svg";
import IconLogo from "@tabler/icons/outline/stack-2.svg";
import type { HTMLAttributes } from "astro/types";
import { tv } from "tailwind-variants";
import { Icon } from 'astro-icon/components'

export interface FooterLink {
  label: string;
  href: string;
}

export interface FooterColumn {
  title: string;
  links: FooterLink[];
}

export interface SocialLink {
  name: string;
  href: string;
  icon: any;
}

interface Props extends HTMLAttributes<"footer"> {
  /** Company name */
  companyName?: string;
  /** Company description */
  description?: string;
  /** Logo icon component */
  logoIcon?: any;
  /** Array of footer link columns */
  columns?: FooterColumn[];
  /** Array of social media links */
  socialLinks?: SocialLink[];
}

const footer3Styles = tv({
  base: "@container w-full border-t py-12",
});

const {
  companyName = "Your Company",
  description = "Building amazing products that help teams collaborate and grow. Join thousands of satisfied customers worldwide.",
  logoIcon: LogoIcon = IconLogo,
  columns = [
    {
      title: "Product",
      links: [
        { label: "Features", href: "/features" },
        { label: "Pricing", href: "/pricing" },
        { label: "Updates", href: "/updates" },
      ],
    },
    {
      title: "Company",
      links: [
        { label: "About", href: "/about" },
        { label: "Blog", href: "/blog" },
        { label: "Careers", href: "/careers" },
      ],
    },
    {
      title: "Support",
      links: [
        { label: "Help Center", href: "/help" },
        { label: "Contact", href: "/contact" },
        { label: "Status", href: "/status" },
      ],
    },
  ],
  socialLinks = [
    { name: "Twitter", href: "https://twitter.com", icon: IconBrandX },
    { name: "GitHub", href: "https://github.com", icon: IconBrandGithub },
    { name: "LinkedIn", href: "https://linkedin.com", icon: IconBrandLinkedin },
  ],
  class: className,
  ...rest
} = Astro.props;

const currentYear = new Date().getFullYear();
---

<footer class={footer3Styles({ class: className })} {...rest}>
  <div class="mx-auto w-full max-w-7xl px-4">
    <div class="grid gap-8 @lg:grid-cols-5">
      <!-- Brand Column -->
      <div class="@lg:col-span-2">
        <div class="mb-4 flex items-center gap-2">
          <Icon name="face-smile-wink-sharp-solid-full" class="text-primary-accent size-6" />
          <!-- <LogoIcon class="text-primary-accent size-8" aria-hidden="true" /> -->
          <span class="text-xl font-semibold text-primary-accent">{companyName}</span>
        </div>
        <p class="text-muted-foreground mb-6 text-sm">
          {description}
        </p>
        <div class="flex gap-4">
          {
            socialLinks.map((social) => (
              <a
                href={social.href}
                target="_blank"
                rel="noopener noreferrer"
                class="text-muted-foreground hover:text-foreground transition-colors"
                aria-label={social.name}
              >
                <social.icon class="size-5.5" aria-hidden="true" />
              </a>
            ))
          }
        </div>
      </div>

      <!-- Link Columns -->
      {
        columns.map((column) => (
          <div>
            <h3 class="font-heading mb-4 text-sm font-semibold">{column.title}</h3>
            <ul class="space-y-3">
              {column.links.map((link) => (
                <li>
                  <a
                    href={link.href}
                    class="text-muted-foreground hover:text-foreground text-sm transition-colors"
                  >
                    {link.label}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>

    <!-- Bottom Section -->
    <div
      class="mt-12 flex flex-col gap-4 border-t pt-8 @md:flex-row @md:items-center @md:justify-between"
    >
      <p class="text-muted-foreground text-sm">
        Â© {currentYear}
        {companyName}. All rights reserved.
      </p>
      <div class="flex gap-6">
        <a
          href="/privacy"
          class="text-muted-foreground hover:text-foreground text-sm transition-colors"
        >
          Privacy Policy
        </a>
        <a
          href="/terms"
          class="text-muted-foreground hover:text-foreground text-sm transition-colors"
        >
          Terms of Service
        </a>
      </div>
    </div>
  </div>
</footer>
