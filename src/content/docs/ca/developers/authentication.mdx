---
title: Autenticació
description: Apreneu com autenticar-vos utilitzant el servidor d'autorització OAuth2 de Wink.
sidebar:
  order: 2
---

:::tip
El servidor d'autenticació IAM de Wink admet els punts finals comuns d'OAuth2:

- /oauth2/authorize
- /oauth2/token
- /oauth2/introspect
- /oauth2/revoke
- /oauth2/userinfo
:::

Una aplicació us proporciona un `Client ID` i una `Secret Key` que necessiteu per crear una sessió OAuth2 autenticada que podeu utilitzar per comunicar-vos amb les API de Wink i TripPay.

Aquí teniu els passos per crear una sessió autenticada.

**Pas 1**. Obteniu un token d'accés a staging o al nostre entorn de producció:

Probablement treballareu amb una biblioteca OAuth2 robusta per al vostre llenguatge, que farà tota la feina pesada per vosaltres.
Els nostres exemples mostraran l'ús més bàsic des de la línia de comandes amb `curl`.

### Staging

```bash

curl -X POST https://staging-iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

### Producció

```bash

curl -X POST https://iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

Això retornarà un token d'accés, juntament amb altres dades de resposta OAuth2:

```json
{
  "access_token": "abc123"
}
```

Quan feu una crida a qualsevol dels nostres punts finals, incloeu el següent a la capçalera:

- `Wink-Version` = `2.0` Última - *Consulteu la nostra documentació API per a altres versions disponibles.*
- `Authentication` = `Bearer: ${access_token}` *Inseriu el vostre token d'accés.*

:::tip
Podeu provar totes les nostres API sense escriure ni una sola línia de codi abans de començar.

Agafeu un 'Client ID' i una 'Secret Key' d'una de les vostres aplicacions i navegueu per qualsevol de les nostres [APIs](/ca/developers/apis).
:::
