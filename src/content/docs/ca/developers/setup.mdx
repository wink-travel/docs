---
title: Configuració
description: Aquest article et mostra com configurar-te ràpidament com a desenvolupador i començar a provar les nostres API a Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Aquest article et mostra com configurar-te ràpidament com a desenvolupador i començar a provar les nostres API a Wink.

:::note
Les proves sempre s’han de fer en el nostre [entorn de staging](/getting-started/environments). Hi ha molta menys informació, però pots provar tant com vulguis sense afectar l’entorn de producció.

Quan estiguis preparat per posar-ho en marxa, certificarem el teu compte i la teva aplicació i podràs llançar-ho en el nostre entorn de producció.
:::

Segueix aquests passos:

<Steps>
1. [Registra’t](/user/register) el teu compte d’usuari a Wink
2. Crea un [compte d’agent de viatges](/travel-agent/what-is-agent) o un [compte d’afiliat](/studio/what-is-studio).
3. [Crea una Aplicació](/developer/applications) on l’associïs amb el compte que vas crear al Pas 2.
4. Un cop hagis creat la teva `Application`, guarda el client-id i el client secret en un lloc segur.
</Steps>

## CDN

A Wink, utilitzem Cloudinary per a tots els nostres recursos d’imatges i vídeos. Quan accedeixis al nostre inventari de viatges, tindràs accés complet a totes les funcions avançades de Cloudinary.

El nostre `cloud_name` és `traveliko`.

### Cloudinary

- [Com començar](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary a GitHub](https://github.com/cloudinary)
-	[Tutorials en vídeo](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Exemple

Per a cada tipus d’inventari de viatges que suportem, hi haurà un array JSON anidat anomenat `multimedias`. El JSON per a una entrada multimèdia és així:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

La línia ressaltada mostra l’ID únic de Cloudinary `partners/radisson_blu_logo`. Això és tot el que necessites per recuperar la imatge en qualsevol format, qualitat i mida que vulguis.

## Proves

Ves a la nostra secció d’[APIs](/developer/apis) i tria l’API amb la qual vols treballar.

### Documentació de l’API

El nostre lloc de documentació està configurat de manera que pots executar comandes API des del mateix lloc.

En aquest exemple, vols utilitzar la crida API `Search Lookups (OAuth2)`.

:::tip[Consell professional]
Per facilitar l’ús, recomanem que els integradors utilitzin els endpoints que designem com a `OAuth2`. Aquests endpoints saben que esperen crides API i ja saben a quin compte estàs, així que no cal que especifiquis el `companyIdentifier` a les teves URLs.
:::

<Steps>
1. Utilitza la [Lookup API](https://developer.wink.travel/lookup) per recuperar destinacions o hotels.
2. A la barra de navegació esquerra, fes clic a `Authentication`.
3. Introdueix el teu client-id i client secret i fes clic al botó `Get TOKEN`.
4. Si les teves credencials són vàlides, veuràs que la teva clau API s’ha aplicat.
5. Ara pots provar l’endpoint de lookup.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Endpoint de Lookup API"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemple de Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Pots fer el mateix amb Postman.

<Steps>
1. Descarrega [Postman](https://www.postman.com/downloads).
2. Fes clic a `Download OpenAPI spec` a la part superior de la pàgina de la [Lookup API](https://developer.wink.travel/lookup).
3. Importa-ho a Postman.
4. Si l’has importat com una nova col·lecció anomenada `Wink API`, fes clic a l’el·lipse horitzontal (3 punts) al costat del nom de la col·lecció i fes clic a `Edit`.
5. A la pestanya `Authorization`, configura el `Auth type` a OAuth2.
6. Configura el camp `Add auth data to` a `Request headers`.
7. Configura el camp `Header prefix` a `Bearer`.
8. Configura el camp `Token Name` amb el nom que vulguis per al teu token guardat a Postman. Per exemple, Wink Staging.
9. Configura el camp `Grant type` a `Client Credentials`.
10. Configura el camp `Access token URL` a https://staging-iam.wink.travel/oauth2/token.
11. Configura el camp `Client ID` amb el Client ID que la teva app ha generat.
12. Configura el camp `Client Secret` amb el Client Secret que la teva app ha generat.
13. Configura el camp `Scope` a `inventory.read inventory.write inventory.remove`. Aquests són tots els àmbits que necessitaràs per a Wink.
14. Configura el camp `Client Authentication` a `Send as Basic Auth header`.
15. Fes clic al botó `Get New Access Token` per obtenir el teu token i guardar-lo.
16. Per a totes les crides API sota la col·lecció Wink API, assegura’t que la pestanya d’autenticació digui `Inherit auth from parent` perquè inclogui el teu token en cada crida.
</Steps>

:::tip[Consell professional]
Es recomana convertir el domini del servidor, el client ID i el client secret en variables d’entorn. Així podràs canviar fàcilment entre els entorns de staging i producció i reutilitzar totes les operacions que hagis creat.
:::
