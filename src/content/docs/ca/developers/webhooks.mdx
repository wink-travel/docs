---
title: Webhooks
description: Subscriu-te als esdeveniments de Wink i TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '../../../components/cloudinary-image.astro';

Els webhooks són una manera de rebre i reaccionar a esdeveniments en temps real de Wink i TripPay relacionats amb el vostre compte.

## Exemple

<Steps>
  1. Es produeix una reserva a Wink.
  2. L'esdeveniment Wink `booking.created` s'envia.
  3. El vostre sistema està escoltant activament aquest esdeveniment.
  4. El sistema fa un seguiment del vostre propi conjunt d'analítiques i utilitza aquest esdeveniment per actualitzar la seva base de dades de sèries temporals.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Webhook de mostra" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Entrada de webhook de mostra*</figcaption>
</figure>


:::nota
Un webhook Wink és diferent d'un webhook TripPay.

* Si voleu escoltar els esdeveniments de Wink, podeu crear un webhook des de[Extranet](https://extranet.wink.travel)o[Estudi](https://studio.wink.travel).
* Si voleu escoltar els esdeveniments de TripPay, podeu crear un webhook des de[Pagament](https://pay.wink.travel).
  :::

*Per a aquest exemple, ens autenticarem mitjançant[Estudi](https://studio.wink.travel).*

<Steps>
  1. Un cop autenticat, feu clic a la icona del vostre perfil, a la cantonada superior dreta, i apareixerà un menú.
  2. Feu clic a `Webhooks` enllaç.
  3. Se us redirigirà a la pàgina de webhooks.
</Steps>


## Crea un webhook

:::precaució
Heu de crear un compte d'afiliat a Wink o un compte a TripPay abans de crear un webhook, ja que vinculareu el vostre webhook a un compte específic.
:::

Aquests són els passos per crear un webhook:

<Steps>
  1. A la pàgina de webhooks, feu clic a `Create new webhook` botó.
  2. ***Nom*** Doneu un nom al vostre webhook. *p. ex. Wink Stalker*
  3. ***Activa*** Deixa-ho tal com està per activar-ho.
  4. **Nom de l'entitat** Enllaça el teu webhook amb un dels teus comptes existents. *p. ex. Compte genial*
  5. **Esdeveniments** Escolta els esdeveniments que t'interessen. *p. ex. `booking.created`*
  6. **URL del webhook** Introdueix l'URL on escoltaràs els nostres esdeveniments. *p. ex. `https://my.system.com/webhook/wink`*
  7. Feu clic a `Save` botó per continuar.
</Steps>


Se us redirigeix ​​de nou a la vostra llista de webhooks i el vostre nou webhook ja està a punt.

## Actualitza el webhook

Haureu d'actualitzar l'aplicació si voleu:

* Desactiva el teu webhook.
* Escolta més / menys esdeveniments.
* Canvia l'URL del webhook d'escolta.

Per actualitzar un webhook existent, feu el següent:

<Steps>
  1. Feu clic a `Actions` enllaç per al webhook que voleu actualitzar.
  2. Feu clic a `Update` botó que hi ha a Accions.
  3. Feu els canvis al webhook.
  4. Feu clic a `Save` botó per continuar.
</Steps>


Se us redirigeix ​​de nou a la vostra llista de webhooks.

## Elimina el webhook

Si ja no us serveix el webhook, podeu eliminar-lo.

Per eliminar un webhook, feu el següent:

<Steps>
  1. Feu clic a `Actions` enllaç per al webhook que voleu actualitzar.
  2. Feu clic a `Remove` botó que hi ha a Accions.
  3. Feu clic `OK` botó per confirmar l'eliminació.
</Steps>


Se us redirigeix ​​de nou a la vostra llista de webhooks.

