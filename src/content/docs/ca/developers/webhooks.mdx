---
title: Webhooks
description: Subscriu-te als esdeveniments de Wink i TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Els webhooks són una manera de rebre i reaccionar en temps real als esdeveniments de Wink i TripPay relacionats amb el teu compte.

## Exemple

<Steps>
1. Es fa una reserva a Wink.
1. Es dispara l'esdeveniment de Wink `booking.created`.
2. El teu sistema està escoltant activament aquest esdeveniment.
3. El teu sistema fa un seguiment de les seves pròpies analítiques i utilitza aquest esdeveniment per actualitzar la seva base de dades de sèries temporals.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Exemple de webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemple d’entrada de webhook*</figcaption>
</figure>

:::note
Un webhook de Wink és diferent d’un webhook de TripPay.

- Si vols escoltar esdeveniments de Wink, pots crear un webhook des de [Extranet](https://extranet.wink.travel) o [Studio](https://studio.wink.travel).
- Si vols escoltar esdeveniments de TripPay, pots crear un webhook des de [Payment](https://pay.wink.travel).
:::

*Per a aquest exemple, ens autenticarem via [Studio](https://studio.wink.travel).*

<Steps>
1. Un cop autenticat, fes clic a la icona del teu perfil, a la cantonada superior dreta, i apareixerà un menú.
2. Fes clic a l’enllaç `Webhooks`.
3. Seràs redirigit a la pàgina dels teus webhooks.
</Steps>

## Crear webhook

:::caution
Cal que creïs un compte d’afiliat a Wink o un compte a TripPay abans de crear un webhook, ja que vincularàs el webhook a un compte específic.
:::

Aquí tens els passos per crear un webhook:

<Steps>
1. A la pàgina de webhooks, fes clic al botó `Create new webhook`.
2. ***Nom*** Dona un nom al teu webhook. *p. ex. Wink Stalker*
3. ***Habilitar*** Deixa-ho tal qual per estar habilitat.
4. **Nom de l’entitat** Vincula el teu webhook amb un dels teus comptes existents. *p. ex. Cool Account*
5. **Esdeveniments** Escolta els esdeveniments que t’interessen. *p. ex. `booking.created`*
6. **URL del webhook** Introdueix la URL on escoltaràs els esdeveniments nostres. *p. ex. `https://my.system.com/webhook/wink`*
7. Fes clic al botó `Save` per continuar.
</Steps>

Seràs redirigit a la llista de webhooks i el teu nou webhook estarà llest per funcionar.

## Actualitzar webhook

Hauràs d’actualitzar la teva aplicació si vols:

- Deshabilitar el teu webhook.
- Escoltar més o menys esdeveniments.
- Canviar la URL on escoltes el webhook.

Per actualitzar un webhook existent, fes el següent:

<Steps>
1. Fes clic a l’enllaç `Actions` del webhook que vols actualitzar.
2. Fes clic al botó `Update` sota Accions.
3. Fes els canvis al webhook.
4. Fes clic al botó `Save` per continuar.
</Steps>

Seràs redirigit a la llista de webhooks.

## Eliminar webhook

Si ja no necessites el webhook, pots eliminar-lo.

Per eliminar un webhook, fes el següent:

<Steps>
1. Fes clic a l’enllaç `Actions` del webhook que vols eliminar.
2. Fes clic al botó `Remove` sota Accions.
3. Fes clic al botó `OK` per confirmar l’eliminació.
</Steps>

Seràs redirigit a la llista de webhooks.
