---
title: Webhooks
description: Subscriu-te als esdeveniments de Wink i TripPay.
sidebar:
  order: 11
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Els webhooks són una manera de rebre i reaccionar en temps real als esdeveniments de Wink per al teu compte.

<Steps>
 1. Selecciona el compte amb què vols treballar des de [Accounts](https://my.wink.travel).
 2. Fes clic a `Actions` a la part inferior de la targeta del compte i tria `Manage account`.
 3. Fes clic a la pestanya `Webhooks` a la pàgina següent.
 4. Aquesta secció mostrarà tots els teus webhooks.
 5. Tria editar-ne un existent o crear-ne un de nou.
 </Steps>

## Exemple

<Steps>
1. Es fa una reserva a Wink.
1. Es dispara l’esdeveniment de Wink `booking.created`.
2. El teu sistema està escoltant activament aquest esdeveniment.
3. El teu sistema fa un seguiment de les seves pròpies analítiques i utilitza aquest esdeveniment per actualitzar la seva base de dades de sèries temporals.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Exemple de webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Entrada d’exemple de webhook*</figcaption>
</figure>

## Crear webhook

:::caution
Cal que creïs un compte afiliat a Wink o un compte a TripPay abans de crear un webhook, ja que vincularàs el teu webhook a un compte específic.
:::

Aquí tens els passos per crear un webhook:

<Steps>
1. A la pàgina de webhooks, fes clic al botó `Create new webhook`.
2. ***Nom*** Dona un nom al teu webhook. *p. ex. Wink Stalker*
3. ***Habilitar*** Deixa-ho tal qual per estar habilitat.
4. **Nom de l’entitat** Enllaça el teu webhook amb un dels teus comptes existents. *p. ex. Cool Account*
5. **Esdeveniments** Escolta els esdeveniments que t’interessen. *p. ex. `booking.created`*
6. **URL del webhook** Introdueix la URL on escoltaràs els esdeveniments nostres. *p. ex. `https://my.system.com/webhook/wink`*
7. Fes clic al botó `Save` per continuar.
</Steps>

Seràs redirigit a la teva llista de webhooks i el teu nou webhook estarà llest per utilitzar.

## Actualitzar webhook

Hauràs d’actualitzar la teva app si vols:

- Deshabilitar el teu webhook.
- Escoltar més o menys esdeveniments.
- Canviar la URL del webhook on escoltes.

Per actualitzar un webhook existent, fes el següent:

<Steps>
1. Fes clic a l’enllaç `Actions` del webhook que vols actualitzar.
2. Fes clic al botó `Update` sota Actions.
3. Fes els canvis al webhook.
4. Fes clic al botó `Save` per continuar.
</Steps>

Seràs redirigit a la teva llista de webhooks.

## Eliminar webhook

Si ja no necessites el webhook, pots eliminar-lo.

Per eliminar un webhook, fes el següent:

<Steps>
1. Fes clic a l’enllaç `Actions` del webhook que vols eliminar.
2. Fes clic al botó `Remove` sota Actions.
3. Fes clic al botó `OK` per confirmar l’eliminació.
</Steps>

Seràs redirigit a la teva llista de webhooks.
