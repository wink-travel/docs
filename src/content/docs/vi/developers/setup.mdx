---
title: Thiết lập
description: Bài viết này hướng dẫn bạn cách nhanh chóng thiết lập làm nhà phát triển và bắt đầu thử nghiệm các API của chúng tôi trên Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Bài viết này hướng dẫn bạn cách nhanh chóng thiết lập làm nhà phát triển và bắt đầu thử nghiệm các API của chúng tôi trên Wink.

:::note
Việc thử nghiệm nên luôn được thực hiện trong [môi trường staging](/getting-started/environments). Ở đó có ít dữ liệu hơn nhiều nhưng bạn có thể thoải mái thử nghiệm mà không ảnh hưởng đến môi trường sản xuất.

Khi bạn sẵn sàng ra mắt, chúng tôi sẽ chứng nhận tài khoản và ứng dụng của bạn để bạn có thể triển khai trong môi trường sản xuất.
:::

Thực hiện theo các bước sau:

<Steps>
1. [Đăng ký](/user/register) tài khoản người dùng trên Wink
2. Tạo một [tài khoản đại lý du lịch](/travel-agent/what-is-agent) hoặc một [tài khoản đối tác](/studio/what-is-studio).
3. [Tạo một Ứng dụng](/developer/applications) và liên kết nó với tài khoản bạn đã tạo ở Bước 2.
4. Sau khi tạo `Application`, hãy lưu client-id và client secret ở nơi an toàn.
</Steps>

## CDN

Tại Wink, chúng tôi sử dụng Cloudinary cho tất cả tài sản hình ảnh và video. Khi truy cập kho du lịch của chúng tôi, bạn sẽ có quyền truy cập đầy đủ vào tất cả các tính năng nâng cao của Cloudinary.

`cloud_name` của chúng tôi là `traveliko`.

### Cloudinary

- [Bắt đầu](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary trên GitHub](https://github.com/cloudinary)
-	[Video Hướng dẫn](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Ví dụ

Đối với mỗi loại kho du lịch mà chúng tôi hỗ trợ, sẽ có một mảng JSON lồng nhau gọi là `multimedias`. JSON cho một mục đa phương tiện trông như sau:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Dòng được tô sáng ở trên cho thấy ID duy nhất của Cloudinary `partners/radisson_blu_logo`. Đó là tất cả những gì bạn cần để lấy hình ảnh ở bất kỳ định dạng, chất lượng và kích thước nào bạn muốn.

## Thử nghiệm

Hãy truy cập vào phần [APIs](/developer/apis) của chúng tôi và chọn API bạn muốn làm việc.

### Tài liệu API

Trang tài liệu của chúng tôi được thiết lập sao cho bạn có thể chạy các lệnh API ngay trong trang.

Trong ví dụ này, bạn muốn sử dụng lệnh gọi API `Search Lookups (OAuth2)`.

:::tip[ mẹo chuyên nghiệp ]
Để dễ sử dụng, chúng tôi khuyên các nhà tích hợp sử dụng các điểm cuối mà chúng tôi chỉ định là `OAuth2`. Các điểm cuối đó biết sẽ nhận các cuộc gọi API và đã biết tài khoản bạn đang dùng nên bạn không cần phải chỉ định `companyIdentifier` trong URL.
:::

<Steps>
1. Sử dụng [Lookup API](https://developer.wink.travel/lookup) để truy xuất điểm đến hoặc khách sạn.
2. Trong thanh điều hướng bên trái, nhấp vào `Authentication`.
3. Nhập client-id và client secret của bạn rồi nhấn nút `Get TOKEN`.
4. Nếu thông tin xác thực hợp lệ, bạn sẽ thấy khóa API của mình đã được áp dụng.
5. Bây giờ bạn có thể thử nghiệm điểm cuối lookup.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Điểm cuối API Lookup"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Ví dụ Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Bạn cũng có thể làm tương tự với Postman.

<Steps>
1. Tải xuống [Postman](https://www.postman.com/downloads).
2. Nhấp vào `Download OpenAPI spec` ở đầu trang [Lookup API](https://developer.wink.travel/lookup).
3. Nhập nó vào Postman.
4. Nếu bạn nhập nó dưới dạng bộ sưu tập mới có tên `Wink API`, nhấp vào dấu ba chấm ngang (3 chấm) bên cạnh tên bộ sưu tập và chọn `Edit`.
5. Trong tab `Authorization`, đặt `Auth type` thành OAuth2.
6. Đặt trường `Add auth data to` thành `Request headers`.
7. Đặt trường `Header prefix` thành `Bearer`.
8. Đặt trường `Token Name` thành tên bạn muốn đặt cho token đã lưu trong Postman, ví dụ: Wink Staging.
9. Đặt trường `Grant type` thành `Client Credentials`.
10. Đặt trường `Access token URL` thành https://staging-iam.wink.travel/oauth2/token.
11. Đặt trường `Client ID` thành Client ID mà ứng dụng của bạn đã tạo.
12. Đặt trường `Client Secret` thành Client Secret mà ứng dụng của bạn đã tạo.
13. Đặt trường `Scope` thành `inventory.read inventory.write inventory.remove`. Đây là tất cả các phạm vi bạn cần cho Wink.
14. Đặt trường `Client Authentication` thành `Send as Basic Auth header`.
15. Nhấn nút `Get New Access Token` để lấy token và lưu lại.
16. Đối với tất cả các cuộc gọi API trong bộ sưu tập Wink API, đảm bảo tab xác thực hiển thị `Inherit auth from parent` để bao gồm token của bạn trong mỗi cuộc gọi.
</Steps>

:::tip[ mẹo chuyên nghiệp ]
Khuyến nghị biến tên miền máy chủ, client ID và client secret thành biến môi trường. Bằng cách đó bạn có thể dễ dàng chuyển đổi giữa môi trường staging và sản xuất và tái sử dụng tất cả các thao tác bạn đã tạo.
:::
