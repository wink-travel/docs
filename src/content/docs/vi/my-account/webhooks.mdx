---
title: Webhooks
description: Đăng ký nhận sự kiện từ Wink và TripPay.
sidebar:
  order: 11
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks là cách để bạn nhận và phản hồi các sự kiện thời gian thực từ Wink cho tài khoản của bạn.

<Steps>
 1. Chọn tài khoản bạn muốn làm việc từ [Accounts](https://my.wink.travel).
 2. Nhấn vào `Actions` ở dưới cùng của thẻ tài khoản và chọn `Manage account`.
 3. Nhấn vào tab `Webhooks` trên trang tiếp theo.
 4. Phần này sẽ liệt kê tất cả các webhook của bạn.
 5. Chọn chỉnh sửa một webhook hiện có hoặc tạo mới.
 </Steps>

## Ví dụ

<Steps>
1. Một đặt phòng xảy ra trên Wink.
1. Sự kiện Wink `booking.created` được phát đi.
2. Hệ thống của bạn đang lắng nghe sự kiện này.
3. Hệ thống của bạn theo dõi bộ phân tích riêng và sử dụng sự kiện này để cập nhật cơ sở dữ liệu chuỗi thời gian.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Mẫu webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Mẫu mục nhập webhook*</figcaption>
</figure>

## Tạo webhook

:::caution
Bạn cần tạo tài khoản đại lý trên Wink hoặc tài khoản trên TripPay trước khi tạo webhook vì bạn sẽ liên kết webhook với một tài khoản cụ thể.
:::

Dưới đây là các bước để tạo webhook:

<Steps>
1. Từ trang webhooks, nhấn nút `Create new webhook`.
2. ***Name*** Đặt tên cho webhook của bạn. *ví dụ: Wink Stalker*
3. ***Enable*** Giữ nguyên để kích hoạt.
4. **Entity name** Liên kết webhook với một trong các tài khoản hiện có của bạn. *ví dụ: Cool Account*
5. **Events** Lắng nghe các sự kiện bạn quan tâm. *ví dụ: `booking.created`*
6. **Webhook URL** Nhập URL nơi bạn sẽ lắng nghe các sự kiện từ chúng tôi. *ví dụ: `https://my.system.com/webhook/wink`*
7. Nhấn nút `Save` để tiếp tục.
</Steps>

Bạn sẽ được chuyển hướng trở lại danh sách webhook và webhook mới của bạn đã sẵn sàng sử dụng.

## Cập nhật webhook

Bạn cần cập nhật ứng dụng nếu muốn:

- Vô hiệu hóa webhook.
- Lắng nghe nhiều hơn / ít hơn các sự kiện.
- Thay đổi URL webhook lắng nghe.

Để cập nhật một webhook hiện có, làm như sau:

<Steps>
1. Nhấn liên kết `Actions` cho webhook bạn muốn cập nhật.
2. Nhấn nút `Update` dưới phần Actions.
3. Thực hiện các thay đổi cho webhook.
4. Nhấn nút `Save` để tiếp tục.
</Steps>

Bạn sẽ được chuyển hướng trở lại danh sách webhook.

## Xóa webhook

Nếu bạn không còn sử dụng webhook nữa, bạn có thể xóa nó.

Để xóa một webhook, làm như sau:

<Steps>
1. Nhấn liên kết `Actions` cho webhook bạn muốn xóa.
2. Nhấn nút `Remove` dưới phần Actions.
3. Nhấn nút `OK` để xác nhận xóa.
</Steps>

Bạn sẽ được chuyển hướng trở lại danh sách webhook.
