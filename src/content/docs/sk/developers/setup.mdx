---
title: Nastavenie
description: Tento článok vám ukáže, ako sa rýchlo nastaviť ako vývojár a začať testovať naše API na Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Tento článok vám ukáže, ako sa rýchlo nastaviť ako vývojár a začať testovať naše API na Wink.

:::note
Testovanie by malo vždy prebiehať v našom [staging prostredí](/getting-started/environments). Je tam oveľa menej dát, ale môžete testovať koľko chcete bez toho, aby ste zasahovali do produkčného prostredia.

Keď budete pripravení spustiť produkciu, overíme váš účet a vašu aplikáciu a môžete spustiť prevádzku v našom produkčnom prostredí.
:::

Postupujte podľa týchto krokov:

<Steps>
1. [Zaregistrujte sa](/user/register) ako používateľ na Wink
2. Vytvorte si [účet cestovnej kancelárie](/travel-agent/what-is-agent) alebo [partnerský účet](/studio/what-is-studio).
3. [Vytvorte aplikáciu](/developer/applications), ktorú priradíte k účtu vytvorenému v kroku 2.
4. Po vytvorení `Application` si bezpečne uložte client-id a client secret.
</Steps>

## CDN

Na Wink používame Cloudinary pre všetky naše obrazové a video súbory. Keď pristupujete k nášmu cestovnému inventáru, máte plný prístup ku všetkým pokročilým funkciám Cloudinary.

Naše `cloud_name` je `traveliko`.

### Cloudinary

- [Začíname](https://cloudinary.com/documentation/dev_kickstart)
- [SDK](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary na GitHub](https://github.com/cloudinary)
-	[Video návody](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Príklad

Pre každý typ cestovného inventára, ktorý podporujeme, existuje vnorené JSON pole nazvané `multimedias`. JSON pre multimediálnu položku vyzerá takto:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Obrázok lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Zvýraznený riadok ukazuje unikátne ID Cloudinary `partners/radisson_blu_logo`. To je všetko, čo potrebujete na získanie obrázka v ľubovoľnom formáte, kvalite a veľkosti.

## Testovanie

Prejdite do sekcie našich [API](/developer/apis) a vyberte API, s ktorým chcete pracovať.

### Dokumentácia API

Naša dokumentácia je nastavená tak, že môžete spúšťať API príkazy priamo zo stránky.

V tomto príklade chcete použiť API volanie `Search Lookups (OAuth2)`.

:::tip[Profesionálna rada]
Pre jednoduchšie používanie odporúčame integrátorom používať endpointy označené ako `OAuth2`. Tieto endpointy vedia očakávať volania API a už vedia, na ktorom účte ste, takže nemusíte špecifikovať `companyIdentifier` v URL.
:::

<Steps>
1. Použite [Lookup API](https://developer.wink.travel/lookup) na získanie destinácií alebo hotelov.
2. V ľavom navigačnom paneli kliknite na `Authentication`.
3. Zadajte svoj client-id a client secret a kliknite na tlačidlo `Get TOKEN`.
4. Ak sú vaše údaje platné, uvidíte, že váš API kľúč bol aplikovaný.
5. Teraz môžete testovať lookup endpoint.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API endpoint"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Ukážka Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
To isté môžete urobiť aj pomocou Postman.

<Steps>
1. Stiahnite si [Postman](https://www.postman.com/downloads).
2. Kliknite na `Download OpenAPI spec` v hornej časti stránky [Lookup API](https://developer.wink.travel/lookup).
3. Importujte ho do Postman.
4. Ak ste ho importovali ako novú kolekciu s názvom `Wink API`, kliknite na horizontálne tri bodky vedľa názvu kolekcie a vyberte `Edit`.
5. V záložke `Authorization` nastavte `Auth type` na OAuth2.
6. Nastavte pole `Add auth data to` na `Request headers`.
7. Nastavte pole `Header prefix` na `Bearer`.
8. Nastavte pole `Token Name` na ľubovoľný názov, pod ktorým chcete token uložiť v Postman, napr. Wink Staging.
9. Nastavte pole `Grant type` na `Client Credentials`.
10. Nastavte pole `Access token URL` na https://staging-iam.wink.travel/oauth2/token.
11. Nastavte pole `Client ID` na Client ID, ktoré vám pomohla vygenerovať vaša aplikácia.
12. Nastavte pole `Client Secret` na Client Secret, ktoré vám pomohla vygenerovať vaša aplikácia.
13. Nastavte pole `Scope` na `inventory.read inventory.write inventory.remove`. To sú všetky scope, ktoré budete pre Wink potrebovať.
14. Nastavte pole `Client Authentication` na `Send as Basic Auth header`.
15. Kliknite na tlačidlo `Get New Access Token` pre získanie tokenu a jeho uloženie.
16. Pre všetky API volania v kolekcii Wink API sa uistite, že záložka autentifikácie hovorí `Inherit auth from parent`, aby sa token pridal ku každému volaniu.
</Steps>

:::tip[Profesionálna rada]
Odporúča sa nastaviť doménu servera, client ID a client secret ako premenné prostredia. Takto môžete jednoducho prepínať medzi staging a produkčným prostredím a znovu používať všetky vytvorené operácie.
:::
