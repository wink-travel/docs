---
title: הגדרה
description: מאמר זה מראה כיצד להגדיר במהירות כמפתח ולהתחיל לבדוק את ה-APIs שלנו ב-Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

מאמר זה מראה כיצד להגדיר במהירות כמפתח ולהתחיל לבדוק את ה-APIs שלנו ב-Wink.

:::note
הבדיקות צריכות להתבצע תמיד ב[סביבת הביניים](/he/getting-started/environments). יש שם הרבה פחות נתונים אך אתם חופשיים לבדוק כמה שתרצו מבלי להכביד על סביבת הייצור.

כאשר תהיו מוכנים ללייב, נאשר את החשבון והאפליקציה שלכם ותוכלו להשיק בסביבת הייצור שלנו.
:::

עקבו אחר השלבים הבאים:

<Steps>
1. [הרשמו](/he/user/register) לחשבון המשתמש שלכם ב-Wink
2. צרו [חשבון סוכן נסיעות](/he/travel-agent/what-is-agent) או [חשבון שותף](/he/studio/what-is-studio).
3. [צרו אפליקציה](/he/developer/applications) וקשרו אותה לחשבון שיצרתם בשלב 2.
4. לאחר שיצרתם את ה-`Application`, שמרו את ה-client-id וה-client secret במקום בטוח.
</Steps>

## CDN

ב-Wink, אנו משתמשים ב-Cloudinary לכל נכסי התמונה והווידאו שלנו. כשאתם ניגשים למלאי הנסיעות שלנו, תקבלו גישה מלאה לכל התכונות המתקדמות של Cloudinary.

ה-`cloud_name` שלנו הוא `traveliko`.

### Cloudinary

- [התחלה מהירה](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary ב-GitHub](https://github.com/cloudinary)
-	[מדריכי וידאו](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### דוגמה

לכל סוג מלאי נסיעות שאנו תומכים בו, יהיה מערך JSON מקונן בשם `multimedias`. ה-JSON עבור פריט מולטימדיה נראה כך:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

השורה המסומנת לעיל מציגה את מזהה ה-Cloudinary הייחודי `partners/radisson_blu_logo`. זה כל מה שאתם צריכים כדי לשלוף את התמונה בכל פורמט, איכות וגודל שתרצו.

## בדיקות

גשו לקטגוריית ה-[APIs](/he/developer/apis) שלנו ובחרו את ה-API שברצונכם לעבוד איתו.

### תיעוד API

אתר התיעוד שלנו מוגדר כך שתוכלו להריץ פקודות API מתוך האתר עצמו.

בדוגמה זו, תרצו להשתמש בקריאת ה-API `Search Lookups (OAuth2)`.

:::tip[טיפ מקצועי]
לנוחות השימוש, אנו ממליצים לממשקים להשתמש בנקודות הקצה שאנו מגדירים כ-`OAuth2`. נקודות קצה אלו יודעות לצפות למתקשרים ל-API וכבר יודעות באיזה חשבון אתם נמצאים כך שלא תצטרכו לציין את ה-`companyIdentifier` בכתובות ה-URL שלכם.
:::

<Steps>
1. השתמשו ב-[Lookup API](https://developer.wink.travel/lookup) כדי לשלוף יעדים או מלונות.
2. בסרגל הניווט השמאלי, לחצו על `Authentication`.
3. הזינו את ה-client-id וה-client secret ולחצו על כפתור `Get TOKEN`.
4. אם האישורים שלכם תקפים, תראו שמפתח ה-API שלכם הוחל.
5. כעת תוכלו לבדוק את נקודת הקצה של ה-lookup.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="נקודת קצה של Lookup API"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*דוגמת Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
ניתן לעשות את אותו הדבר עם Postman.

<Steps>
1. הורידו את [Postman](https://www.postman.com/downloads).
2. לחצו על `Download OpenAPI spec` בראש דף ה-[Lookup API](https://developer.wink.travel/lookup).
3. ייבאו אותו ל-Postman.
4. אם ייבאתם אותו כאוסף חדש בשם `Wink API`, לחצו על שלוש הנקודות האופקיות לצד שם האוסף ולחצו על `Edit`.
5. בכרטיסיית `Authorization`, הגדירו את `Auth type` ל-OAuth2.
6. הגדירו את השדה `Add auth data to` ל-`Request headers`.
7. הגדירו את השדה `Header prefix` ל-`Bearer`.
8. הגדירו את השדה `Token Name` לשם שתרצו לתת לטוקן השמור ב-Postman. לדוגמה: Wink Staging.
9. הגדירו את השדה `Grant type` ל-`Client Credentials`.
10. הגדירו את השדה `Access token URL` ל- https://staging-iam.wink.travel/oauth2/token.
11. הגדירו את השדה `Client ID` ל-Client ID שנוצר עבור האפליקציה שלכם.
12. הגדירו את השדה `Client Secret` ל-Client Secret שנוצר עבור האפליקציה שלכם.
13. הגדירו את השדה `Scope` ל-`inventory.read inventory.write inventory.remove`. אלו כל ההרשאות שתצטרכו עבור Wink.
14. הגדירו את השדה `Client Authentication` ל-`Send as Basic Auth header`.
15. לחצו על כפתור `Get New Access Token` כדי לקבל את הטוקן ולשמור אותו.
16. בכל קריאות ה-API תחת אוסף Wink API, ודאו שכרטיסיית האימות אומרת `Inherit auth from parent` כדי שהטוקן שלכם ייכלל בכל קריאה.
</Steps>

:::tip[טיפ מקצועי]
מומלץ להפוך את דומיין השרת, ה-client ID וה-client secret למשתני סביבה. כך תוכלו לעבור בקלות בין סביבת הביניים לסביבת הייצור ולשימוש חוזר בכל הפעולות שיצרתם.
:::
