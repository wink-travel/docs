---
title: Configuração
description: Este artigo mostra como configurar rapidamente como desenvolvedor e começar a testar nossas APIs no Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Este artigo mostra como configurar rapidamente como desenvolvedor e começar a testar nossas APIs no Wink.

:::note
Os testes devem sempre ocorrer em nosso [ambiente de staging](/getting-started/environments). Há muito menos dados lá, mas você pode testar o quanto quiser sem impactar o ambiente de produção.

Quando estiver pronto para ir ao ar, certificaremos sua conta e sua aplicação para que você possa lançar no nosso ambiente de produção.
:::

Siga estes passos:

<Steps>
1. [Registre-se](/user/register) com sua conta de usuário no Wink
2. Crie uma [conta de agente de viagens](/travel-agent/what-is-agent) ou uma [conta de afiliado](/studio/what-is-studio).
3. [Crie uma Aplicação](/developer/applications) associando-a à conta criada no Passo 2.
4. Depois de criar sua `Application`, guarde o client-id e o client secret em um local seguro.
</Steps>

## CDN

No Wink, usamos Cloudinary para todos os nossos ativos de imagem e vídeo. Ao acessar nosso inventário de viagens, você terá acesso completo a todos os recursos avançados do Cloudinary.

Nosso `cloud_name` é `traveliko`.

### Cloudinary

- [Começando](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary no GitHub](https://github.com/cloudinary)
-	[Tutoriais em Vídeo](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Exemplo

Para cada tipo de inventário de viagem que suportamos, haverá um array JSON aninhado chamado `multimedias`. O JSON para uma entrada multimídia é assim:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Foto do lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

A linha destacada acima mostra o ID único do Cloudinary `partners/radisson_blu_logo`. Isso é tudo que você precisa para recuperar a imagem em qualquer formato, qualidade e tamanho que desejar.

## Testes

Acesse nossa seção de [APIs](/developer/apis) e escolha a API com a qual deseja trabalhar.

### Documentação da API

Nosso site de documentação está configurado para que você possa executar comandos da API diretamente no site.

Neste exemplo, você quer usar a chamada da API `Search Lookups (OAuth2)`.

:::tip[Dica Profissional]
Para facilitar o uso, recomendamos que os integradores utilizem os endpoints que designamos como `OAuth2`. Esses endpoints já sabem que são chamadas de API e já identificam a conta em que você está, então você não precisa especificar o `companyIdentifier` nas suas URLs.
:::

<Steps>
1. Use a [Lookup API](https://developer.wink.travel/lookup) para recuperar destinos ou hotéis.
2. Na barra lateral esquerda, clique em `Authentication`.
3. Insira seu client-id e client secret e clique no botão `Get TOKEN`.
4. Se suas credenciais forem válidas, você verá que sua chave de API foi aplicada.
5. Agora você pode testar o endpoint de lookup.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Endpoint da API Lookup"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemplo de Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Você pode fazer o mesmo usando o Postman.

<Steps>
1. Baixe o [Postman](https://www.postman.com/downloads).
2. Clique em `Download OpenAPI spec` no topo da página da [Lookup API](https://developer.wink.travel/lookup).
3. Importe para o Postman.
4. Se você importou como uma nova coleção chamada `Wink API`, clique no elipse horizontal (3 pontos) ao lado do nome da coleção e clique em `Edit`.
5. Na aba `Authorization`, defina o `Auth type` para OAuth2.
6. Defina o campo `Add auth data to` para `Request headers`.
7. Defina o campo `Header prefix` para `Bearer`.
8. Defina o campo `Token Name` para o nome que desejar para seu token salvo no Postman. Exemplo: Wink Staging.
9. Defina o campo `Grant type` para `Client Credentials`.
10. Defina o campo `Access token URL` para https://staging-iam.wink.travel/oauth2/token.
11. Defina o campo `Client ID` para o Client ID gerado pela sua aplicação.
12. Defina o campo `Client Secret` para o Client Secret gerado pela sua aplicação.
13. Defina o campo `Scope` para `inventory.read inventory.write inventory.remove`. Esses são todos os escopos que você precisará para o Wink.
14. Defina o campo `Client Authentication` para `Send as Basic Auth header`.
15. Clique no botão `Get New Access Token` para recuperar seu token e salvá-lo.
16. Para todas as chamadas de API na coleção Wink API, certifique-se de que a aba de autenticação esteja com `Inherit auth from parent` para incluir seu token em todas as chamadas.
</Steps>

:::tip[Dica Profissional]
Recomendamos transformar o domínio do servidor, client ID e client secret em variáveis de ambiente. Assim, você pode alternar facilmente entre os ambientes de staging e produção e reutilizar todas as operações que criou.
:::
