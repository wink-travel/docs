---
title: Webhooks
description: Inscreva-se nos eventos do Wink e do TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks são uma maneira de você receber e reagir a eventos em tempo real do Wink e do TripPay relacionados à sua conta.

## Exemplo

<Steps>
  1. Uma reserva ocorre no Wink.
  2. O evento Wink `booking.created` é despachado.
  3. Seu sistema está escutando ativamente este evento.
  4. Seu sistema rastreia seu próprio conjunto de análises e usa esse evento para atualizar seu banco de dados de séries temporais.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Exemplo de webhook" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Exemplo de entrada de webhook*</figcaption>
</figure>


:::nota
Um webhook Wink é diferente de um webhook TripPay.

* Se você quiser ouvir eventos do Wink, você pode criar um webhook a partir de[Extranet](https://extranet.wink.travel) ou [Estúdio](https://studio.wink.travel).
* Se você quiser ouvir os eventos do TripPay, você pode criar um webhook em[Pagamento](https://pay.wink.travel).
  :::

*Para este exemplo, iremos autenticar via[Estúdio](https://studio.wink.travel).*

<Steps>
  1. Após a autenticação, clique no ícone do seu perfil, no canto superior direito, e um menu aparecerá.
  2. Clique no `Webhooks` link.
  3. Você será redirecionado para sua página de webhooks.
</Steps>


## Criar webhook

:::Atenção
Você precisa criar uma conta de afiliado no Wink ou uma conta no TripPay antes de criar um webhook, pois você vinculará seu webhook a uma conta específica.
:::

Aqui estão as etapas para criar um webhook:

<Steps>
  1. Na página de webhooks, clique em `Create new webhook` botão.
  2. ***Nome*** Dê um nome ao seu webhook. *por exemplo Wink Stalker*
  3. ***Habilitar*** Deixe como está para ser habilitado.
  4. **Nome da entidade** Vincule seu webhook a uma de suas contas existentes. *por exemplo, Conta Legal*
  5. **Eventos** Ouça os eventos que lhe interessam. *por exemplo `booking.created`*
  6. **URL do webhook** Insira a URL onde você ouvirá nossos eventos. *por exemplo `https://my.system.com/webhook/wink`*
  7. Clique no `Save` botão para continuar.
</Steps>


Você será redirecionado de volta para sua lista de webhooks e seu novo webhook estará pronto para ser usado.

## Atualizar webhook

Você precisará atualizar seu aplicativo se quiser:

* Desabilite seu webhook.
* Ouça mais / menos eventos.
* Altere a URL do seu webhook de escuta.

Para atualizar um webhook existente, faça o seguinte:

<Steps>
  1. Clique no `Actions` link para o webhook que você deseja atualizar.
  2. Clique no `Update` botão em Ações.
  3. Faça suas alterações no webhook.
  4. Clique no `Save` botão para continuar.
</Steps>


Você será redirecionado de volta para sua lista de webhooks.

## Remover webhook

Se você não tiver mais utilidade para o webhook, você pode prosseguir e removê-lo.

Para remover um webhook, faça o seguinte:

<Steps>
  1. Clique no `Actions` link para o webhook que você deseja atualizar.
  2. Clique no `Remove` botão em Ações.
  3. Clique `OK` botão para confirmar a exclusão.
</Steps>


Você será redirecionado de volta para sua lista de webhooks.

