---
title: Webhooks
description: Inscreva-se para eventos do Wink e TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks são uma forma de você receber e reagir a eventos em tempo real do Wink e TripPay relacionados à sua conta.

## Exemplo

<Steps>
1. Uma reserva ocorre no Wink.
1. O evento do Wink `booking.created` é disparado.
2. Seu sistema está ativamente escutando esse evento.
3. Seu sistema acompanha seu próprio conjunto de análises e usa esse evento para atualizar seu banco de dados de séries temporais.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Exemplo de webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemplo de entrada de webhook*</figcaption>
</figure>

:::note
Um webhook do Wink é diferente de um webhook do TripPay.

- Se você quiser escutar eventos do Wink, pode criar um webhook pelo [Extranet](https://extranet.wink.travel) ou pelo [Studio](https://studio.wink.travel).
- Se você quiser escutar eventos do TripPay, pode criar um webhook pelo [Payment](https://pay.wink.travel).
:::

*Para este exemplo, vamos autenticar via [Studio](https://studio.wink.travel).*

<Steps>
1. Uma vez autenticado, clique no ícone do seu perfil, no canto superior direito, e um menu aparecerá.
2. Clique no link `Webhooks`.
3. Você será redirecionado para a página dos seus webhooks.
</Steps>

## Criar webhook

:::caution
Você precisa criar uma conta de afiliado no Wink ou uma conta no TripPay antes de criar um webhook, pois você irá vincular seu webhook a uma conta específica.
:::

Aqui estão os passos para criar um webhook:

<Steps>
1. Na página de webhooks, clique no botão `Create new webhook`.
2. ***Nome*** Dê um nome ao seu webhook. *ex: Wink Stalker*
3. ***Habilitar*** Deixe como está para que fique habilitado.
4. **Nome da entidade** Vincule seu webhook a uma das suas contas existentes. *ex: Cool Account*
5. **Eventos** Escute os eventos que lhe interessam. *ex: `booking.created`*
6. **URL do webhook** Insira a URL onde você estará escutando os eventos enviados por nós. *ex: `https://my.system.com/webhook/wink`*
7. Clique no botão `Save` para continuar.
</Steps>

Você será redirecionado de volta para sua lista de webhooks e seu novo webhook estará pronto para uso.

## Atualizar webhook

Você precisará atualizar seu app se quiser:

- Desabilitar seu webhook.
- Escutar mais/menos eventos.
- Alterar a URL do webhook que está escutando.

Para atualizar um webhook existente, faça o seguinte:

<Steps>
1. Clique no link `Actions` do webhook que deseja atualizar.
2. Clique no botão `Update` em Ações.
3. Faça as alterações no webhook.
4. Clique no botão `Save` para continuar.
</Steps>

Você será redirecionado de volta para sua lista de webhooks.

## Remover webhook

Se você não precisar mais do webhook, pode removê-lo.

Para remover um webhook, faça o seguinte:

<Steps>
1. Clique no link `Actions` do webhook que deseja remover.
2. Clique no botão `Remove` em Ações.
3. Clique no botão `OK` para confirmar a exclusão.
</Steps>

Você será redirecionado de volta para sua lista de webhooks.
