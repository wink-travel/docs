---
title: Webhooks
description: Liitu Winki ja TripPay üritustega.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooksid on viis, kuidas saate Winkilt ja TripPaylt oma kontot puudutavaid reaalajas sündmusi vastu võtta ja neile reageerida.

## Näide

<Steps>
  1. Winkis toimub broneering.
  2. Winki üritus `booking.created` saadetakse ära.
  3. Teie süsteem kuulab seda sündmust aktiivselt.
  4. Teie süsteem jälgib teie enda analüütikakomplekti ja kasutab seda sündmust oma ajasarja andmebaasi värskendamiseks.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Näidisveebikonks" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Näidisveebihooki kirje*</figcaption>
</figure>


:::note
Winki veebikonks erineb TripPay veebikonksust.

* Kui soovite Winki sündmusi kuulata, saate luua veebihooki siit [Ekstranet](https://extranet.wink.travel) või[Stuudio](https://studio.wink.travel).
* Kui soovite kuulata TripPay üritusi, saate luua veebikonksu aadressilt[Makse](https://pay.wink.travel).
  :::

*Selle näite puhul autentime läbi[Stuudio](https://studio.wink.travel).*

<Steps>
  1. Kui olete autentinud, klõpsake oma profiiliikoonil paremas ülanurgas ja kuvatakse menüü.
  2. Klõpsake nuppu `Webhooks` link.
  3. Teid suunatakse teie veebikonksude lehele.
</Steps>


## Loo veebikonks

:::ettevaatust
Enne veebikonksu loomist peate looma partnerluskonto Winkis või konto TripPays, kuna seote oma veebikonksu kindla kontoga.
:::

Veebikonksu loomise sammud on järgmised:

<Steps>
  1. Klõpsake veebikonksude lehel nuppu `Create new webhook` nupp.
  2. ***Nimi*** Andke oma veebikonksule nimi. *nt. Silmapilgutaja*
  3. ***Luba*** Lubatud olekus jätke see sisse.
  4. **Üksuse nimi** Ühenda oma veebikonks ühe olemasoleva kontoga. *nt Lahe Konto*
  5. **Sündmused** Kuulake sündmusi, mis teid huvitavad. *nt `booking.created`*
  6. **Veebikonksu URL** Sisesta URL, kust sa meie sündmusi kuulama hakkad. *nt `https://my.system.com/webhook/wink`*
  7. Klõpsake nuppu `Save` nuppu jätkamiseks.
</Steps>


Teid suunatakse tagasi teie veebikonksude loendisse ja teie uus veebikonks on kasutusvalmis.

## Veebikonksu värskendamine

Rakendust tuleb uuendada, kui soovite:

* Keela oma veebikonks.
* Kuula rohkem/vähem sündmusi.
* Muutke oma kuulamisveebikonksu URL-i.

Olemasoleva veebikonksu värskendamiseks tehke järgmist.

<Steps>
  1. Klõpsake nuppu `Actions` link veebikonksule, mida soovite värskendada.
  2. Klõpsake nuppu `Update` nupp jaotises Toimingud.
  3. Tehke veebihookis oma muudatused.
  4. Klõpsake nuppu `Save` nuppu jätkamiseks.
</Steps>


Teid suunatakse tagasi teie veebikonksude loendisse.

## Eemalda veebikonks

Kui teil pole veebikonksu enam vaja, võite selle eemaldada.

Webhooki eemaldamiseks tehke järgmist.

<Steps>
  1. Klõpsake nuppu `Actions` link veebikonksule, mida soovite värskendada.
  2. Klõpsake nuppu `Remove` nupp jaotises Toimingud.
  3. Klõps `OK` nuppu kustutamise kinnitamiseks.
</Steps>


Teid suunatakse tagasi teie veebikonksude loendisse.

