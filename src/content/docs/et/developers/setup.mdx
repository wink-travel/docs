---
title: Seadistamine
description: See artikkel näitab, kuidas kiiresti arendajana seadistuda ja alustada meie API-de testimist Winkis.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

See artikkel näitab, kuidas kiiresti arendajana seadistuda ja alustada meie API-de testimist Winkis.

:::note
Testimine peaks alati toimuma meie [testkeskkonnas](/getting-started/environments). Seal on palju vähem andmeid, kuid võid testida nii palju kui soovid, ilma tootmiskeskkonda koormamata.

Kui oled valmis tootmiskeskkonda minema, sertifitseerime sinu konto ja rakenduse ning saad käivitada tootmiskeskkonnas.
:::

Järgi neid samme:

<Steps>
1. [Registreeri](/user/register) oma kasutajakonto Winkis
2. Loo [reisibüroo konto](/travel-agent/what-is-agent) või [affiliate konto](/studio/what-is-studio).
3. [Loo rakendus](/developer/applications), kus seod selle 2. sammus loodud kontoga.
4. Kui oled loonud oma `Application`, salvesta client-id ja client secret turvalisse kohta.
</Steps>

## CDN

Winkis kasutame kõigi piltide ja videote haldamiseks Cloudinaryt. Kui pääsed ligi meie reisivarudele, on sul täielik ligipääs Cloudinary kõigile täiustatud funktsioonidele.

Meie `cloud_name` on `traveliko`.

### Cloudinary

- [Alustamine](https://cloudinary.com/documentation/dev_kickstart)
- [SDK-d](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary GitHubis](https://github.com/cloudinary)
-	[Videoõpetused](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Näide

Iga toetatud reisivarude tüübi puhul on olemas pesastatud JSON-massiiv nimega `multimedias`. Multimeedia kirje JSON näeb välja selline:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Pilt fuajees",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Ülaltoodud esiletõstetud rida näitab Cloudinary unikaalset ID-d `partners/radisson_blu_logo`. See on kõik, mida vajad pildi hankimiseks mis tahes formaadis, kvaliteedis ja suuruses.

## Testimine

Mine meie [API-de](/developer/apis) sektsiooni ja vali API, millega soovid töötada.

### API dokumentatsioon

Meie dokumentatsioonisait on üles seatud nii, et saad API käske otse saidilt käivitada.

Selles näites soovid kasutada `Search Lookups (OAuth2)` API kõnet.

:::tip[Pro näpunäide]
Mugavuse huvides soovitame integreerijatel kasutada meie määratud `OAuth2` lõpp-punkte. Need lõpp-punktid ootavad API-kõne tegijaid ja teavad juba, millise kontoga oled, nii et sa ei pea URL-ides `companyIdentifier`i määrama.
:::

<Steps>
1. Kasuta [Lookup API-d](https://developer.wink.travel/lookup) sihtkohtade või hotellide pärimiseks.
2. Vasakul navigeerimisribal klõpsa `Authentication`.
3. Sisesta oma client-id ja client secret ning klõpsa `Get TOKEN` nuppu.
4. Kui sinu volitused on kehtivad, näed, et sinu API võti on rakendatud.
5. Nüüd saad testida lookup lõpp-punkti.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API lõpp-punkt"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Näidis Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Sama saad teha ka Postmaniga.

<Steps>
1. Laadi alla [Postman](https://www.postman.com/downloads).
2. Klõpsa `Download OpenAPI spec` nupule [Lookup API](https://developer.wink.travel/lookup) lehe ülaosas.
3. Impordi see Postmani.
4. Kui impordisid selle uue kollektsioonina nimega `Wink API`, klõpsa kollektsiooni nime kõrval horisontaalsele ellipsile (3 punkti) ja vali `Edit`.
5. `Authorization` vahekaardil sea `Auth type` väärtuseks OAuth2.
6. Sea `Add auth data to` väärtuseks `Request headers`.
7. Sea `Header prefix` väärtuseks `Bearer`.
8. Sea `Token Name` väärtuseks nimi, mida soovid oma salvestatud tokenile Postmanis anda, nt Wink Staging.
9. Sea `Grant type` väärtuseks `Client Credentials`.
10. Sea `Access token URL` väärtuseks https://staging-iam.wink.travel/oauth2/token.
11. Sea `Client ID` väärtuseks kliendi ID, mille sinu rakendus aitas genereerida.
12. Sea `Client Secret` väärtuseks kliendi salajane võti, mille sinu rakendus aitas genereerida.
13. Sea `Scope` väärtuseks `inventory.read inventory.write inventory.remove`. Need on kõik Wink jaoks vajalikud õigused.
14. Sea `Client Authentication` väärtuseks `Send as Basic Auth header`.
15. Klõpsa `Get New Access Token` nuppu, et token kätte saada ja salvestada.
16. Kõigi Wink API kollektsiooni kõnede puhul veendu, et autentimisvahekaart ütleb `Inherit auth from parent`, et token kaasata igasse kõnesse.
</Steps>

:::tip[Pro näpunäide]
Soovitame muuta serveri domeeni, kliendi ID ja kliendi salajase võtme keskkonnamuutujateks. Nii saad lihtsalt vahetada test- ja tootmiskeskkondade vahel ning taaskasutada kõiki loodud toiminguid.
:::
