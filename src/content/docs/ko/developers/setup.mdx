---
title: 설정
description: 이 문서에서는 개발자로서 빠르게 설정하고 Wink에서 API를 테스트하는 방법을 보여줍니다.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

이 문서에서는 개발자로서 빠르게 설정하고 Wink에서 API를 테스트하는 방법을 보여줍니다.

:::note
테스트는 항상 [스테이징 환경](/getting-started/environments) 에서 진행해야 합니다. 데이터가 훨씬 적지만, 프로덕션 환경에 영향을 주지 않고 원하는 만큼 자유롭게 테스트할 수 있습니다.

라이브 준비가 완료되면, 계정과 애플리케이션을 인증해 드리며 프로덕션 환경에서 출시할 수 있습니다.
:::

다음 단계를 따르세요:

<Steps>
1. Wink에서 사용자 계정을 [등록](/user/register) 하세요.
2. [여행사 계정](/travel-agent/what-is-agent) 또는 [제휴사 계정](/studio/what-is-studio) 을 만드세요.
3. 2단계에서 만든 계정과 연동할 [애플리케이션을 생성](/developer/applications) 하세요.
4. `Application`을 생성한 후, client-id와 client secret을 안전한 곳에 저장하세요.
</Steps>

## CDN

Wink에서는 모든 이미지 및 비디오 자산에 Cloudinary를 사용합니다. 여행 인벤토리에 접근할 때 Cloudinary의 모든 고급 기능을 완전히 이용할 수 있습니다.

우리의 `cloud_name`은 `traveliko`입니다.

### Cloudinary

- [시작하기](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [GitHub의 Cloudinary](https://github.com/cloudinary)
-	[비디오 튜토리얼](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### 예시

지원하는 모든 여행 인벤토리 유형마다 `multimedias`라는 중첩된 JSON 배열이 있습니다. 멀티미디어 항목의 JSON은 다음과 같습니다:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

위 강조된 줄은 Cloudinary 고유 ID `partners/radisson_blu_logo`를 보여줍니다. 이 ID만 있으면 원하는 형식, 품질, 크기로 이미지를 가져올 수 있습니다.

## 테스트

[APIs](/developer/apis) 섹션으로 이동하여 작업할 API를 선택하세요.

### API 문서

문서 사이트는 사이트 내에서 API 명령을 실행할 수 있도록 구성되어 있습니다.

이 예시에서는 `Search Lookups (OAuth2)` API 호출을 사용하려고 합니다.

:::tip[전문가 팁]
사용 편의를 위해, 통합자는 `OAuth2`로 지정된 엔드포인트를 사용하는 것을 권장합니다. 해당 엔드포인트는 API 호출자를 인식하며, URL에 `companyIdentifier`를 명시할 필요가 없습니다.
:::

<Steps>
1. [Lookup API](https://developer.wink.travel/lookup) 를 사용하여 목적지 또는 호텔을 조회하세요.
2. 왼쪽 네비게이션 바에서 `Authentication`을 클릭하세요.
3. client-id와 client secret을 입력하고 `Get TOKEN` 버튼을 클릭하세요.
4. 자격 증명이 유효하면 API 키가 적용된 것을 확인할 수 있습니다.
5. 이제 lookup 엔드포인트를 테스트할 수 있습니다.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API endpoint"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*샘플 Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Postman으로도 동일한 작업을 할 수 있습니다.

<Steps>
1. [Postman](https://www.postman.com/downloads) 을 다운로드하세요.
2. [Lookup API](https://developer.wink.travel/lookup) 페이지 상단에서 `Download OpenAPI spec`을 클릭하세요.
3. Postman에 가져오세요.
4. 새 컬렉션 `Wink API`로 가져왔다면, 컬렉션 이름 옆의 가로 점 3개(더보기)를 클릭하고 `Edit`을 선택하세요.
5. `Authorization` 탭에서 `Auth type`을 OAuth2로 설정하세요.
6. `Add auth data to` 필드를 `Request headers`로 설정하세요.
7. `Header prefix` 필드를 `Bearer`로 설정하세요.
8. `Token Name` 필드에 Postman에서 저장할 토큰 이름을 입력하세요. 예: Wink Staging.
9. `Grant type` 필드를 `Client Credentials`로 설정하세요.
10. `Access token URL` 필드를 https://staging-iam.wink.travel/oauth2/token 으로 설정하세요.
11. `Client ID` 필드에 앱이 생성한 Client ID를 입력하세요.
12. `Client Secret` 필드에 앱이 생성한 Client Secret을 입력하세요.
13. `Scope` 필드를 `inventory.read inventory.write inventory.remove`로 설정하세요. Wink에 필요한 모든 범위입니다.
14. `Client Authentication` 필드를 `Send as Basic Auth header`로 설정하세요.
15. `Get New Access Token` 버튼을 클릭하여 토큰을 받아 저장하세요.
16. Wink API 컬렉션 내 모든 API 호출에서 인증 탭이 `Inherit auth from parent`로 설정되어 있어야 모든 호출에 토큰이 포함됩니다.
</Steps>

:::tip[전문가 팁]
서버 도메인, 클라이언트 ID, 클라이언트 시크릿을 환경 변수로 설정하는 것을 권장합니다. 이렇게 하면 스테이징과 프로덕션 환경 간에 쉽게 전환하고 생성한 모든 작업을 재사용할 수 있습니다.
:::
