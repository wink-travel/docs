---
title: Configuração
description: Este artigo mostra-lhe como configurar rapidamente como programador e começar a testar as nossas APIs na Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Este artigo mostra-lhe como configurar rapidamente como programador e começar a testar as nossas APIs na Wink.

:::note
Os testes devem ser sempre realizados no nosso [ambiente de staging](/getting-started/environments). Há muito menos dados lá, mas pode testar à vontade sem afetar o ambiente de produção.

Quando estiver pronto para ir para produção, iremos certificar a sua conta e a sua aplicação para que possa lançar no nosso ambiente de produção.
:::

Siga estes passos:

<Steps>
1. [Registe-se](/user/register) com a sua conta de utilizador na Wink
2. Crie uma [conta de agente de viagens](/travel-agent/what-is-agent) ou uma [conta de afiliado](/studio/what-is-studio).
3. [Crie uma Aplicação](/developer/applications) onde a associe à conta que criou no Passo 2.
4. Depois de criar a sua `Application`, guarde o client-id e o client secret num local seguro.
</Steps>

## CDN

Na Wink, usamos o Cloudinary para todos os nossos ativos de imagem e vídeo. Quando aceder ao nosso inventário de viagens, terá acesso total a todas as funcionalidades avançadas do Cloudinary.

O nosso `cloud_name` é `traveliko`.

### Cloudinary

- [Introdução](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary no GitHub](https://github.com/cloudinary)
-	[Tutoriais em vídeo](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Exemplo

Para cada tipo de inventário de viagens que suportamos, haverá um array JSON aninhado chamado `multimedias`. O JSON para uma entrada multimédia é assim:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

A linha destacada acima mostra o ID único do Cloudinary `partners/radisson_blu_logo`. É tudo o que precisa para obter a imagem em qualquer formato, qualidade e tamanho que desejar.

## Testes

Dirija-se à nossa secção de [APIs](/developer/apis) e escolha a API com que quer trabalhar.

### Documentação da API

O nosso site de documentação está configurado de forma a que possa executar comandos API diretamente no site.

Neste exemplo, quer usar a chamada API `Search Lookups (OAuth2)`.

:::tip[Pro Dica]
Para facilitar, recomendamos que os integradores usem os endpoints que designamos como `OAuth2`. Esses endpoints sabem que são chamados por APIs e já sabem a que conta pertence, por isso não precisa de especificar o `companyIdentifier` nas suas URLs.
:::

<Steps>
1. Use a [Lookup API](https://developer.wink.travel/lookup) para obter destinos ou hotéis.
2. Na barra lateral esquerda, clique em `Authentication`.
3. Introduza o seu client-id e client secret e clique no botão `Get TOKEN`.
4. Se as suas credenciais forem válidas, verá que a sua chave API foi aplicada.
5. Agora pode testar o endpoint de lookup.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Endpoint da API Lookup"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemplo de Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Pode fazer o mesmo com o Postman.

<Steps>
1. Descarregue o [Postman](https://www.postman.com/downloads).
2. Clique em `Download OpenAPI spec` no topo da página da [Lookup API](https://developer.wink.travel/lookup).
3. Importe-o para o Postman.
4. Se o importou como uma nova coleção chamada `Wink API`, clique nos três pontos horizontais ao lado do nome da coleção e clique em `Edit`.
5. No separador `Authorization`, defina o `Auth type` para OAuth2.
6. Defina o campo `Add auth data to` para `Request headers`.
7. Defina o campo `Header prefix` para `Bearer`.
8. Defina o campo `Token Name` para o nome que quiser dar ao seu token guardado no Postman. Exemplo: Wink Staging.
9. Defina o campo `Grant type` para `Client Credentials`.
10. Defina o campo `Access token URL` para https://staging-iam.wink.travel/oauth2/token.
11. Defina o campo `Client ID` para o Client ID que a sua app ajudou a gerar.
12. Defina o campo `Client Secret` para o Client Secret que a sua app ajudou a gerar.
13. Defina o campo `Scope` para `inventory.read inventory.write inventory.remove`. Estes são todos os scopes que vai precisar para a Wink.
14. Defina o campo `Client Authentication` para `Send as Basic Auth header`.
15. Clique no botão `Get New Access Token` para obter o seu token e guardá-lo.
16. Para todas as chamadas API na coleção Wink API, certifique-se de que o separador de autenticação diz `Inherit auth from parent` para incluir o seu token em cada chamada.
</Steps>

:::tip[Pro Dica]
Recomenda-se transformar o domínio do servidor, client ID e client secret em variáveis de ambiente. Assim, pode alternar facilmente entre os ambientes de staging e produção e reutilizar todas as operações que criou.
:::
