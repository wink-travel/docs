---
title: Webhooks
description: Inscreva-se nos eventos Wink e TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Os Webhooks são uma forma de você receber e reagir a eventos em tempo real do Wink e do TripPay relacionados com a sua conta.

## Exemplo

<Steps>
  1. Uma reserva ocorre no Wink.
  2. O evento Wink `booking.created` é despachado.
  3. O seu sistema está a escutar ativamente este evento.
  4. O seu sistema acompanha o seu próprio conjunto de análises e utiliza esse evento para atualizar a sua base de dados de séries temporais.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Exemplo de webhook" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Exemplo de entrada de webhook*</figcaption>
</figure>


:::observação
Um webhook Wink é diferente de um webhook TripPay.

* Se quiser ouvir eventos do Wink, pode criar um webhook a partir de [Extranet](https://extranet.wink.travel) ou [Estúdio](https://studio.wink.travel).
* Se quiser ouvir os eventos do TripPay, pode criar um webhook em [Pagamento](https://pay.wink.travel).
  :::

*Para este exemplo, iremos autenticar através [Estúdio](https://studio.wink.travel).*

<Steps>
  1. Após a autenticação, clique no ícone do seu perfil, no canto superior direito, e surgirá um menu.
  2. Clique no `Webhooks` ligação.
  3. Será redirecionado para a sua página de webhooks.
</Steps>


## Criar webhook

:::Cuidado
É necessário criar uma conta de afiliado no Wink ou uma conta no TripPay antes de criar um webhook, uma vez que irá ligar o seu webhook a uma conta específica.
:::

Eis os passos para criar um webhook:

<Steps>
  1. Na página de webhooks, clique em `Create new webhook` botão.
  2. ***Nome*** Dê um nome ao seu webhook. *por exemplo Perseguidor de Piscar*
  3. ***Ativar*** Deixe como está para ser habilitado.
  4. **Nome da entidade** Ligue o seu webhook a uma das suas contas existentes. *por exemplo Conta Legal*
  5. **Eventos** Ouça os eventos que lhe interessam. *por exemplo `booking.created`*
  6. **URL do webhook** Insira o URL onde ouvirá os nossos eventos. *por exemplo `https://my.system.com/webhook/wink`*
  7. Clique no `Save` botão para continuar.
</Steps>


Será redirecionado de volta para a sua lista de webhooks e o seu novo webhook estará pronto a ser utilizado.

## Atualizar webhook

Terá de atualizar o seu aplicativo se quiser:

* Desactive o seu webhook.
* Ouça mais/menos eventos.
* Altere o URL do seu webhook de escuta.

Para atualizar um webhook existente, faça o seguinte:

<Steps>
  1. Clique no `Actions` link para o webhook que pretende atualizar.
  2. Clique no `Update` botão em Ações.
  3. Faça as suas alterações no webhook.
  4. Clique no `Save` botão para continuar.
</Steps>


Será redirecionado de volta para a sua lista de webhooks.

## Remover webhook

Se já não tiver utilidade para o webhook, pode prosseguir e removê-lo.

Para remover um webhook, faça o seguinte:

<Steps>
  1. Clique no `Actions` link para o webhook que pretende atualizar.
  2. Clique no `Remove` botão em Ações.
  3. Clique `OK` botão para confirmar a eliminação.
</Steps>


Será redirecionado de volta para a sua lista de webhooks.

