---
title: Autenticação
description: Saiba como autenticar utilizando o servidor de autorização OAuth2 da Wink.
sidebar:
  order: 2
---

:::tip
O servidor de autenticação IAM da Wink suporta os endpoints comuns do OAuth2:

- /oauth2/authorize
- /oauth2/token
- /oauth2/introspect
- /oauth2/revoke
- /oauth2/userinfo
:::

Uma aplicação fornece-lhe um `Client ID` e uma `Secret Key` que precisa para criar uma sessão OAuth2 autenticada que pode usar para comunicar com as APIs da Wink e TripPay.

Aqui estão os passos para criar uma sessão autenticada.

**Passo 1**. Obtenha um token de acesso no ambiente de staging ou no nosso ambiente de produção:

Provavelmente, irá trabalhar com uma biblioteca OAuth2 robusta para a sua linguagem, que fará todo o trabalho pesado por si.
Os nossos exemplos mostrarão o uso mais básico a partir da linha de comandos usando `curl`.

### Staging

```bash

curl -X POST https://staging-iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

### Produção

```bash

curl -X POST https://iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

Isto irá devolver um token de acesso, juntamente com outros dados da resposta OAuth2:

```json
{
  "access_token": "abc123"
}
```

Quando fizer uma chamada a qualquer um dos nossos endpoints, inclua o seguinte no cabeçalho:

- `Wink-Version` = `2.0` Última - *Consulte a nossa documentação da API para outras versões disponíveis.*
- `Authentication` = `Bearer: ${access_token}` *Insira o seu token de acesso.*

:::tip
Pode testar todas as nossas APIs sem escrever uma única linha de código antes de começar.

Obtenha um 'Client ID' e 'Secret Key' de uma das suas apps e navegue para qualquer uma das nossas [APIs](/pt-PT/developers/apis).
:::
