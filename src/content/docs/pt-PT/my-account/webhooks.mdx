---
title: Webhooks
description: Subscreva a eventos do Wink e TripPay.
sidebar:
  order: 11
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks são uma forma de receber e reagir a eventos em tempo real do Wink para a sua conta.

<Steps>
 1. Selecione a conta com a qual quer trabalhar em [Accounts](https://my.wink.travel).
 2. Clique em `Actions` na parte inferior do cartão da conta e escolha `Manage account`.
 3. Clique no separador `Webhooks` na página seguinte.
 4. Esta secção irá listar todos os seus webhooks.
 5. Escolha editar um existente ou criar um novo.
 </Steps>

## Exemplo

<Steps>
1. Uma reserva ocorre no Wink.
1. O evento do Wink `booking.created` é disparado.
2. O seu sistema está a ouvir ativamente este evento.
3. O seu sistema regista o seu próprio conjunto de análises e usa este evento para atualizar a sua base de dados de séries temporais.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Exemplo de webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemplo de entrada de webhook*</figcaption>
</figure>

## Criar webhook

:::caution
É necessário criar uma conta afiliada no Wink ou uma conta no TripPay antes de criar um webhook, pois irá associar o seu webhook a uma conta específica.
:::

Aqui estão os passos para criar um webhook:

<Steps>
1. Na página de webhooks, clique no botão `Create new webhook`.
2. ***Nome*** Dê um nome ao seu webhook. *ex. Wink Stalker*
3. ***Ativar*** Deixe como está para estar ativado.
4. **Nome da entidade** Associe o seu webhook a uma das suas contas existentes. *ex. Cool Account*
5. **Eventos** Ouça os eventos que lhe interessam. *ex. `booking.created`*
6. **URL do webhook** Introduza a URL onde irá ouvir os eventos enviados por nós. *ex. `https://my.system.com/webhook/wink`*
7. Clique no botão `Save` para continuar.
</Steps>

Será redirecionado de volta para a sua lista de webhooks e o seu novo webhook estará pronto a usar.

## Atualizar webhook

Deverá atualizar a sua app se quiser:

- Desativar o seu webhook.
- Ouvir mais / menos eventos.
- Alterar a URL do webhook onde ouve os eventos.

Para atualizar um webhook existente, faça o seguinte:

<Steps>
1. Clique no link `Actions` do webhook que quer atualizar.
2. Clique no botão `Update` em Actions.
3. Faça as alterações ao webhook.
4. Clique no botão `Save` para continuar.
</Steps>

Será redirecionado de volta para a sua lista de webhooks.

## Remover webhook

Se não precisar mais do webhook, pode removê-lo.

Para remover um webhook, faça o seguinte:

<Steps>
1. Clique no link `Actions` do webhook que quer remover.
2. Clique no botão `Remove` em Actions.
3. Clique no botão `OK` para confirmar a eliminação.
</Steps>

Será redirecionado de volta para a sua lista de webhooks.
