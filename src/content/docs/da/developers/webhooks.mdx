---
title: Webhooks
description: Abonner på Wink- og TripPay-begivenheder.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks er en måde for dig at modtage og reagere på realtidsbegivenheder fra Wink og TripPay vedrørende din konto.

## Eksempel

<Steps>
1. En booking foretages på Wink.
1. Wink-begivenheden `booking.created` udsendes.
2. Dit system lytter aktivt til denne begivenhed.
3. Dit system sporer dine egne analyser og bruger denne begivenhed til at opdatere sin tidsserie-database.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Eksempel på webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Eksempel på webhook-indgang*</figcaption>
</figure>

:::note
En Wink-webhook er forskellig fra en TripPay-webhook.

- Hvis du vil lytte til Wink-begivenheder, kan du oprette en webhook fra [Extranet](https://extranet.wink.travel) eller [Studio](https://studio.wink.travel).
- Hvis du vil lytte til TripPay-begivenheder, kan du oprette en webhook fra [Payment](https://pay.wink.travel).
:::

*For dette eksempel vil vi autentificere via [Studio](https://studio.wink.travel).*

<Steps>
1. Når du er autentificeret, klik på dit profilikon øverst til højre, og en menu vises.
2. Klik på linket `Webhooks`.
3. Du bliver omdirigeret til din webhooks-side.
</Steps>

## Opret webhook

:::caution
Du skal oprette en affiliate-konto på Wink eller en konto på TripPay, før du opretter en webhook, da du vil binde din webhook til en specifik konto.
:::

Her er trinene til at oprette en webhook:

<Steps>
1. Fra webhooks-siden klik på knappen `Create new webhook`.
2. ***Navngiv*** Giv din webhook et navn. *f.eks. Wink Stalker*
3. ***Aktivér*** Lad den være som den er for at være aktiveret.
4. **Enhedsnavn** Link din webhook med en af dine eksisterende konti. *f.eks. Cool Account*
5. **Begivenheder** Lyt til de begivenheder, der interesserer dig. *f.eks. `booking.created`*
6. **Webhook-URL** Indtast den URL, hvor du vil lytte til begivenheder fra os. *f.eks. `https://my.system.com/webhook/wink`*
7. Klik på knappen `Save` for at fortsætte.
</Steps>

Du bliver omdirigeret tilbage til din liste over webhooks, og din nye webhook er klar til brug.

## Opdater webhook

Du skal opdatere din app, hvis du vil:

- Deaktivere din webhook.
- Lytte til flere/færre begivenheder.
- Ændre din webhook-URL til lytning.

For at opdatere en eksisterende webhook skal du gøre følgende:

<Steps>
1. Klik på linket `Actions` for den webhook, du vil opdatere.
2. Klik på knappen `Update` under Actions.
3. Foretag dine ændringer i webhooken.
4. Klik på knappen `Save` for at fortsætte.
</Steps>

Du bliver omdirigeret tilbage til din liste over webhooks.

## Fjern webhook

Hvis du ikke længere har brug for webhooken, kan du fjerne den.

For at fjerne en webhook skal du gøre følgende:

<Steps>
1. Klik på linket `Actions` for den webhook, du vil opdatere.
2. Klik på knappen `Remove` under Actions.
3. Klik på knappen `OK` for at bekræfte sletningen.
</Steps>

Du bliver omdirigeret tilbage til din liste over webhooks.
