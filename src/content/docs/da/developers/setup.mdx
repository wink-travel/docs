---
title: Opsætning
description: Denne artikel viser dig, hvordan du hurtigt kommer i gang som udvikler og begynder at teste vores API'er på Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Denne artikel viser dig, hvordan du hurtigt kommer i gang som udvikler og begynder at teste vores API'er på Wink.

:::note
Testning bør altid foregå i vores [staging-miljø](/da/getting-started/environments). Der er langt færre data der, men du er fri til at teste så meget, du vil, uden at belaste produktionsmiljøet.

Når du er klar til at gå live, vil vi certificere din konto og din applikation, og du kan lancere i vores produktionsmiljø.
:::

Følg disse trin:

<Steps>
1. [Registrer](/da/user/register) din brugerkonto på Wink
2. Opret en [rejsebureaukonto](/da/travel-agent/what-is-agent) eller en [affiliate-konto](/da/studio/what-is-studio).
3. [Opret en applikation](/da/developer/applications), hvor du tilknytter den til den konto, du oprettede i trin 2.
4. Når du har oprettet din `Application`, skal du gemme client-id og client secret et sikkert sted.
</Steps>

## CDN

Hos Wink bruger vi Cloudinary til alle vores billede- og videoressourcer. Når du får adgang til vores rejseinventar, får du fuld adgang til alle Cloudinarys avancerede funktioner.

Vores `cloud_name` er `traveliko`.

### Cloudinary

- [Kom godt i gang](https://cloudinary.com/documentation/dev_kickstart)
- [SDK'er](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary på GitHub](https://github.com/cloudinary)
-	[Video Tutorials](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Eksempel

For hver type rejseinventar, vi understøtter, vil der være et indlejret JSON-array kaldet `multimedias`. JSON'en for en multimedia-post ser sådan ud:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Billede af lobbyen",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Den markerede linje ovenfor viser Cloudinarys unikke ID `partners/radisson_blu_logo`. Det er alt, hvad du behøver for at hente billedet i ethvert format, kvalitet og størrelse, du ønsker.

## Testning

Gå til vores [API'er](/da/developer/apis) sektion og vælg den API, du vil arbejde med.

### API-dokumentation

Vores dokumentationsside er sat op, så du kan køre API-kommandoer direkte fra siden.

I dette eksempel vil du bruge `Search Lookups (OAuth2)` API-kaldet.

:::tip[Pro Tip]
For nemheds skyld anbefaler vi, at integratorer bruger de endpoints, vi betegner som `OAuth2`. Disse endpoints forventer API-kald og ved allerede, hvilken konto du er på, så du behøver ikke angive `companyIdentifier` i dine URL'er.
:::

<Steps>
1. Brug [Lookup API](https://developer.wink.travel/lookup) til at hente destinationer eller hoteller.
2. Klik på `Authentication` i venstre navigationsbjælke.
3. Indtast din client-id og client secret og klik på knappen `Get TOKEN`.
4. Hvis dine legitimationsoplysninger er gyldige, vil du se, at din API-nøgle er anvendt.
5. Du kan nu teste lookup-endpointet.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API endpoint"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Eksempel på Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Du kan gøre det samme med Postman.

<Steps>
1. Download [Postman](https://www.postman.com/downloads).
2. Klik på `Download OpenAPI spec` øverst på [Lookup API](https://developer.wink.travel/lookup) siden.
3. Importer den til Postman.
4. Hvis du importerede den som en ny samling kaldet `Wink API`, klik på de tre prikker ved siden af samlingens navn og vælg `Edit`.
5. I fanen `Authorization` skal du sætte `Auth type` til OAuth2.
6. Sæt feltet `Add auth data to` til `Request headers`.
7. Sæt feltet `Header prefix` til `Bearer`.
8. Sæt feltet `Token Name` til det navn, du ønsker at give din gemte token i Postman, f.eks. Wink Staging.
9. Sæt feltet `Grant type` til `Client Credentials`.
10. Sæt feltet `Access token URL` til https://staging-iam.wink.travel/oauth2/token.
11. Sæt feltet `Client ID` til den Client ID, din app hjalp med at generere.
12. Sæt feltet `Client Secret` til den Client Secret, din app hjalp med at generere.
13. Sæt feltet `Scope` til `inventory.read inventory.write inventory.remove`. Det er alle de scopes, du får brug for til Wink.
14. Sæt feltet `Client Authentication` til `Send as Basic Auth header`.
15. Klik på knappen `Get New Access Token` for at hente din token og gemme den.
16. For alle API-kald under Wink API-samlingen skal du sikre, at fanen for godkendelse siger `Inherit auth from parent`, så din token medtages ved hvert kald.
</Steps>

:::tip[Pro Tip]
Det anbefales at gøre serverdomænet, client ID og client secret til miljøvariabler. På den måde kan du nemt skifte mellem staging- og produktionsmiljøer og genbruge alle de operationer, du har oprettet.
:::
