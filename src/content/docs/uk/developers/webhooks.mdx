---
title: Вебхуки
description: Підписка на події Wink та TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Вебхуки — це спосіб отримувати та реагувати на події в реальному часі від Wink та TripPay, що стосуються вашого облікового запису.

## Приклад

<Steps>
1. Відбувається бронювання на Wink.
1. Відправляється подія Wink `booking.created`.
2. Ваша система активно слухає цю подію.
3. Ваша система відстежує власний набір аналітики та використовує цю подію для оновлення своєї бази даних часових рядів.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Приклад вебхука"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Приклад запису вебхука*</figcaption>
</figure>

:::note
Вебхук Wink відрізняється від вебхука TripPay.

- Якщо ви хочете слухати події Wink, ви можете створити вебхук через [Extranet](https://extranet.wink.travel) або [Studio](https://studio.wink.travel).
- Якщо ви хочете слухати події TripPay, ви можете створити вебхук через [Payment](https://pay.wink.travel).
:::

*Для цього прикладу ми автентифікуємося через [Studio](https://studio.wink.travel).*

<Steps>
1. Після автентифікації натисніть на іконку профілю у верхньому правому куті, з’явиться меню.
2. Натисніть на посилання `Webhooks`.
3. Ви будете перенаправлені на сторінку вебхуків.
</Steps>

## Створення вебхука

:::caution
Вам потрібно створити афілійований обліковий запис у Wink або обліковий запис у TripPay перед створенням вебхука, оскільки ви будете прив’язувати вебхук до конкретного облікового запису.
:::

Ось кроки для створення вебхука:

<Steps>
1. На сторінці вебхуків натисніть кнопку `Create new webhook`.
2. ***Назва*** Дайте вебхуку ім’я. *наприклад, Wink Stalker*
3. ***Увімкнути*** Залиште без змін, щоб увімкнути.
4. **Назва сутності** Прив’яжіть вебхук до одного з ваших існуючих облікових записів. *наприклад, Cool Account*
5. **Події** Слухайте події, які вас цікавлять. *наприклад, `booking.created`*
6. **URL вебхука** Введіть URL, на якому ви будете слухати події від нас. *наприклад, `https://my.system.com/webhook/wink`*
7. Натисніть кнопку `Save`, щоб продовжити.
</Steps>

Вас перенаправлять назад до списку вебхуків, і ваш новий вебхук готовий до роботи.

## Оновлення вебхука

Вам потрібно оновити додаток, якщо ви хочете:

- Вимкнути вебхук.
- Слухати більше або менше подій.
- Змінити URL для прослуховування вебхука.

Щоб оновити існуючий вебхук, виконайте наступне:

<Steps>
1. Натисніть посилання `Actions` для вебхука, який хочете оновити.
2. Натисніть кнопку `Update` у розділі Actions.
3. Внесіть зміни у вебхук.
4. Натисніть кнопку `Save`, щоб продовжити.
</Steps>

Вас перенаправлять назад до списку вебхуків.

## Видалення вебхука

Якщо вебхук більше не потрібен, ви можете його видалити.

Щоб видалити вебхук, виконайте наступне:

<Steps>
1. Натисніть посилання `Actions` для вебхука, який хочете видалити.
2. Натисніть кнопку `Remove` у розділі Actions.
3. Натисніть кнопку `OK`, щоб підтвердити видалення.
</Steps>

Вас перенаправлять назад до списку вебхуків.
