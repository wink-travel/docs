---
title: Webhooks
description: 订阅 Wink 和 TripPay 事件。
sidebar:
  order: 11
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks 是一种让您接收并响应来自 Wink 的实时事件的方式，适用于您的账户。

<Steps>
 1. 从[账户](https://my.wink.travel)中选择您想操作的账户。
 2. 点击账户卡底部的 `Actions`，选择 `Manage account`。
 3. 在接下来的页面点击 `Webhooks` 标签。
 4. 本节将列出您所有的 webhooks。
 5. 选择编辑已有的 webhook 或创建新的 webhook。
 </Steps>

## 示例

<Steps>
1. Wink 上发生一次预订。
1. 触发 Wink 事件 `booking.created`。
2. 您的系统正在监听此事件。
3. 您的系统跟踪自己的分析数据，并使用此事件更新时间序列数据库。
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="示例 webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*示例 webhook 条目*</figcaption>
</figure>

## 创建 webhook

:::caution
您需要先在 Wink 创建一个分销账户或在 TripPay 创建一个账户，才能创建 webhook，因为您需要将 webhook 绑定到特定账户。
:::

创建 webhook 的步骤如下：

<Steps>
1. 在 webhooks 页面，点击 `Create new webhook` 按钮。
2. ***名称*** 给您的 webhook 命名。*例如 Wink Stalker*
3. ***启用*** 保持默认启用状态。
4. **实体名称** 将您的 webhook 关联到您已有的账户。*例如 Cool Account*
5. **事件** 监听您感兴趣的事件。*例如 `booking.created`*
6. **Webhook URL** 输入您用于接收事件的 URL。*例如 `https://my.system.com/webhook/wink`*
7. 点击 `Save` 按钮继续。
</Steps>

系统会重定向回您的 webhook 列表，您的新 webhook 已准备就绪。

## 更新 webhook

如果您想要：

- 禁用 webhook。
- 监听更多或更少的事件。
- 更改监听的 webhook URL。

您需要更新您的应用。

更新已有 webhook 的步骤如下：

<Steps>
1. 点击您想更新的 webhook 的 `Actions` 链接。
2. 点击 Actions 下的 `Update` 按钮。
3. 对 webhook 进行修改。
4. 点击 `Save` 按钮继续。
</Steps>

系统会重定向回您的 webhook 列表。

## 删除 webhook

如果您不再需要某个 webhook，可以将其删除。

删除 webhook 的步骤如下：

<Steps>
1. 点击您想删除的 webhook 的 `Actions` 链接。
2. 点击 Actions 下的 `Remove` 按钮。
3. 点击 `OK` 按钮确认删除。
</Steps>

系统会重定向回您的 webhook 列表。
