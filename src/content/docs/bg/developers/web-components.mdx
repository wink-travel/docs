---
title: Уеб компоненти
description: Wink поддържа библиотека от JavaScript уеб компоненти, които можете да вградите във вашия сайт.
sidebar:
  order: 6
---


import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

[Уеб компонентите](https://developer.mozilla.org/en-US/docs/Web/API/Web_components) са стандарт, който ви позволява да интегрирате цели JavaScript функционалности във вашия уебсайт без да знаете как да кодирате.
Благодарение на тази страхотна технология, можете лесно да вградите Wink пътнически инвентар. Тази статия ви превежда през нашата колекция от уеб компоненти и ви показва как да ги използвате.

## Вграждане на Wink

Има три неща, които трябва да включите във всяка страница, където искате да показвате някой от нашите уеб компоненти.

1. Включете нашия стилов файл.
2. Включете нашия Javascript.
3. Включете нашия зареждач на приложението.

### Стилов файл

Включете нашите CSS стилове в head секцията на документа.

```html {3}
<html>
  <head>
    <link rel="stylesheet" href="https://elements.wink.travel/styles.css"></link>
  </head>
</html>
```

### Javascript

Включете нашия Javascript в долната част на документа. (*Препоръчваме веднага преди затварящия body таг*).

```html {3}
<html>
  <body>
    <script src="https://elements.wink.travel/elements.js" type="module" defer></script>
  </body>
</html>
```

Вашият сайт вече е готов и може да показва нашите уеб компоненти.

## Компоненти

Прочетете за нашата библиотека с компоненти по-долу.

### Зареждач на приложението

Зареждачът отговаря за поддържане на състоянието и управлението на взаимодействието между нашите компоненти. (*Включете го под нашия Javascript*).

```html {3-6}
<html>
  <body>
    <wink-app-loader
      client-id="ВАШИЯТ CLIENT ID ТУК"
      configuration-id="ВАШИЯТ CUSTOMIZATION ID ТУК"
    ></wink-app-loader>
  </body>
</html>
```

### Зареждач на съдържание

Зареждачът на съдържание е в сърцето на нашата библиотека с уеб компоненти. Той отговаря за показването на вашия инвентар (карти, мрежи, карти на местности).

Налични атрибути:

- layout
- id
- sort

*Атрибутът `sort` е наличен само когато layout е `RANKED` и не искате да използвате съществуваща класирана мрежа. В тези случаи оставете `id` празен.*

Налични типове layout:

- `AD_BANNER`
- `MAP`
- `HOTEL`
- `GUEST_ROOM`
- `MEETING_ROOM`
- `SPA`
- `RESTAURANT`
- `ACTIVITY`
- `ATTRACTION`
- `PLACE`
- `ADD_ON`
- `LIST`
- `SEARCH`
- `RANKED`

Налични типове сортиране:

- `MEMBER`
- `PRICE_LOW_TO_HIGH`
- `PRICE_HIGH_TO_LOW`
- `PRICE`
- `POPULARITY`
- `ECO`
- `EXPERIENCE`
- `PERK`
- `LOYALTY`
- `PACKAGE`

```html {3-6}
<html>
  <body>
    <wink-content-loader
       layout="GUEST_ROOM"
       id="2de7ee9c-61c9-11ef-9722-42004e494300"
    ></wink-content-loader>
  </body>
</html>
```

Примери могат да бъдат намерени за [карти](/studio/cards), [мрежи](/studio/grids) и [карти на местности](/studio/maps).

### Търсене

Търсенето работи отлично заедно с една от вашите класирани мрежи. Позволява на потребителите ви да търсят хотел и дестинация, а мрежата се обновява в отговор на резултатите от търсенето.

```html {3}
<html>
  <body>
    <wink-lookup></wink-lookup>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="350"
      height="57"
      resize="scale"
      quality="best"
      alt="Lookup web component"
      src="academy/lookup"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за търсене (Lookup)*</figcaption>
</figure>

Кликването върху компонента по-горе отваря модален прозорец, който ви позволява да въведете дестинацията или хотела, който търсите.

<figure>
<CloudinaryImage
      width="700"
      height="186"
      resize="scale"
      quality="best"
      alt="Lookup modal"
      src="academy/lookup-results"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Модален прозорец за търсене с резултати*</figcaption>
</figure>

### Маршрут

Бутонът за маршрут показва текущия маршрут върху бутона. Когато кликнете върху него, пълният избор на маршрут се показва като модален прозорец.

```html {3}
<html>
  <body>
    <wink-itinerary></wink-itinerary>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="350"
      height="60"
      resize="scale"
      quality="best"
      alt="Itinerary web component"
      src="academy/itinerary-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за маршрут*</figcaption>
</figure>

Кликването върху бутона по-горе отваря модален прозорец, който ви позволява да актуализирате маршрута си.

<figure>
<CloudinaryImage
      width="700"
      height="459"
      resize="scale"
      quality="best"
      alt="Search modal"
      src="academy/search-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Избор на маршрут като модален прозорец*</figcaption>
</figure>


### Търсене

Търсенето е бутон само с икона от избор на маршрут. Когато кликнете върху него, пълният избор на маршрут се показва като модален прозорец.

```html {3}
<html>
  <body>
    <wink-search></wink-search>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="138"
      height="116"
      resize="scale"
      quality="best"
      alt="Search web component"
      src="academy/search-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за търсене*</figcaption>
</figure>

Кликването върху бутона по-горе отваря модален прозорец, който ви позволява да актуализирате маршрута си.

<figure>
<CloudinaryImage
      width="700"
      height="459"
      resize="scale"
      quality="best"
      alt="Search modal"
      src="academy/search-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Избор на маршрут като модален прозорец*</figcaption>
</figure>

### Форма за маршрут

Компонентът за маршрут показва форма за маршрут, с която потребителите могат да взаимодействат.

```html {3}
<html>
  <body>
    <wink-itinerary-form></wink-itinerary-form>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="700"
      height="90"
      resize="scale"
      quality="best"
      alt="Itinerary formweb component"
      src="academy/itinerary-form"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за форма на маршрут*</figcaption>
</figure>

Промяната на маршрута във всеки от нашите компоненти за маршрут задейства събитието за актуализация на маршрута за всеки инвентар, който в момента се показва на страницата.

### Акаунт

Бутонът за акаунт ви позволява да добавите Wink автентикация към вашия сайт.

```html {3}
<html>
  <body>
    <wink-account></wink-account>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="92"
      height="104"
      resize="scale"
      quality="best"
      alt="Account web component"
      src="academy/account-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за бутон акаунт*</figcaption>
</figure>

Кликването върху бутона, когато потребителят не е автентикиран, ще го пренасочи към автентикация.
Когато потребителят е автентикиран, се показва иконата на профила му.

<figure>
<CloudinaryImage
      width="92"
      height="104"
      resize="scale"
      quality="best"
      alt="Account button when authenticated"
      src="academy/account-button-auth"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за бутон акаунт (автентикиран)*</figcaption>
</figure>

Когато кликнете върху бутона, се отваря падащо меню, специфично за потребителя.

<figure>
<CloudinaryImage
      width="350"
      height="404"
      resize="scale"
      quality="best"
      alt="Account button when authenticated"
      src="academy/account-button-auth-open"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Уеб компонент за бутон акаунт (отворен)*</figcaption>
</figure>

## Вграждане на TripPay

Има две неща, които трябва да включите във всяка страница, където искате да използвате уеб компонента за плащане TripPay.

1. Включете нашия стилов файл.
2. Включете нашия Javascript.

### Стилов файл

Включете нашите CSS стилове в head секцията на документа.

```html {3}
<html>
  <head>
    <link rel="stylesheet" href="https://elements.trippay.io/styles.css"></link>
  </head>
</html>
```

### Javascript

Включете нашия Javascript в долната част на документа. (*Препоръчваме веднага преди затварящия body таг*).

```html {3}
<html>
  <body>
    <script src="https://elements.trippay.io/elements.js" type="module" defer></script>
  </body>
</html>
```

Вашият сайт вече е готов и може да показва нашите уеб компоненти.

## Компоненти

### Плащане

Компонентът за плащане ви позволява да информирате TripPay, че пътешественик иска да закупи нещо, както и правилата и цените за тези артикули.

Има един задължителен атрибут за уиджета:

- `id` Идентификаторът на резервационния договор, който искате да изпълните.

```html {3}
<html>
  <body>
    <trip-pay id="<INSERT_BOOKING_CONTRACT_ID>"></trip-pay>
  </body>
</html>
```

:::note
За да научите как да генерирате `id` на резервационния договор, прочетете ръководството: [Интеграция с TripPay](/guides/integrating-with-trip-pay).
:::

Уиджетът подготвя договора за изпълнение и показва детайли за плащането *(Фигура 1)* на потребителя, за да финализира резервацията.

<figure>
<CloudinaryImage
      width="700"
      height="1141"
      resize="scale"
      quality="best"
      alt="Payment details"
      src="academy/payment-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Фигура 1. Примерна форма за плащане*</figcaption>
</figure>

## Грешки

Ако получите съобщение за грешка при вграждане на някой от нашите уеб компоненти, било то в WinkLinks или на ваш собствен уебсайт, има няколко възможни причини:

### Наличност

Инвентарът може вече да не е наличен. Отидете в [Wink Studio](/studio/cards) и проверете дали статусът на "картата" е наличен.
Ако не е, ще се покаже в червено. В такъв случай можете да изчакате и може би доставчикът ще го направи отново наличен или да го премахнете от списъка си.

:::note
`Наличност` не означава дневната наличност на инвентара за резервация. Означава, че инвентарът е напълно недостъпен за вас и/или за всеки друг.
:::

### Премахнат

Инвентарът може да е бил премахнат. Отидете в [Wink Studio](/studio/cards) и проверете дали статусът на "картата" е наличен.
Ако не е, ще се покаже в червено. В такъв случай можете да изчакате и може би доставчикът ще го направи отново наличен или да го премахнете от списъка си.

### Персонализация

Възможно е случайно да сте премахнали персонализацията, която сте задали заедно с вашия инвентар. Уверете се, че персонализацията все още е налична и задайте нова, ако липсва.

### Приложение

Това е само за уеб разработчици. Ако случайно сте премахнали [Приложението](/developer/applications) ; и клиентският ID вече не е наличен, моля създайте ново приложение и използвайте новия клиентски ID за вграждане на нашите уеб компоненти.
