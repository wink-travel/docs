---
title: Webhooks
description: Абонирайте се за събитията на Wink и TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '../../../components/cloudinary-image.astro';

Уеб кукичките са начин да получавате и да реагирате на събития в реално време от Wink и TripPay, свързани с вашия акаунт.

## Пример

<Steps>
  1. Резервация се извършва в Wink.
  2. Събитието „Намигването“ `booking.created` е изпратен.
  3. Вашата система активно следи това събитие.
  4. Вашата система проследява вашия собствен набор от анализи и използва това събитие, за да актуализира своята база данни с времеви серии.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Примерен уеб кукичка" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Примерен запис за уеб кукичка*</figcaption>
</figure>


:::note
Уеб куката на Wink е различна от уеб куката на TripPay.

* Ако искате да слушате Wink събития, можете да създадете webhook от[Екстранет](https://extranet.wink.travel)или[Студио](https://studio.wink.travel).
* Ако искате да слушате събития на TripPay, можете да създадете уеб кукичка от[Плащане](https://pay.wink.travel).
  :::

*За този пример ще удостоверим автентичността чрез[Студио](https://studio.wink.travel).*

<Steps>
  1. След като се удостоверите, щракнете върху иконата на профила си в горния десен ъгъл и ще се появи меню.
  2. Кликнете върху `Webhooks` връзка.
  3. Ще бъдете пренасочени към страницата на вашите уеб кукички.
</Steps>


## Създаване на уеб кукичка

:::внимание
Трябва да създадете партньорски акаунт в Wink или акаунт в TripPay, преди да създадете уеб кука, тъй като ще обвържете уеб куката си с конкретен акаунт.
:::

Ето стъпките за създаване на уеб кука:

<Steps>
  1. От страницата с уеб кукички щракнете върху `Create new webhook` бутон.
  2. ***Име*** Дайте име на вашия уеб кукик. *напр. Wink Stalker*
  3. ***Активиране*** Оставете както е, за да бъде активирано.
  4. **Име на обекта** Свържете уеб кукичката си с един от съществуващите си акаунти. *напр. Готин акаунт*
  5. **Събития** Слушайте събитията, които ви интересуват. *напр. `booking.created`*
  6. **URL адрес на уебкукичката** Въведете URL адреса, където ще слушате събития от нас. *напр. `https://my.system.com/webhook/wink`*
  7. Кликнете върху `Save` бутон, за да продължите.
</Steps>


Ще бъдете пренасочени обратно към списъка си с уеб кукички и новата ви уеб кука е готова за употреба.

## Актуализиране на уебкукичката

Ще трябва да актуализирате приложението си, ако искате:

* Деактивирайте уеб кукичката си.
* Слушайте повече/по-малко събития.
* Променете URL адреса на уеб кукичката си за слушане.

За да актуализирате съществуващ уеб кукичка, направете следното:

<Steps>
  1. Кликнете върху `Actions` връзка за уеб кукичката, която искате да актуализирате.
  2. Кликнете върху `Update` бутон под „Действия“.
  3. Направете промените си в уеб кукичката.
  4. Кликнете върху `Save` бутон, за да продължите.
</Steps>


Ще бъдете пренасочени обратно към списъка си с уеб кукички.

## Премахване на уебкукичката

Ако нямате повече нужда от уеб кукичката, можете да я премахнете.

За да премахнете уеб кука, направете следното:

<Steps>
  1. Кликнете върху `Actions` връзка за уеб кукичката, която искате да актуализирате.
  2. Кликнете върху `Remove` бутон под „Действия“.
  3. Кликнете `OK` бутон за потвърждаване на изтриването.
</Steps>


Ще бъдете пренасочени обратно към списъка си с уеб кукички.

