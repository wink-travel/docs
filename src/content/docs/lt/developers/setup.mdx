---
title: Sąranka
description: Šiame straipsnyje parodyta, kaip greitai susikurti kūrėjo paskyrą ir pradėti testuoti mūsų API Wink platformoje.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Šiame straipsnyje parodyta, kaip greitai susikurti kūrėjo paskyrą ir pradėti testuoti mūsų API Wink platformoje.

:::note
Testavimas visada turėtų vykti mūsų [testavimo aplinkoje](/getting-started/environments). Ten yra daug mažiau duomenų, tačiau galite laisvai testuoti tiek, kiek norite, neapkraunant gamybinės aplinkos.

Kai būsite pasiruošę pradėti naudoti gyvai, mes patvirtinsime jūsų paskyrą ir programą, ir galėsite paleisti ją gamybinėje aplinkoje.
:::

Atlikite šiuos veiksmus:

<Steps>
1. [Užsiregistruokite](/user/register) Wink platformoje.
2. Sukurkite [kelionių agento paskyrą](/travel-agent/what-is-agent) arba [partnerio paskyrą](/studio/what-is-studio).
3. [Sukurkite programą](/developer/applications) ir susiekite ją su paskyra, sukurtą 2 žingsnyje.
4. Sukūrę `Application`, saugiai išsaugokite client-id ir client secret.
</Steps>

## CDN

Wink platformoje naudojame Cloudinary visiems mūsų vaizdų ir vaizdo įrašų ištekliams. Prisijungę prie mūsų kelionių inventoriaus, turėsite pilną prieigą prie visų Cloudinary pažangių funkcijų.

Mūsų `cloud_name` yra `traveliko`.

### Cloudinary

- [Pradžia](https://cloudinary.com/documentation/dev_kickstart)
- [SDK](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary GitHub](https://github.com/cloudinary)
-	[Vaizdo pamokos](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Pavyzdys

Kiekvienam kelionių inventoriaus tipui, kurį palaikome, bus įdėtas JSON masyvas pavadinimu `multimedias`. Multimedia įrašo JSON atrodo taip:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Vestibiulis",
      "description": "Vestibiulio nuotrauka",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Pažymėta eilutė rodo Cloudinary unikalų ID `partners/radisson_blu_logo`. Tai viskas, ko reikia, kad gautumėte vaizdą bet kokiu formatu, kokybe ir dydžiu.

## Testavimas

Eikite į mūsų [API](/developer/apis) skyrių ir pasirinkite API, su kuria norite dirbti.

### API dokumentacija

Mūsų dokumentacijos svetainė sukurta taip, kad galite vykdyti API užklausas tiesiogiai svetainėje.

Šiame pavyzdyje norite naudoti `Search Lookups (OAuth2)` API užklausą.

:::tip[Pro patarimas]
Patogumui rekomenduojame integratoriams naudoti galinius taškus, pažymėtus kaip `OAuth2`. Šie galiniai taškai žino, kad API kvietėjai yra autentifikuoti ir jau žino, kuriai paskyrai priklausote, todėl jums nereikia nurodyti `companyIdentifier` URL.
:::

<Steps>
1. Naudokite [Lookup API](https://developer.wink.travel/lookup), kad gautumėte paskirties vietas arba viešbučius.
2. Kairėje naršymo juostoje spustelėkite `Authentication`.
3. Įveskite savo client-id ir client secret ir spustelėkite mygtuką `Get TOKEN`.
4. Jei jūsų kredencialai galioja, pamatysite, kad jūsų API raktas buvo pritaikytas.
5. Dabar galite testuoti lookup galinį tašką.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API galinis taškas"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Pavyzdinė Search Lookups (OAuth2) užklausa*</figcaption>
</figure>

### Postman
Tą patį galite atlikti naudodami Postman.

<Steps>
1. Atsisiųskite [Postman](https://www.postman.com/downloads).
2. Spustelėkite `Download OpenAPI spec` viršuje [Lookup API](https://developer.wink.travel/lookup) puslapyje.
3. Importuokite jį į Postman.
4. Jei importavote kaip naują kolekciją pavadinimu `Wink API`, spustelėkite horizontalią elipsę (3 taškai) šalia kolekcijos pavadinimo ir pasirinkite `Edit`.
5. Skiltyje `Authorization` nustatykite `Auth type` į OAuth2.
6. Lauke `Add auth data to` pasirinkite `Request headers`.
7. Lauke `Header prefix` įrašykite `Bearer`.
8. Lauke `Token Name` įrašykite norimą pavadinimą savo saugomam tokenui Postman, pvz., Wink Staging.
9. Lauke `Grant type` pasirinkite `Client Credentials`.
10. Lauke `Access token URL` įrašykite https://staging-iam.wink.travel/oauth2/token.
11. Lauke `Client ID` įrašykite savo programos sugeneruotą Client ID.
12. Lauke `Client Secret` įrašykite savo programos sugeneruotą Client Secret.
13. Lauke `Scope` įrašykite `inventory.read inventory.write inventory.remove`. Tai visi reikalingi Wink leidimai.
14. Lauke `Client Authentication` pasirinkite `Send as Basic Auth header`.
15. Spustelėkite mygtuką `Get New Access Token`, kad gautumėte ir išsaugotumėte tokeną.
16. Visoms API užklausoms Wink API kolekcijoje įsitikinkite, kad autorizacijos skirtelyje yra pasirinkta `Inherit auth from parent`, kad tokenas būtų pridėtas prie kiekvienos užklausos.
</Steps>

:::tip[Pro patarimas]
Rekomenduojama serverio domeną, client ID ir client secret nustatyti kaip aplinkos kintamuosius. Taip lengvai galėsite keisti tarp testavimo ir gamybos aplinkų bei pakartotinai naudoti visas sukurtas operacijas.
:::
