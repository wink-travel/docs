---
title: Nastavení
description: Tento článek vám ukáže, jak se rychle nastavit jako vývojář a začít testovat naše API na Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Tento článek vám ukáže, jak se rychle nastavit jako vývojář a začít testovat naše API na Wink.

:::note
Testování by mělo vždy probíhat v našem [staging prostředí](/cs/getting-started/environments). Je tam mnohem méně dat, ale můžete testovat, kolik chcete, aniž byste zasahovali do produkčního prostředí.

Jakmile budete připraveni spustit produkci, certifikujeme váš účet a vaši aplikaci a můžete spustit v našem produkčním prostředí.
:::

Postupujte podle těchto kroků:

<Steps>
1. [Zaregistrujte](/cs/user/register) si uživatelský účet na Wink
2. Vytvořte si [účet cestovní kanceláře](/cs/travel-agent/what-is-agent) nebo [affiliate účet](/cs/studio/what-is-studio).
3. [Vytvořte aplikaci](/cs/developer/applications), kterou spojíte s účtem vytvořeným v kroku 2.
4. Jakmile vytvoříte `Application`, uložte si client-id a client secret na bezpečné místo.
</Steps>

## CDN

Ve Wink používáme Cloudinary pro všechny naše obrazové a video zdroje. Když přistupujete k naší cestovní nabídce, budete mít plný přístup ke všem pokročilým funkcím Cloudinary.

Naše `cloud_name` je `traveliko`.

### Cloudinary

- [Začínáme](https://cloudinary.com/documentation/dev_kickstart)
- [SDK](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary na GitHubu](https://github.com/cloudinary)
-	[Video návody](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Příklad

Pro každý typ cestovní nabídky, který podporujeme, bude existovat vnořený JSON pole nazvané `multimedias`. JSON pro položku multimedia vypadá takto:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Obrázek lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Zvýrazněný řádek výše ukazuje unikátní ID Cloudinary `partners/radisson_blu_logo`. To je vše, co potřebujete k získání obrázku v jakémkoli formátu, kvalitě a velikosti.

## Testování

Přejděte do naší sekce [API](/cs/developer/apis) a vyberte API, se kterým chcete pracovat.

### Dokumentace API

Naše dokumentační stránka je nastavena tak, že můžete spouštět API příkazy přímo ze stránky.

V tomto příkladu chcete použít volání API `Search Lookups (OAuth2)`.

:::tip[Pro tip]
Pro snadnější použití doporučujeme integrátorům používat endpointy, které označujeme jako `OAuth2`. Tyto endpointy očekávají volající API a už vědí, na kterém účtu jste, takže nemusíte uvádět `companyIdentifier` v URL.
:::

<Steps>
1. Použijte [Lookup API](https://developer.wink.travel/lookup) k získání destinací nebo hotelů.
2. V levém navigačním panelu klikněte na `Authentication`.
3. Zadejte svůj client-id a client secret a klikněte na tlačítko `Get TOKEN`.
4. Pokud jsou vaše přihlašovací údaje platné, uvidíte, že váš API klíč byl aplikován.
5. Nyní můžete testovat lookup endpoint.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API endpoint"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Ukázka Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Totéž můžete udělat i v Postmanu.

<Steps>
1. Stáhněte si [Postman](https://www.postman.com/downloads).
2. Klikněte na `Download OpenAPI spec` v horní části stránky [Lookup API](https://developer.wink.travel/lookup).
3. Importujte to do Postmanu.
4. Pokud jste to importovali jako novou kolekci s názvem `Wink API`, klikněte na horizontální elipsu (3 tečky) vedle názvu kolekce a zvolte `Edit`.
5. V záložce `Authorization` nastavte `Auth type` na OAuth2.
6. Nastavte pole `Add auth data to` na `Request headers`.
7. Nastavte pole `Header prefix` na `Bearer`.
8. Nastavte pole `Token Name` na libovolný název, pod kterým chcete token v Postmanu uložit, např. Wink Staging.
9. Nastavte pole `Grant type` na `Client Credentials`.
10. Nastavte pole `Access token URL` na https://staging-iam.wink.travel/oauth2/token.
11. Nastavte pole `Client ID` na Client ID, které vám aplikace pomohla vygenerovat.
12. Nastavte pole `Client Secret` na Client Secret, které vám aplikace pomohla vygenerovat.
13. Nastavte pole `Scope` na `inventory.read inventory.write inventory.remove`. To jsou všechny scope, které pro Wink potřebujete.
14. Nastavte pole `Client Authentication` na `Send as Basic Auth header`.
15. Klikněte na tlačítko `Get New Access Token` pro získání tokenu a jeho uložení.
16. U všech API volání v kolekci Wink API se ujistěte, že záložka autorizace říká `Inherit auth from parent`, aby se token přidal ke každému volání.
</Steps>

:::tip[Pro tip]
Doporučuje se nastavit doménu serveru, client ID a client secret jako proměnné prostředí. Díky tomu můžete snadno přepínat mezi staging a produkčním prostředím a znovu používat všechny vytvořené operace.
:::
