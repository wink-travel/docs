---
title: Webhooky
description: Přihlaste se k odběru událostí Wink a TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooky jsou způsob, jak přijímat a reagovat na události v reálném čase z Wink a TripPay týkající se vašeho účtu.

## Příklad

<Steps>
1. Na Wink dojde k rezervaci.
1. Je odeslána událost Wink `booking.created`.
2. Váš systém aktivně naslouchá této události.
3. Váš systém sleduje vlastní sadu analytik a používá tuto událost k aktualizaci své databáze časových řad.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Ukázkový webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Ukázkový záznam webhooku*</figcaption>
</figure>

:::note
Webhook Wink se liší od webhooku TripPay.

- Pokud chcete naslouchat událostem Wink, můžete vytvořit webhook z [Extranetu](https://extranet.wink.travel) nebo [Studia](https://studio.wink.travel).
- Pokud chcete naslouchat událostem TripPay, můžete vytvořit webhook z [Payment](https://pay.wink.travel).
:::

*Pro tento příklad se autentizujeme přes [Studio](https://studio.wink.travel).*

<Steps>
1. Po autentizaci klikněte na ikonu profilu v pravém horním rohu a zobrazí se menu.
2. Klikněte na odkaz `Webhooks`.
3. Budete přesměrováni na stránku vašich webhooků.
</Steps>

## Vytvoření webhooku

:::caution
Než vytvoříte webhook, musíte mít vytvořený affiliate účet na Wink nebo účet na TripPay, protože webhook bude vázán na konkrétní účet.
:::

Postup vytvoření webhooku:

<Steps>
1. Na stránce webhooků klikněte na tlačítko `Create new webhook`.
2. ***Název*** Pojmenujte svůj webhook. *např. Wink Stalker*
3. ***Povolit*** Nechte zapnuté.
4. **Název entity** Propojte svůj webhook s jedním z vašich existujících účtů. *např. Cool Account*
5. **Události** Vyberte události, které vás zajímají. *např. `booking.created`*
6. **URL webhooku** Zadejte URL, na které budete přijímat události od nás. *např. `https://my.system.com/webhook/wink`*
7. Klikněte na tlačítko `Save` pro pokračování.
</Steps>

Budete přesměrováni zpět na seznam webhooků a váš nový webhook je připraven k použití.

## Aktualizace webhooku

Pokud chcete:

- Zakázat webhook.
- Naslouchat více/méně událostem.
- Změnit URL webhooku, na které nasloucháte.

Musíte aktualizovat svůj webhook.

Postup aktualizace existujícího webhooku:

<Steps>
1. Klikněte na odkaz `Actions` u webhooku, který chcete aktualizovat.
2. Klikněte na tlačítko `Update` pod Actions.
3. Proveďte požadované změny webhooku.
4. Klikněte na tlačítko `Save` pro pokračování.
</Steps>

Budete přesměrováni zpět na seznam webhooků.

## Odstranění webhooku

Pokud již webhook nepotřebujete, můžete jej odstranit.

Postup odstranění webhooku:

<Steps>
1. Klikněte na odkaz `Actions` u webhooku, který chcete odstranit.
2. Klikněte na tlačítko `Remove` pod Actions.
3. Klikněte na tlačítko `OK` pro potvrzení smazání.
</Steps>

Budete přesměrováni zpět na seznam webhooků.
