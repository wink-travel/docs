---
title: Webhooky
description: Přihlaste se k odběru událostí Wink a TripPay.
sidebar:
  order: 11
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooky jsou způsob, jak přijímat a reagovat na události v reálném čase z Wink pro váš účet.

<Steps>
 1. Vyberte účet, se kterým chcete pracovat, na [Účty](https://my.wink.travel).
 2. Klikněte na `Akce` ve spodní části karty účtu a zvolte `Spravovat účet`.
 3. Na následující stránce klikněte na záložku `Webhooky`.
 4. V této sekci se zobrazí všechny vaše webhooky.
 5. Zvolte úpravu existujícího webhooku nebo vytvoření nového.
 </Steps>

## Příklad

<Steps>
1. Na Wink dojde k rezervaci.
1. Je odeslána událost Wink `booking.created`.
2. Váš systém aktivně naslouchá této události.
3. Váš systém sleduje vlastní sadu analytik a používá tuto událost k aktualizaci své časové databáze.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Ukázkový webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Ukázkový záznam webhooku*</figcaption>
</figure>

## Vytvoření webhooku

:::caution
Než vytvoříte webhook, musíte mít vytvořený partnerský účet na Wink nebo účet na TripPay, protože webhook bude vázán na konkrétní účet.
:::

Postup vytvoření webhooku:

<Steps>
1. Na stránce webhooků klikněte na tlačítko `Vytvořit nový webhook`.
2. ***Název*** Pojmenujte svůj webhook. *např. Wink Stalker*
3. ***Povolit*** Nechte zapnuté.
4. **Název entity** Propojte svůj webhook s jedním z vašich existujících účtů. *např. Cool Account*
5. **Události** Poslouchejte události, které vás zajímají. *např. `booking.created`*
6. **URL webhooku** Zadejte URL, na které budete přijímat události od nás. *např. `https://my.system.com/webhook/wink`*
7. Klikněte na tlačítko `Uložit` pro pokračování.
</Steps>

Budete přesměrováni zpět na seznam webhooků a váš nový webhook je připraven k použití.

## Aktualizace webhooku

Budete muset aktualizovat svou aplikaci, pokud chcete:

- Zakázat svůj webhook.
- Poslouchat více / méně událostí.
- Změnit URL webhooku, na které nasloucháte.

Pro aktualizaci existujícího webhooku postupujte takto:

<Steps>
1. Klikněte na odkaz `Akce` u webhooku, který chcete aktualizovat.
2. Klikněte na tlačítko `Aktualizovat` pod akcemi.
3. Proveďte změny ve webhooku.
4. Klikněte na tlačítko `Uložit` pro pokračování.
</Steps>

Budete přesměrováni zpět na seznam webhooků.

## Odstranění webhooku

Pokud již webhook nepotřebujete, můžete jej odstranit.

Pro odstranění webhooku postupujte takto:

<Steps>
1. Klikněte na odkaz `Akce` u webhooku, který chcete odstranit.
2. Klikněte na tlačítko `Odstranit` pod akcemi.
3. Klikněte na tlačítko `OK` pro potvrzení smazání.
</Steps>

Budete přesměrováni zpět na seznam webhooků.
