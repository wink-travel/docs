---
title: الإعداد
description: يوضح هذا المقال كيفية الإعداد السريع كمطور والبدء في اختبار واجهات برمجة التطبيقات الخاصة بنا على Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

يشرح هذا المقال كيفية الإعداد السريع كمطور والبدء في اختبار واجهات برمجة التطبيقات الخاصة بنا على Wink.

:::note
يجب أن تتم الاختبارات دائمًا في [بيئة الاختبار](/getting-started/environments). هناك بيانات أقل بكثير ولكن يمكنك الاختبار بحرية دون التأثير على بيئة الإنتاج.

بمجرد أن تكون جاهزًا للانطلاق، سنقوم بتوثيق حسابك وتطبيقك ويمكنك الإطلاق في بيئة الإنتاج الخاصة بنا.
:::

اتبع هذه الخطوات:

<Steps>
1. [سجل](/user/register) حساب المستخدم الخاص بك على Wink
2. أنشئ [حساب وكيل سفر](/travel-agent/what-is-agent) أو [حساب تابع](/studio/what-is-studio).
3. [أنشئ تطبيقًا](/developer/applications) واربطه بالحساب الذي أنشأته في الخطوة 2.
4. بمجرد إنشاء `Application`، احفظ client-id و client secret في مكان آمن.
</Steps>

## شبكة توصيل المحتوى (CDN)

في Wink، نستخدم Cloudinary لجميع أصول الصور والفيديو الخاصة بنا. عند وصولك إلى مخزون السفر لدينا، سيكون لديك وصول كامل إلى جميع ميزات Cloudinary المتقدمة.

اسم `cloud_name` الخاص بنا هو `traveliko`.

### Cloudinary

- [البدء](https://cloudinary.com/documentation/dev_kickstart)
- [مجموعات تطوير البرمجيات (SDKs)](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary على GitHub](https://github.com/cloudinary)
-	[دروس الفيديو](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### مثال

لكل نوع من أنواع مخزون السفر التي ندعمها، سيكون هناك مصفوفة JSON متداخلة تسمى `multimedias`. شكل JSON لمدخل وسائط متعددة يبدو كالتالي:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

السطر المميز أعلاه يعرض معرف Cloudinary الفريد `partners/radisson_blu_logo`. هذا كل ما تحتاجه لاسترجاع الصورة بأي تنسيق أو جودة أو حجم تريده.

## الاختبار

توجه إلى قسم [واجهات برمجة التطبيقات](/developer/apis) واختر واجهة برمجة التطبيقات التي تريد العمل معها.

### وثائق API

تم إعداد موقع التوثيق لدينا بطريقة تتيح لك تشغيل أوامر API من داخل الموقع.

في هذا المثال، تريد استخدام نداء API الخاص بـ `Search Lookups (OAuth2)`.

:::tip[نصيحة احترافية]
لسهولة الاستخدام، نوصي بأن يستخدم المدمجون النقاط النهائية التي نحددها كـ `OAuth2`. تلك النقاط النهائية تعرف أنها تتوقع منادي واجهات برمجة التطبيقات وتعرف بالفعل الحساب الذي تستخدمه لذلك لا تحتاج إلى تحديد `companyIdentifier` في عناوين URL الخاصة بك.
:::

<Steps>
1. استخدم [Lookup API](https://developer.wink.travel/lookup) لاسترجاع الوجهات أو الفنادق.
2. في شريط التنقل الأيسر، انقر على `Authentication`.
3. أدخل client-id و client secret وانقر على زر `Get TOKEN`.
4. إذا كانت بيانات اعتمادك صحيحة، سترى أن مفتاح API الخاص بك قد تم تطبيقه.
5. يمكنك الآن اختبار نقطة نهاية البحث.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="نقطة نهاية Lookup API"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*مثال على Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
يمكنك القيام بنفس الشيء باستخدام Postman.

<Steps>
1. قم بتنزيل [Postman](https://www.postman.com/downloads).
2. انقر على `Download OpenAPI spec` من أعلى صفحة [Lookup API](https://developer.wink.travel/lookup).
3. استوردها إلى Postman.
4. إذا قمت باستيرادها كمجموعة جديدة تسمى `Wink API`، انقر على النقاط الأفقية الثلاث بجانب اسم المجموعة ثم انقر على `Edit`.
5. في علامة تبويب `Authorization`، اضبط `Auth type` على OAuth2.
6. اضبط الحقل `Add auth data to` على `Request headers`.
7. اضبط الحقل `Header prefix` على `Bearer`.
8. اضبط الحقل `Token Name` على أي اسم تريد تسميته لرمزك المحفوظ في Postman، مثل Wink Staging.
9. اضبط الحقل `Grant type` على `Client Credentials`.
10. اضبط الحقل `Access token URL` على https://staging-iam.wink.travel/oauth2/token.
11. اضبط الحقل `Client ID` على معرف العميل الذي ساعد تطبيقك في إنشائه.
12. اضبط الحقل `Client Secret` على السر الخاص بالعميل الذي ساعد تطبيقك في إنشائه.
13. اضبط الحقل `Scope` على `inventory.read inventory.write inventory.remove`. هذه هي جميع الصلاحيات التي ستحتاجها لـ Wink.
14. اضبط الحقل `Client Authentication` على `Send as Basic Auth header`.
15. انقر على زر `Get New Access Token` لاسترجاع رمزك وحفظه.
16. لجميع نداءات API تحت مجموعة Wink API، تأكد من أن علامة التبويب الخاصة بالمصادقة تقول `Inherit auth from parent` حتى يتضمن رمزك مع كل نداء.
</Steps>

:::tip[نصيحة احترافية]
يوصى بتحويل نطاق الخادم، معرف العميل، والسر الخاص بالعميل إلى متغيرات بيئية. بهذه الطريقة يمكنك التبديل بسهولة بين بيئات الاختبار والإنتاج وإعادة استخدام جميع العمليات التي أنشأتها.
:::
