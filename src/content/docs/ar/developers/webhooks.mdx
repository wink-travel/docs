---
title: Webhooks
description: اشترك في أحداث Wink و TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '../../../components/cloudinary-image.astro';

تعتبر Webhooks طريقة تمكنك من تلقي الأحداث في الوقت الفعلي من Wink وTripPay المتعلقة بحسابك والرد عليها.

## مثال

<Steps>
  1. يتم الحجز على Wink.
  2. حدث وينك `booking.created` تم إرسالها.
  3. نظامك يستمع بنشاط لهذا الحدث.
  4. يقوم نظامك بتتبع مجموعة التحليلات الخاصة بك ويستخدم هذا الحدث لتحديث قاعدة بيانات السلسلة الزمنية الخاصة به.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="عينة من خطاف الويب" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*عينة إدخال خطاف الويب*</figcaption>
</figure>


ملاحظة: يختلف خطاف Wink عن خطاف TripPay.

* إذا كنت تريد الاستماع إلى أحداث Wink، فيمكنك إنشاء خطاف ويب من[الشبكة الخارجية](https://extranet.wink.travel) أو [الاستوديو](https://studio.wink.travel).
* إذا كنت تريد الاستماع إلى أحداث TripPay، فيمكنك إنشاء خطاف ويب من[قسط](https://pay.wink.travel).
  :::

*في هذا المثال، سنقوم بالمصادقة عبر[الاستوديو](https://studio.wink.travel).*

<Steps>
  1. بمجرد التحقق من صحة بياناتك، انقر فوق أيقونة ملفك الشخصي في الزاوية اليمنى العليا، وستظهر قائمة.
  2. انقر على `Webhooks` وصلة.
  3. سيتم إعادة توجيهك إلى صفحة webhooks الخاصة بك.
</Steps>


## إنشاء خطاف ويب

تنبيه: يجب عليك إنشاء حساب تابع على Wink أو TripPay قبل إنشاء خطاف ويب، حيث سيتم ربط خطاف الويب الخاص بك بحساب محدد.


يتطلب إنشاء خطاف ويب ربطًا مباشرًا بحساب محدد.

فيما يلي الخطوات لإنشاء خطاف ويب:

<Steps>
  1. من صفحة webhooks، انقر فوق `Create new webhook` زر.
  2. ***اسم*** أعطِ خطاف الويب الخاص بك اسمًا. *على سبيل المثال Wink Stalker*
  3. ***يُمكَِن*** اتركه كما هو ليتم تمكينه.
  4. **اسم الكيان** قم بربط خطاف الويب الخاص بك بأحد حساباتك الحالية. *على سبيل المثال حساب رائع*
  5. **الأحداث** استمع إلى الأحداث التي تهمك. *على سبيل المثال `booking.created`*
  6. **عنوان URL لـ Webhook** أدخل عنوان URL الذي ستستمع من خلاله إلى الأحداث منا. *على سبيل المثال `https://my.system.com/webhook/wink`*
  7. انقر على `Save` زر للاستمرار.
</Steps>


سيتم إعادة توجيهك مرة أخرى إلى قائمة خطافات الويب الخاصة بك وخطاف الويب الجديد الخاص بك جاهز للاستخدام.

## تحديث خطاف الويب

سوف تحتاج إلى تحديث التطبيق الخاص بك إذا كنت تريد:

* قم بتعطيل خطاف الويب الخاص بك.
* استمع إلى المزيد / الأقل من الأحداث.
* قم بتغيير عنوان URL لخطاف الاستماع الخاص بك.

لتحديث خطاف ويب موجود، قم بما يلي:

<Steps>
  1. انقر على `Actions` رابط لخطاف الويب الذي تريد تحديثه.
  2. انقر على `Update` الزر الموجود أسفل الإجراءات.
  3. قم بإجراء التغييرات الخاصة بك على webhook.
  4. انقر على `Save` زر للاستمرار.
</Steps>


سيتم إعادة توجيهك مرة أخرى إلى قائمة خطافات الويب الخاصة بك.

## إزالة خطاف الويب

إذا لم يعد لديك أي استخدام آخر لخطاف الويب، فيمكنك المضي قدمًا وإزالته.

لإزالة خطاف الويب، قم بما يلي:

<Steps>
  1. انقر على `Actions` رابط لخطاف الويب الذي تريد تحديثه.
  2. انقر على `Remove` الزر الموجود أسفل الإجراءات.
  3. انقر `OK` زر لتأكيد الحذف.
</Steps>


سيتم إعادة توجيهك مرة أخرى إلى قائمة خطافات الويب الخاصة بك.

