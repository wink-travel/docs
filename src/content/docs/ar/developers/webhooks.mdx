---
title: الويب هوكس
description: الاشتراك في أحداث Wink و TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

الويب هوكس هي طريقة لتلقي الأحداث في الوقت الفعلي من Wink و TripPay المتعلقة بحسابك، والتفاعل معها.

## مثال

<Steps>
1. يتم إجراء حجز على Wink.
1. يتم إرسال حدث Wink `booking.created`.
2. نظامك يستمع بنشاط لهذا الحدث.
3. يتتبع نظامك مجموعة تحليلاته الخاصة ويستخدم هذا الحدث لتحديث قاعدة بيانات السلاسل الزمنية الخاصة به.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="مثال على ويب هوك"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*مثال على إدخال ويب هوك*</figcaption>
</figure>

:::note
ويب هوك Wink يختلف عن ويب هوك TripPay.

- إذا كنت تريد الاستماع إلى أحداث Wink، يمكنك إنشاء ويب هوك من [Extranet](https://extranet.wink.travel) أو [Studio](https://studio.wink.travel).
- إذا كنت تريد الاستماع إلى أحداث TripPay، يمكنك إنشاء ويب هوك من [Payment](https://pay.wink.travel).
:::

*لهذا المثال، سنقوم بالمصادقة عبر [Studio](https://studio.wink.travel).*

<Steps>
1. بمجرد المصادقة، انقر على أيقونة ملفك الشخصي في الزاوية العلوية اليمنى، وسيظهر قائمة.
2. انقر على رابط `Webhooks`.
3. سيتم توجيهك إلى صفحة الويب هوكس الخاصة بك.
</Steps>

## إنشاء ويب هوك

:::caution
تحتاج إلى إنشاء حساب تابع على Wink أو حساب على TripPay قبل إنشاء ويب هوك لأنك سترتبط ويب هوك بحساب محدد.
:::

فيما يلي خطوات إنشاء ويب هوك:

<Steps>
1. من صفحة الويب هوكس، انقر على زر `Create new webhook`.
2. ***الاسم*** امنح ويب هوك اسمًا. *مثلاً Wink Stalker*
3. ***تمكين*** اتركه كما هو ليكون مفعلاً.
4. **اسم الكيان** اربط ويب هوك بأحد حساباتك الحالية. *مثلاً Cool Account*
5. **الأحداث** استمع إلى الأحداث التي تهمك. *مثلاً `booking.created`*
6. **رابط الويب هوك** أدخل الرابط الذي ستستمع منه إلى الأحداث منا. *مثلاً `https://my.system.com/webhook/wink`*
7. انقر على زر `Save` للمتابعة.
</Steps>

سيتم توجيهك مرة أخرى إلى قائمة الويب هوكس الخاصة بك وسيكون ويب هوك الجديد جاهزًا للاستخدام.

## تحديث ويب هوك

ستحتاج إلى تحديث تطبيقك إذا كنت تريد:

- تعطيل ويب هوك الخاص بك.
- الاستماع إلى المزيد / أقل من الأحداث.
- تغيير رابط الويب هوك الذي تستمع منه.

لتحديث ويب هوك موجود، قم بما يلي:

<Steps>
1. انقر على رابط `Actions` للويب هوك الذي تريد تحديثه.
2. انقر على زر `Update` تحت Actions.
3. قم بإجراء التغييرات على الويب هوك.
4. انقر على زر `Save` للمتابعة.
</Steps>

سيتم توجيهك مرة أخرى إلى قائمة الويب هوكس الخاصة بك.

## إزالة ويب هوك

إذا لم تعد بحاجة إلى الويب هوك، يمكنك إزالته.

لإزالة ويب هوك، قم بما يلي:

<Steps>
1. انقر على رابط `Actions` للويب هوك الذي تريد تحديثه.
2. انقر على زر `Remove` تحت Actions.
3. انقر على زر `OK` لتأكيد الحذف.
</Steps>

سيتم توجيهك مرة أخرى إلى قائمة الويب هوكس الخاصة بك.
