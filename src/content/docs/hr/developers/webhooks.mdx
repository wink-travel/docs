---
title: Webhookovi
description: Pretplatite se na događaje Wink i TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhookovi su način da primate i reagirate na događaje u stvarnom vremenu iz Wink i TripPay vezane uz vaš račun.

## Primjer

<Steps>
1. Dogodi se rezervacija na Wink.
1. Događaj Wink `booking.created` se šalje.
2. Vaš sustav aktivno sluša taj događaj.
3. Vaš sustav prati vlastiti skup analitika i koristi taj događaj za ažuriranje svoje vremenske baze podataka.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Primjer webhooka"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Primjer unosa webhooka*</figcaption>
</figure>

:::note
Wink webhook se razlikuje od TripPay webhooka.

- Ako želite slušati Wink događaje, možete kreirati webhook iz [Extraneta](https://extranet.wink.travel) ili [Studija](https://studio.wink.travel).
- Ako želite slušati TripPay događaje, možete kreirati webhook iz [Payment](https://pay.wink.travel).
:::

*Za ovaj primjer, autentificirat ćemo se putem [Studija](https://studio.wink.travel).*

<Steps>
1. Nakon autentifikacije, kliknite na ikonu profila u gornjem desnom kutu i pojavit će se izbornik.
2. Kliknite na poveznicu `Webhookovi`.
3. Bit ćete preusmjereni na stranicu vaših webhookova.
</Steps>

## Kreiranje webhooka

:::caution
Prije kreiranja webhooka morate imati affiliate račun na Wink ili račun na TripPay jer ćete povezati webhook s određenim računom.
:::

Evo koraka za kreiranje webhooka:

<Steps>
1. Na stranici webhookova kliknite gumb `Create new webhook`.
2. ***Naziv*** Dajte webhooku ime. *npr. Wink Stalker*
3. ***Omogući*** Ostavite kako jest da bude omogućen.
4. **Naziv entiteta** Povežite webhook s jednim od vaših postojećih računa. *npr. Cool Account*
5. **Događaji** Slušajte događaje koji vas zanimaju. *npr. `booking.created`*
6. **Webhook URL** Unesite URL na kojem ćete slušati događaje od nas. *npr. `https://my.system.com/webhook/wink`*
7. Kliknite gumb `Save` za nastavak.
</Steps>

Bit ćete preusmjereni natrag na popis webhookova i vaš novi webhook je spreman za korištenje.

## Ažuriranje webhooka

Morat ćete ažurirati svoju aplikaciju ako želite:

- Onemogućiti webhook.
- Slušati više / manje događaja.
- Promijeniti URL na kojem slušate webhook.

Za ažuriranje postojećeg webhooka, učinite sljedeće:

<Steps>
1. Kliknite poveznicu `Actions` za webhook koji želite ažurirati.
2. Kliknite gumb `Update` ispod Actions.
3. Napravite promjene na webhooku.
4. Kliknite gumb `Save` za nastavak.
</Steps>

Bit ćete preusmjereni natrag na popis webhookova.

## Uklanjanje webhooka

Ako vam webhook više nije potreban, možete ga ukloniti.

Za uklanjanje webhooka, učinite sljedeće:

<Steps>
1. Kliknite poveznicu `Actions` za webhook koji želite ukloniti.
2. Kliknite gumb `Remove` ispod Actions.
3. Kliknite gumb `OK` za potvrdu brisanja.
</Steps>

Bit ćete preusmjereni natrag na popis webhookova.
