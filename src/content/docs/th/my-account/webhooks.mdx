---
title: เว็บฮุก
description: สมัครรับเหตุการณ์จาก Wink และ TripPay
sidebar:
  order: 11
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

เว็บฮุกเป็นวิธีที่คุณจะได้รับและตอบสนองต่อเหตุการณ์แบบเรียลไทม์จาก Wink สำหรับบัญชีของคุณ

<Steps>
 1. เลือกบัญชีที่คุณต้องการทำงานด้วยจาก [Accounts](https://my.wink.travel).
 2. คลิกที่ `Actions` ที่ด้านล่างของการ์ดบัญชีและเลือก `Manage account`.
 3. คลิกแท็บ `Webhooks` ในหน้าถัดไป
 4. ส่วนนี้จะแสดงรายการเว็บฮุกทั้งหมดของคุณ
 5. เลือกแก้ไขเว็บฮุกที่มีอยู่หรือสร้างเว็บฮุกใหม่
 </Steps>

## ตัวอย่าง

<Steps>
1. มีการจองเกิดขึ้นบน Wink
1. เหตุการณ์ Wink `booking.created` ถูกส่งออก
2. ระบบของคุณกำลังฟังเหตุการณ์นี้อย่างต่อเนื่อง
3. ระบบของคุณติดตามชุดวิเคราะห์ของตัวเองและใช้เหตุการณ์นี้เพื่ออัปเดตฐานข้อมูลแบบ time-series
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="ตัวอย่างเว็บฮุก"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*ตัวอย่างรายการเว็บฮุก*</figcaption>
</figure>

## สร้างเว็บฮุก

:::caution
คุณต้องสร้างบัญชีพันธมิตรบน Wink หรือบัญชีบน TripPay ก่อนที่จะสร้างเว็บฮุก เพราะคุณจะผูกเว็บฮุกกับบัญชีเฉพาะ
:::

ขั้นตอนการสร้างเว็บฮุกมีดังนี้:

<Steps>
1. จากหน้าของเว็บฮุก คลิกปุ่ม `Create new webhook`
2. ***ชื่อ*** ตั้งชื่อเว็บฮุกของคุณ *เช่น Wink Stalker*
3. ***เปิดใช้งาน*** ปล่อยไว้ตามเดิมเพื่อเปิดใช้งาน
4. **ชื่อเอนทิตี** ผูกเว็บฮุกของคุณกับบัญชีที่มีอยู่ *เช่น Cool Account*
5. **เหตุการณ์** เลือกฟังเหตุการณ์ที่คุณสนใจ *เช่น `booking.created`*
6. **URL เว็บฮุก** กรอก URL ที่คุณจะฟังเหตุการณ์จากเรา *เช่น `https://my.system.com/webhook/wink`*
7. คลิกปุ่ม `Save` เพื่อดำเนินการต่อ
</Steps>

คุณจะถูกเปลี่ยนเส้นทางกลับไปยังรายการเว็บฮุกของคุณและเว็บฮุกใหม่ของคุณพร้อมใช้งานแล้ว

## อัปเดตเว็บฮุก

คุณจะต้องอัปเดตแอปของคุณหากต้องการ:

- ปิดใช้งานเว็บฮุกของคุณ
- ฟังเหตุการณ์มากขึ้นหรือน้อยลง
- เปลี่ยน URL เว็บฮุกที่ฟังเหตุการณ์

ในการอัปเดตเว็บฮุกที่มีอยู่ ให้ทำดังนี้:

<Steps>
1. คลิกลิงก์ `Actions` สำหรับเว็บฮุกที่คุณต้องการอัปเดต
2. คลิกปุ่ม `Update` ภายใต้ Actions
3. ทำการเปลี่ยนแปลงเว็บฮุกของคุณ
4. คลิกปุ่ม `Save` เพื่อดำเนินการต่อ
</Steps>

คุณจะถูกเปลี่ยนเส้นทางกลับไปยังรายการเว็บฮุกของคุณ

## ลบเว็บฮุก

หากคุณไม่ต้องการใช้เว็บฮุกนั้นอีกต่อไป คุณสามารถลบมันได้

ในการลบเว็บฮุก ให้ทำดังนี้:

<Steps>
1. คลิกลิงก์ `Actions` สำหรับเว็บฮุกที่คุณต้องการลบ
2. คลิกปุ่ม `Remove` ภายใต้ Actions
3. คลิกปุ่ม `OK` เพื่อยืนยันการลบ
</Steps>

คุณจะถูกเปลี่ยนเส้นทางกลับไปยังรายการเว็บฮุกของคุณ
