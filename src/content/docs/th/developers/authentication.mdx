---
title: การตรวจสอบสิทธิ์
description: เรียนรู้วิธีการตรวจสอบสิทธิ์โดยใช้เซิร์ฟเวอร์การอนุญาต OAuth2 ของ Wink
sidebar:
  order: 2
---

:::tip
เซิร์ฟเวอร์การตรวจสอบสิทธิ์ Wink IAM รองรับจุดสิ้นสุด OAuth2 ทั่วไป:

- /oauth2/authorize
- /oauth2/token
- /oauth2/introspect
- /oauth2/revoke
- /oauth2/userinfo
:::

แอปพลิเคชันจะมอบ `Client ID` และ `Secret Key` ให้คุณ ซึ่งคุณต้องใช้เพื่อสร้างเซสชัน OAuth2 ที่ตรวจสอบสิทธิ์แล้วเพื่อสื่อสารกับ Wink และ TripPay APIs

นี่คือขั้นตอนในการสร้างเซสชันที่ตรวจสอบสิทธิ์แล้ว

**ขั้นตอนที่ 1**. ดึง access token บนสเตจจิ้งหรือในสภาพแวดล้อมการผลิตของเรา:

คุณน่าจะใช้ไลบรารี OAuth2 ที่มีประสิทธิภาพสำหรับภาษาของคุณ ซึ่งจะจัดการงานหนักทั้งหมดให้คุณ
ตัวอย่างของเราจะแสดงการใช้งานพื้นฐานที่สุดจากบรรทัดคำสั่งโดยใช้ `curl`

### สเตจจิ้ง

```bash

curl -X POST https://staging-iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

### การผลิต

```bash

curl -X POST https://iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

สิ่งนี้จะส่งคืน access token พร้อมกับข้อมูลการตอบสนอง OAuth2 อื่นๆ:

```json
{
  "access_token": "abc123"
}
```

เมื่อคุณเรียกใช้จุดสิ้นสุดใดๆ ของเรา ให้รวมสิ่งต่อไปนี้ในส่วนหัว:

- `Wink-Version` = `2.0` ล่าสุด - *ดูเอกสาร API ของเราเพื่อเวอร์ชันอื่นๆ ที่มีให้เลือก*
- `Authentication` = `Bearer: ${access_token}` *แทรก access token ของคุณ*

:::tip
คุณสามารถทดสอบ API ทั้งหมดของเราได้โดยไม่ต้องเขียนโค้ดแม้แต่บรรทัดเดียวก่อนเริ่มต้น

รับ 'Client ID' และ 'Secret Key' จากแอปของคุณแล้วไปที่ [APIs](/th/developers/apis) ของเราได้เลย
:::
