---
title: การตั้งค่า
description: บทความนี้แสดงวิธีการตั้งค่าอย่างรวดเร็วในฐานะนักพัฒนาและเริ่มทดสอบ API ของเราบน Wink
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

บทความนี้แสดงวิธีการตั้งค่าอย่างรวดเร็วในฐานะนักพัฒนาและเริ่มทดสอบ API ของเราบน Wink

:::note
การทดสอบควรทำใน [สภาพแวดล้อมสเตจจิ้ง](/getting-started/environments) เสมอ ที่นั่นจะมีข้อมูลน้อยกว่าแต่คุณสามารถทดสอบได้อย่างเต็มที่โดยไม่ส่งผลกระทบต่อสภาพแวดล้อมการผลิต

เมื่อคุณพร้อมใช้งานจริง เราจะรับรองบัญชีและแอปพลิเคชันของคุณ และคุณสามารถเปิดใช้งานในสภาพแวดล้อมการผลิตของเราได้
:::

ทำตามขั้นตอนเหล่านี้:

<Steps>
1. [ลงทะเบียน](/user/register) บัญชีผู้ใช้ของคุณบน Wink
2. สร้าง [บัญชีตัวแทนท่องเที่ยว](/travel-agent/what-is-agent) หรือ [บัญชีพันธมิตร](/studio/what-is-studio)
3. [สร้างแอปพลิเคชัน](/developer/applications) โดยเชื่อมโยงกับบัญชีที่คุณสร้างในขั้นตอนที่ 2
4. เมื่อคุณสร้าง `Application` แล้ว ให้บันทึก client-id และ client secret ไว้ในที่ปลอดภัย
</Steps>

## CDN

ที่ Wink เราใช้ Cloudinary สำหรับภาพและวิดีโอทั้งหมดของเรา เมื่อคุณเข้าถึงสินค้าคงคลังการท่องเที่ยวของเรา คุณจะสามารถใช้ฟีเจอร์ขั้นสูงทั้งหมดของ Cloudinary ได้อย่างเต็มที่

`cloud_name` ของเราคือ `traveliko`

### Cloudinary

- [เริ่มต้นใช้งาน](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary บน GitHub](https://github.com/cloudinary)
-	[วิดีโอสอน](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### ตัวอย่าง

สำหรับสินค้าคงคลังการท่องเที่ยวแต่ละประเภทที่เรารองรับ จะมีอาร์เรย์ JSON ซ้อนชื่อ `multimedias` JSON สำหรับรายการมัลติมีเดียมีลักษณะดังนี้:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

บรรทัดที่เน้นด้านบนแสดง ID เฉพาะของ Cloudinary คือ `partners/radisson_blu_logo` นั่นคือข้อมูลที่คุณต้องใช้เพื่อดึงภาพในรูปแบบ คุณภาพ และขนาดที่คุณต้องการ

## การทดสอบ

ไปที่ส่วน [APIs](/developer/apis) ของเราและเลือก API ที่คุณต้องการใช้งาน

### เอกสาร API

เว็บไซต์เอกสารของเราถูกตั้งค่าให้คุณสามารถรันคำสั่ง API ได้จากภายในเว็บไซต์

ในตัวอย่างนี้ คุณต้องการใช้คำสั่ง API `Search Lookups (OAuth2)`

:::tip[เคล็ดลับมือโปร]
เพื่อความสะดวก เราแนะนำให้นักพัฒนาระบบใช้ endpoints ที่เรากำหนดเป็น `OAuth2` endpoints เหล่านี้จะรู้จักผู้เรียก API และรู้ว่าคุณอยู่ในบัญชีใด ดังนั้นคุณไม่ต้องระบุ `companyIdentifier` ใน URL ของคุณ
:::

<Steps>
1. ใช้ [Lookup API](https://developer.wink.travel/lookup) เพื่อดึงข้อมูลปลายทางหรือโรงแรม
2. ในแถบนำทางด้านซ้าย คลิกที่ `Authentication`
3. กรอก client-id และ client secret ของคุณแล้วคลิกปุ่ม `Get TOKEN`
4. หากข้อมูลรับรองของคุณถูกต้อง คุณจะเห็นว่า API key ของคุณถูกนำไปใช้แล้ว
5. ตอนนี้คุณสามารถทดสอบ endpoint lookup ได้
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API endpoint"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*ตัวอย่าง Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
คุณสามารถทำแบบเดียวกันนี้ด้วย Postman

<Steps>
1. ดาวน์โหลด [Postman](https://www.postman.com/downloads)
2. คลิกที่ `Download OpenAPI spec` จากด้านบนของหน้า [Lookup API](https://developer.wink.travel/lookup)
3. นำเข้าไฟล์นี้เข้าสู่ Postman
4. หากคุณนำเข้าเป็นคอลเลกชันใหม่ชื่อ `Wink API` ให้คลิกที่จุดสามจุดแนวนอนข้างชื่อคอลเลกชันแล้วเลือก `Edit`
5. ในแท็บ `Authorization` ตั้งค่า `Auth type` เป็น OAuth2
6. ตั้งค่า `Add auth data to` เป็น `Request headers`
7. ตั้งค่า `Header prefix` เป็น `Bearer`
8. ตั้งค่า `Token Name` เป็นชื่อที่คุณต้องการตั้งให้กับโทเค็นที่บันทึกใน Postman เช่น Wink Staging
9. ตั้งค่า `Grant type` เป็น `Client Credentials`
10. ตั้งค่า `Access token URL` เป็น https://staging-iam.wink.travel/oauth2/token
11. ตั้งค่า `Client ID` เป็น Client ID ที่แอปของคุณช่วยสร้าง
12. ตั้งค่า `Client Secret` เป็น Client Secret ที่แอปของคุณช่วยสร้าง
13. ตั้งค่า `Scope` เป็น `inventory.read inventory.write inventory.remove` ซึ่งเป็นสโคปทั้งหมดที่คุณต้องการสำหรับ Wink
14. ตั้งค่า `Client Authentication` เป็น `Send as Basic Auth header`
15. คลิกปุ่ม `Get New Access Token` เพื่อรับโทเค็นและบันทึกไว้
16. สำหรับคำสั่ง API ทั้งหมดในคอลเลกชัน Wink API ให้แน่ใจว่าแท็บการรับรองความถูกต้องตั้งเป็น `Inherit auth from parent` เพื่อให้โทเค็นของคุณถูกแนบไปกับทุกคำสั่ง
</Steps>

:::tip[เคล็ดลับมือโปร]
แนะนำให้ตั้งค่าชื่อโดเมนเซิร์ฟเวอร์, Client ID และ Client Secret เป็นตัวแปรสภาพแวดล้อม เพื่อให้คุณสามารถสลับระหว่างสภาพแวดล้อมสเตจจิ้งและการผลิตได้อย่างง่ายดาย และนำการดำเนินการทั้งหมดที่คุณสร้างไว้กลับมาใช้ใหม่
:::
