---
title: Webhook
description: Iscriviti agli eventi di Wink e TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

I webhook sono un modo per ricevere e reagire in tempo reale agli eventi di Wink e TripPay riguardanti il tuo account.

## Esempio

<Steps>
1. Viene effettuata una prenotazione su Wink.
1. Viene inviato l'evento Wink `booking.created`.
2. Il tuo sistema sta ascoltando attivamente questo evento.
3. Il tuo sistema traccia il proprio set di analisi e utilizza questo evento per aggiornare il suo database a serie temporali.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Esempio di webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Esempio di voce webhook*</figcaption>
</figure>

:::note
Un webhook di Wink è diverso da un webhook di TripPay.

- Se vuoi ascoltare gli eventi di Wink, puoi creare un webhook da [Extranet](https://extranet.wink.travel) o [Studio](https://studio.wink.travel).
- Se vuoi ascoltare gli eventi di TripPay, puoi creare un webhook da [Payment](https://pay.wink.travel).
:::

*Per questo esempio, ci autenticheremo tramite [Studio](https://studio.wink.travel).*

<Steps>
1. Una volta autenticato, clicca sull'icona del profilo, in alto a destra, e apparirà un menu.
2. Clicca sul link `Webhooks`.
3. Verrai reindirizzato alla pagina dei tuoi webhook.
</Steps>

## Crea webhook

:::caution
Devi creare un account affiliato su Wink o un account su TripPay prima di creare un webhook, poiché dovrai associare il webhook a un account specifico.
:::

Ecco i passaggi per creare un webhook:

<Steps>
1. Dalla pagina dei webhook, clicca sul pulsante `Create new webhook`.
2. ***Nome*** Dai un nome al tuo webhook. *es. Wink Stalker*
3. ***Abilita*** Lascia così com'è per abilitare.
4. **Nome entità** Collega il tuo webhook a uno dei tuoi account esistenti. *es. Cool Account*
5. **Eventi** Ascolta gli eventi che ti interessano. *es. `booking.created`*
6. **URL webhook** Inserisci l'URL dove ascolterai gli eventi da noi inviati. *es. `https://my.system.com/webhook/wink`*
7. Clicca sul pulsante `Save` per continuare.
</Steps>

Verrai reindirizzato alla lista dei tuoi webhook e il nuovo webhook sarà pronto all'uso.

## Aggiorna webhook

Dovrai aggiornare la tua app se vuoi:

- Disabilitare il webhook.
- Ascoltare più o meno eventi.
- Cambiare l'URL del webhook dove ascolti gli eventi.

Per aggiornare un webhook esistente, procedi così:

<Steps>
1. Clicca sul link `Actions` per il webhook che vuoi aggiornare.
2. Clicca sul pulsante `Update` sotto Actions.
3. Apporta le modifiche al webhook.
4. Clicca sul pulsante `Save` per continuare.
</Steps>

Verrai reindirizzato alla lista dei tuoi webhook.

## Rimuovi webhook

Se non hai più bisogno del webhook, puoi rimuoverlo.

Per rimuovere un webhook, procedi così:

<Steps>
1. Clicca sul link `Actions` per il webhook che vuoi rimuovere.
2. Clicca sul pulsante `Remove` sotto Actions.
3. Clicca sul pulsante `OK` per confermare la cancellazione.
</Steps>

Verrai reindirizzato alla lista dei tuoi webhook.
