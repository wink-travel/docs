---
title: Autentikointi
description: Opi, miten autentikoidut käyttämällä Winkin OAuth2-valtuutuspalvelinta.
sidebar:
  order: 2
---

:::tip
Wink IAM -autentikointipalvelin tukee yleisiä OAuth2-päätepisteitä:

- /oauth2/authorize
- /oauth2/token
- /oauth2/introspect
- /oauth2/revoke
- /oauth2/userinfo
:::

Sovellus antaa sinulle `Client ID` ja `Secret Key` -tiedot, joita tarvitset luodaksesi autentikoidun OAuth2-istunnon, jota voit käyttää kommunikoidessasi Wink- ja TripPay-rajapintojen kanssa.

Tässä ovat vaiheet autentikoidun istunnon luomiseksi.

**Vaihe 1**. Hanki käyttöoikeustunnus staging-ympäristössä tai tuotantoympäristössämme:

Todennäköisesti käytät kielen omaa vankkaa OAuth2-kirjastoa, joka hoitaa kaiken raskaan työn puolestasi.
Esimerkkimme näyttävät peruskäytön komentoriviltä käyttäen `curl`-komentoa.

### Staging

```bash

curl -X POST https://staging-iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

### Tuotanto

```bash

curl -X POST https://iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

Tämä palauttaa käyttöoikeustunnuksen sekä muuta OAuth2-vastausdatan:

```json
{
  "access_token": "abc123"
}
```

Kun teet kutsun mihin tahansa päätepisteeseemme, sisällytä seuraavat otsikot:

- `Wink-Version` = `2.0` Uusin - *Katso API-dokumentaatiostamme muut saatavilla olevat versiot.*
- `Authentication` = `Bearer: ${access_token}` *Lisää käyttöoikeustunnuksesi.*

:::tip
Voit testata kaikkia API-rajapintoja ilman, että kirjoitat yhtään koodiriviä ennen aloittamista.

Hanki 'Client ID' ja 'Secret Key' jostakin sovelluksestasi ja siirry mihin tahansa [APIs](/fi/developers/apis) -sivuston rajapintaan.
:::
