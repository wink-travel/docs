---
title: Webhooks
description: Tilaa Wink- ja TripPay-tapahtumat.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhookit ovat tapa vastaanottaa ja reagoida Winkin ja TripPayn reaaliaikaisiin tapahtumiin, jotka koskevat tiliäsi.

## Esimerkki

<Steps>
  1. Winkissä tehdään varaus.
  2. Wink-tapahtuma `booking.created` lähetetään.
  3. Järjestelmäsi kuuntelee aktiivisesti tätä tapahtumaa.
  4. Järjestelmäsi seuraa omaa analytiikkajoukkoasi ja käyttää tätä tapahtumaa aikasarjatietokantansa päivittämiseen.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Esimerkki webhookista" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Esimerkki webhook-merkinnästä*</figcaption>
</figure>


:::note
Wink-webhook eroaa TripPay-webhookista.

* Jos haluat kuunnella Wink-tapahtumia, voit luoda webhookin osoitteesta[Ekstranet](https://extranet.wink.travel)tai[Studio](https://studio.wink.travel).
* Jos haluat kuunnella TripPay-tapahtumia, voit luoda webhookin osoitteesta[Maksu](https://pay.wink.travel).
  :::

*Tässä esimerkissä todennamme sen seuraavasti:[Studio](https://studio.wink.travel).*

<Steps>
  1. Kun olet todennut profiilisi, napsauta profiilikuvakettasi oikeassa yläkulmassa, niin valikko tulee näkyviin.
  2. Klikkaa `Webhooks` linkki.
  3. Sinut ohjataan webhooks-sivullesi.
</Steps>


## Luo webhook

:::varoitus
Sinun on luotava Wink-kumppanitili tai TripPay-tili ennen webhookin luomista, koska sidot webhookin tiettyyn tiliin.
:::

Tässä ovat webhookin luomisen vaiheet:

<Steps>
  1. Napsauta webhooks-sivulla `Create new webhook` painiketta.
  2. ***Nimi*** Anna webhookille nimi. *esim. Wink Stalker*
  3. ***Ota käyttöön*** Jätä sellaisenaan, jotta se on käytössä.
  4. **Yksikön nimi** Linkitä webhookisi johonkin olemassa olevista tileistäsi. *esim. Cool-tili*
  5. **Tapahtumat** Kuuntele tapahtumia, jotka kiinnostavat sinua. *esim. `booking.created`*
  6. **Webhookin URL-osoite** Anna URL-osoite, josta kuuntelet tapahtumiamme. *esim. `https://my.system.com/webhook/wink`*
  7. Klikkaa `Save` -painiketta jatkaaksesi.
</Steps>


Sinut ohjataan takaisin webhook-luetteloosi ja uusi webhook on käyttövalmis.

## Päivitä webhookki

Sinun on päivitettävä sovelluksesi, jos haluat:

* Poista webhook käytöstä.
* Kuuntele enemmän/vähemmän tapahtumia.
* Muuta kuuntelu-webhook-osoitteesi URL-osoitetta.

Päivitä olemassa oleva webhookin seuraavasti:

<Steps>
  1. Klikkaa `Actions` linkki päivitettävään webhookiin.
  2. Klikkaa `Update` -painike Toiminnot-kohdan alla.
  3. Tee muutokset webhookiin.
  4. Klikkaa `Save` -painiketta jatkaaksesi.
</Steps>


Sinut ohjataan takaisin webhookien luetteloon.

## Poista webhook

Jos sinulla ei ole enää käyttöä webhookille, voit poistaa sen.

Voit poistaa webhookin seuraavasti:

<Steps>
  1. Klikkaa `Actions` linkki päivitettävään webhookiin.
  2. Klikkaa `Remove` -painike Toiminnot-kohdan alla.
  3. Klikkaa `OK` -painiketta vahvistaaksesi poiston.
</Steps>


Sinut ohjataan takaisin webhookien luetteloon.

