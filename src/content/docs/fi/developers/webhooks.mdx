---
title: Webhookit
description: Tilaa Wink- ja TripPay-tapahtumat.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhookit ovat tapa vastaanottaa ja reagoida reaaliaikaisiin tapahtumiin Winkiltä ja TripPaylta, jotka liittyvät tiliisi.

## Esimerkki

<Steps>
1. Varauksen tekeminen Winkissä.
1. Wink-tapahtuma `booking.created` lähetetään.
2. Järjestelmäsi kuuntelee aktiivisesti tätä tapahtumaa.
3. Järjestelmäsi seuraa omaa analytiikkaansa ja käyttää tätä tapahtumaa päivittääkseen aikasarjatietokantaansa.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Esimerkkikuvassa webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Esimerkkimerkintä webhookista*</figcaption>
</figure>

:::note
Wink-webhook eroaa TripPay-webhookista.

- Jos haluat kuunnella Wink-tapahtumia, voit luoda webhookin [Extranetista](https://extranet.wink.travel) tai [Studiosta](https://studio.wink.travel).
- Jos haluat kuunnella TripPay-tapahtumia, voit luoda webhookin [Paymentista](https://pay.wink.travel).
:::

*Tässä esimerkissä todennamme [Studiosta](https://studio.wink.travel).*

<Steps>
1. Kun olet todennut itsesi, klikkaa profiilikuvakettasi oikeassa yläkulmassa, jolloin valikko avautuu.
2. Klikkaa `Webhookit`-linkkiä.
3. Sinut ohjataan webhook-sivullesi.
</Steps>

## Luo webhook

:::caution
Sinun tulee luoda affiliate-tili Winkissä tai tili TripPayssa ennen webhookin luomista, koska sitot webhookin tiettyyn tiliin.
:::

Näin luot webhookin:

<Steps>
1. Webhook-sivulla klikkaa `Luo uusi webhook` -painiketta.
2. ***Nimeä*** Anna webhookillesi nimi. *esim. Wink Stalker*
3. ***Ota käyttöön*** Jätä ennalleen, jotta webhook on käytössä.
4. **Entiteetin nimi** Linkitä webhookisi johonkin olemassa olevista tileistäsi. *esim. Cool Account*
5. **Tapahtumat** Kuuntele sinua kiinnostavia tapahtumia. *esim. `booking.created`*
6. **Webhook-URL** Syötä URL, johon vastaanotat tapahtumat meiltä. *esim. `https://my.system.com/webhook/wink`*
7. Klikkaa `Tallenna` jatkaaksesi.
</Steps>

Sinut ohjataan takaisin webhook-listaasi ja uusi webhook on valmis käytettäväksi.

## Päivitä webhook

Sinun tulee päivittää sovellustasi, jos haluat:

- Poistaa webhookin käytöstä.
- Kuunnella enemmän tai vähemmän tapahtumia.
- Muuttaa webhookin kuuntelu-URL:ia.

Päivittääksesi olemassa olevan webhookin, toimi seuraavasti:

<Steps>
1. Klikkaa `Toiminnot`-linkkiä webhookille, jota haluat päivittää.
2. Klikkaa `Päivitä`-painiketta Toiminnoissa.
3. Tee haluamasi muutokset webhookiin.
4. Klikkaa `Tallenna` jatkaaksesi.
</Steps>

Sinut ohjataan takaisin webhook-listaasi.

## Poista webhook

Jos et enää tarvitse webhookia, voit poistaa sen.

Poistaaksesi webhookin, toimi seuraavasti:

<Steps>
1. Klikkaa `Toiminnot`-linkkiä webhookille, jonka haluat poistaa.
2. Klikkaa `Poista`-painiketta Toiminnoissa.
3. Klikkaa `OK` vahvistaaksesi poiston.
</Steps>

Sinut ohjataan takaisin webhook-listaasi.
