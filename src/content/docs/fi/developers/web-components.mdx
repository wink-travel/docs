---
title: Web-komponentit
description: Wink ylläpitää JavaScript-web-komponenttikirjastoa, jonka voit upottaa sivustollesi.
sidebar:
  order: 6
---


import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

[Web Components](https://developer.mozilla.org/en-US/docs/Web/API/Web_components) on standardi, joka mahdollistaa koko JavaScript-ominaisuuksien integroinnin verkkosivustollesi ilman koodaustaitoja.
Tämän hienon teknologian ansiosta voit upottaa Wink-matkavaraston vaivattomasti. Tämä artikkeli opastaa sinut web-komponenttien kokoelmamme läpi ja näyttää, miten niitä käytetään.

## Upota Wink

Sivulle, johon haluat näyttää jonkin web-komponenteistamme, sinun tulee sisällyttää kolme asiaa.

1. Sisällytä tyylitiedostomme.
2. Sisällytä JavaScriptimme.
3. Sisällytä sovelluksen lataaja.

### Tyylitiedosto

Sisällytä CSS-tyylimme dokumenttisi head-osaan.

```html {3}
<html>
  <head>
    <link rel="stylesheet" href="https://elements.wink.travel/styles.css"></link>
  </head>
</html>
```

### Javascript

Sisällytä JavaScriptimme dokumenttisi loppuun. (*Suosittelemme juuri ennen &lt;/body&gt;-tunnistetta*).

```html {3}
<html>
  <body>
    <script src="https://elements.wink.travel/elements.js" type="module" defer></script>
  </body>
</html>
```

Sivustosi on nyt valmis näyttämään web-komponenttimme.

## Komponentit

Lue alla komponenttikirjastostamme.

### Sovelluksen lataaja

Lataaja vastaa tilan ylläpidosta ja komponenttiemme välisen vuorovaikutuksen hallinnasta. (*Sisällytä se JavaScriptimme alle*).

```html {3-6}
<html>
  <body>
    <wink-app-loader
      client-id="YOUR CLIENT ID GOES HERE"
      configuration-id="YOUR CUSTOMIZATION ID GOES HERE"
    ></wink-app-loader>
  </body>
</html>
```

### Sisällön lataaja

Sisällön lataaja on web-komponenttikirjastomme ydin. Se vastaa varastosi näyttämisestä (kortit, ruudukot, kartat).

Saatavilla olevat attribuutit:

- layout
- id
- sort

*Attribuutti `sort` on käytettävissä vain, kun layout on `RANKED` eikä halua käyttää olemassa olevaa järjestettyä ruudukkoa. Näissä tapauksissa jätä `id` tyhjäksi.*

Saatavilla olevat layout-tyypit:

- `AD_BANNER`
- `MAP`
- `HOTEL`
- `GUEST_ROOM`
- `MEETING_ROOM`
- `SPA`
- `RESTAURANT`
- `ACTIVITY`
- `ATTRACTION`
- `PLACE`
- `ADD_ON`
- `LIST`
- `SEARCH`
- `RANKED`

Saatavilla olevat lajittelutyypit:

- `MEMBER`
- `PRICE_LOW_TO_HIGH`
- `PRICE_HIGH_TO_LOW`
- `PRICE`
- `POPULARITY`
- `ECO`
- `EXPERIENCE`
- `PERK`
- `LOYALTY`
- `PACKAGE`

```html {3-6}
<html>
  <body>
    <wink-content-loader
       layout="GUEST_ROOM"
       id="2de7ee9c-61c9-11ef-9722-42004e494300"
    ></wink-content-loader>
  </body>
</html>
```

Esimerkkejä löytyy [korteista](/fi/studio/cards), [ruudukoista](/fi/studio/grids) ja [kartoista](/fi/studio/maps).

### Haku

Lookup toimii erinomaisesti yhdessä järjestettyjen ruudukkojesi kanssa. Se antaa käyttäjillesi mahdollisuuden hakea hotelleja ja kohteita, ja ruudukko päivittyy hakutulosten mukaan.

```html {3}
<html>
  <body>
    <wink-lookup></wink-lookup>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="350"
      height="57"
      resize="scale"
      quality="best"
      alt="Lookup web component"
      src="academy/lookup"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Lookup web-komponentti*</figcaption>
</figure>

Komponenttia napsauttamalla avautuu modaalinäkymä, johon voit kirjoittaa haettavan kohteen tai hotellin.

<figure>
<CloudinaryImage
      width="700"
      height="186"
      resize="scale"
      quality="best"
      alt="Lookup modal"
      src="academy/lookup-results"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Lookup-moduuli hakutuloksilla*</figcaption>
</figure>

### Matkaohjelma

Matkaohjelmapainike näyttää nykyisen matkaohjelman painikkeessa. Klikatessasi se avaa koko matkaohjelman valitsimen modaalina.

```html {3}
<html>
  <body>
    <wink-itinerary></wink-itinerary>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="350"
      height="60"
      resize="scale"
      quality="best"
      alt="Itinerary web component"
      src="academy/itinerary-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Matkaohjelman web-komponentti*</figcaption>
</figure>

Painiketta napsauttamalla avautuu modaalinäkymä, jossa voit päivittää matkaohjelmaasi.

<figure>
<CloudinaryImage
      width="700"
      height="459"
      resize="scale"
      quality="best"
      alt="Search modal"
      src="academy/search-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Matkaohjelman valitsin modaalina*</figcaption>
</figure>


### Haku

Haku on pelkkä kuvakepainike matkaohjelman valitsimelle. Klikatessasi se avaa koko matkaohjelman valitsimen modaalina.

```html {3}
<html>
  <body>
    <wink-search></wink-search>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="138"
      height="116"
      resize="scale"
      quality="best"
      alt="Search web component"
      src="academy/search-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Haku web-komponentti*</figcaption>
</figure>

Painiketta napsauttamalla avautuu modaalinäkymä, jossa voit päivittää matkaohjelmaasi.

<figure>
<CloudinaryImage
      width="700"
      height="459"
      resize="scale"
      quality="best"
      alt="Search modal"
      src="academy/search-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Matkaohjelman valitsin modaalina*</figcaption>
</figure>

### Matkaohjelmalomake

Matkaohjelmakomponentti näyttää matkaohjelmalomakkeen, jonka kanssa käyttäjät voivat olla vuorovaikutuksessa.

```html {3}
<html>
  <body>
    <wink-itinerary-form></wink-itinerary-form>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="700"
      height="90"
      resize="scale"
      quality="best"
      alt="Itinerary formweb component"
      src="academy/itinerary-form"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Matkaohjelmalomakkeen web-komponentti*</figcaption>
</figure>

Matkaohjelman muuttaminen missä tahansa matkaohjelmakomponentissamme laukaisee matkaohjelman päivitystapahtuman kaikille sivulla tällä hetkellä näkyvillä oleville varastoille.

### Tili

Tilipainike mahdollistaa Wink-todennuksen lisäämisen sivustollesi.

```html {3}
<html>
  <body>
    <wink-account></wink-account>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="92"
      height="104"
      resize="scale"
      quality="best"
      alt="Account web component"
      src="academy/account-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Tilipainikkeen web-komponentti*</figcaption>
</figure>

Painiketta napsauttamalla, kun käyttäjä ei ole todennettu, käyttäjä ohjataan todennukseen.
Kun käyttäjä on todennettu, näytetään käyttäjän profiilikuvake.

<figure>
<CloudinaryImage
      width="92"
      height="104"
      resize="scale"
      quality="best"
      alt="Account button when authenticated"
      src="academy/account-button-auth"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Tilipainike (todennettu) web-komponentti*</figcaption>
</figure>

Painiketta napsauttamalla avautuu käyttäjäkohtainen pudotusvalikko.

<figure>
<CloudinaryImage
      width="350"
      height="404"
      resize="scale"
      quality="best"
      alt="Account button when authenticated"
      src="academy/account-button-auth-open"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Tilipainike (avattu) web-komponentti*</figcaption>
</figure>

## Upota TripPay

Sivulle, johon haluat käyttää TripPay-maksun web-komponenttia, sinun tulee sisällyttää kaksi asiaa.

1. Sisällytä tyylitiedostomme.
2. Sisällytä JavaScriptimme.

### Tyylitiedosto

Sisällytä CSS-tyylimme dokumenttisi head-osaan.

```html {3}
<html>
  <head>
    <link rel="stylesheet" href="https://elements.trippay.io/styles.css"></link>
  </head>
</html>
```

### Javascript

Sisällytä JavaScriptimme dokumenttisi loppuun. (*Suosittelemme juuri ennen &lt;/body&gt;-tunnistetta*).

```html {3}
<html>
  <body>
    <script src="https://elements.trippay.io/elements.js" type="module" defer></script>
  </body>
</html>
```

Sivustosi on nyt valmis näyttämään web-komponenttimme.

## Komponentit

### Maksu

Maksukomponentti ilmoittaa TripPaylle, että matkustaja haluaa ostaa jotain sekä esittää näiden tuotteiden säännöt ja hinnat.

Widgetillä on yksi pakollinen attribuutti:

- `id` Varauksen sopimuksen tunniste, jonka haluat suorittaa.

```html {3}
<html>
  <body>
    <trip-pay id="<INSERT_BOOKING_CONTRACT_ID>"></trip-pay>
  </body>
</html>
```

:::note
Oppiaksesi, miten varauksen sopimuksen `id` luodaan, lue opas: [Integrating with TripPay](/fi/guides/integrating-with-trip-pay).
:::

Widget valmistaa sopimuksen suoritettavaksi ja näyttää maksutiedot *(Kuva 1)* käyttäjälle varauksen viimeistelyä varten.

<figure>
<CloudinaryImage
      width="700"
      height="1141"
      resize="scale"
      quality="best"
      alt="Payment details"
      src="academy/payment-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Kuva 1. Esimerkkimaksulomake*</figcaption>
</figure>

## Virheet

Jos saat virheilmoituksen upottaessasi jotakin web-komponenteistamme, joko WinkLinksissä tai omalla verkkosivustollasi, muutama asia on voinut mennä pieleen:

### Saatavuus

Varasto ei välttämättä ole enää saatavilla. Mene [Wink Studioon](/fi/studio/cards) ja tarkista, onko "kortin" tila saatavilla.
Jos ei ole, se näkyy punaisena. Tällöin voit odottaa, että toimittaja tekee sen taas saatavaksi tai poistaa sen listaltasi.

:::note
`Saatavuus` ei tarkoita varaston päivittäistä varattavuutta. Se tarkoittaa, että varasto on kokonaan poissa käytöstä sinulta ja/tai kaikilta muilta.
:::

### Poistettu

Varasto on voitu poistaa. Mene [Wink Studioon](/fi/studio/cards) ja tarkista, onko "kortin" tila saatavilla.
Jos ei ole, se näkyy punaisena. Tällöin voit odottaa, että toimittaja tekee sen taas saatavaksi tai poistaa sen listaltasi.

### Mukautus

Saatat olla vahingossa poistanut varastoon liittyvän mukautuksen. Varmista, että mukautus on edelleen saatavilla ja aseta uusi, jos jokin puuttuu.

### Sovellus

Tämä koskee vain web-kehittäjiä. Jos olet vahingossa poistanut [Sovelluksen](/fi/developer/applications), jolloin client ID ei ole enää käytettävissä, luo uusi sovellus ja käytä uutta client ID:tä upottaessasi Web-komponenttejamme.
