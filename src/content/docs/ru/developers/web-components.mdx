---
title: Веб-компоненты
description: Wink поддерживает библиотеку JavaScript веб-компонентов, которые вы можете встроить на свой сайт.
sidebar:
  order: 6
---


import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

[Веб-компоненты](https://developer.mozilla.org/en-US/docs/Web/API/Web_components) — это стандарт, который позволяет интегрировать целые функции на Javascript в ваш сайт без необходимости программирования.
Благодаря этой классной технологии вы можете встроить инвентарь Wink с минимальными усилиями. В этой статье мы расскажем о нашей коллекции веб-компонентов и покажем, как их использовать.

## Встраивание Wink

Для отображения любого из наших веб-компонентов на странице необходимо включить три элемента.

1. Подключить наш файл стилей.
2. Подключить наш Javascript.
3. Подключить загрузчик приложения.

### Файл стилей

Подключите наши CSS-стили в секции head вашего документа.

```html {3}
<html>
  <head>
    <link rel="stylesheet" href="https://elements.wink.travel/styles.css"></link>
  </head>
</html>
```

### Javascript

Подключите наш Javascript внизу вашего документа. (*Рекомендуется сразу перед закрывающим тегом body*).

```html {3}
<html>
  <body>
    <script src="https://elements.wink.travel/elements.js" type="module" defer></script>
  </body>
</html>
```

Теперь ваш сайт готов отображать наши веб-компоненты.

## Компоненты

Ниже вы найдете описание нашей библиотеки компонентов.

### Загрузчик приложения

Загрузчик отвечает за хранение состояния и управление взаимодействием между нашими компонентами. (*Включайте его после Javascript*).

```html {3-6}
<html>
  <body>
    <wink-app-loader
      client-id="ВАШ CLIENT ID ЗДЕСЬ"
      configuration-id="ВАШ ID НАСТРОЙКИ ЗДЕСЬ"
    ></wink-app-loader>
  </body>
</html>
```

### Загрузчик контента

Загрузчик контента — это ядро нашей библиотеки веб-компонентов. Он отвечает за отображение вашего инвентаря (карточки, сетки, карты).

Доступные атрибуты:

- layout
- id
- sort

*Атрибут `sort` доступен только при layout=`RANKED` и если вы не хотите использовать существующую ранжированную сетку. В таких случаях оставьте `id` пустым.*

Доступные типы layout:

- `AD_BANNER`
- `MAP`
- `HOTEL`
- `GUEST_ROOM`
- `MEETING_ROOM`
- `SPA`
- `RESTAURANT`
- `ACTIVITY`
- `ATTRACTION`
- `PLACE`
- `ADD_ON`
- `LIST`
- `SEARCH`
- `RANKED`

Доступные типы сортировки:

- `MEMBER`
- `PRICE_LOW_TO_HIGH`
- `PRICE_HIGH_TO_LOW`
- `PRICE`
- `POPULARITY`
- `ECO`
- `EXPERIENCE`
- `PERK`
- `LOYALTY`
- `PACKAGE`

```html {3-6}
<html>
  <body>
    <wink-content-loader
       layout="GUEST_ROOM"
       id="2de7ee9c-61c9-11ef-9722-42004e494300"
    ></wink-content-loader>
  </body>
</html>
```

Примеры можно найти для [карточек](/studio/cards), [сеток](/studio/grids) и [карт](/studio/maps).

### Поиск

Поиск отлично работает вместе с одной из ваших ранжированных сеток. Он позволяет пользователям искать отели и направления, а сетка обновляется в ответ на результаты поиска.

```html {3}
<html>
  <body>
    <wink-lookup></wink-lookup>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="350"
      height="57"
      resize="scale"
      quality="best"
      alt="Веб-компонент Lookup"
      src="academy/lookup"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент Lookup*</figcaption>
</figure>

Клик по компоненту выше открывает модальное окно, в котором можно ввести искомое направление или отель.

<figure>
<CloudinaryImage
      width="700"
      height="186"
      resize="scale"
      quality="best"
      alt="Модальное окно Lookup"
      src="academy/lookup-results"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Модальное окно Lookup с результатами*</figcaption>
</figure>

### Маршрут

Кнопка маршрута показывает текущий маршрут на кнопке. При клике открывается полный выбор маршрута в модальном окне.

```html {3}
<html>
  <body>
    <wink-itinerary></wink-itinerary>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="350"
      height="60"
      resize="scale"
      quality="best"
      alt="Веб-компонент маршрута"
      src="academy/itinerary-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент маршрута*</figcaption>
</figure>

Клик по кнопке выше открывает модальное окно, позволяющее обновить маршрут.

<figure>
<CloudinaryImage
      width="700"
      height="459"
      resize="scale"
      quality="best"
      alt="Модальное окно поиска"
      src="academy/search-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Выбор маршрута в модальном окне*</figcaption>
</figure>


### Поиск (Search)

Search — это кнопка с иконкой для выбора маршрута. При клике открывается полный выбор маршрута в модальном окне.

```html {3}
<html>
  <body>
    <wink-search></wink-search>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="138"
      height="116"
      resize="scale"
      quality="best"
      alt="Веб-компонент поиска"
      src="academy/search-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент поиска*</figcaption>
</figure>

Клик по кнопке выше открывает модальное окно, позволяющее обновить маршрут.

<figure>
<CloudinaryImage
      width="700"
      height="459"
      resize="scale"
      quality="best"
      alt="Модальное окно поиска"
      src="academy/search-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Выбор маршрута в модальном окне*</figcaption>
</figure>

### Форма маршрута

Компонент маршрута отображает форму маршрута, с которой пользователи могут взаимодействовать.

```html {3}
<html>
  <body>
    <wink-itinerary-form></wink-itinerary-form>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="700"
      height="90"
      resize="scale"
      quality="best"
      alt="Веб-компонент формы маршрута"
      src="academy/itinerary-form"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент формы маршрута*</figcaption>
</figure>

Изменение маршрута в любом из наших компонентов маршрута вызывает событие обновления маршрута для любого инвентаря, который в данный момент отображается на странице.

### Аккаунт

Кнопка аккаунта позволяет добавить аутентификацию Wink на ваш сайт.

```html {3}
<html>
  <body>
    <wink-account></wink-account>
  </body>
</html>
```

<figure>
<CloudinaryImage
      width="92"
      height="104"
      resize="scale"
      quality="best"
      alt="Веб-компонент кнопки аккаунта"
      src="academy/account-button"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент кнопки аккаунта*</figcaption>
</figure>

При клике на кнопку, если пользователь не аутентифицирован, его перенаправит на страницу аутентификации.
Если пользователь аутентифицирован, отображается иконка профиля пользователя.

<figure>
<CloudinaryImage
      width="92"
      height="104"
      resize="scale"
      quality="best"
      alt="Кнопка аккаунта при аутентификации"
      src="academy/account-button-auth"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент кнопки аккаунта (аутентифицированный)*</figcaption>
</figure>

При клике на кнопку открывается выпадающее меню, специфичное для пользователя.

<figure>
<CloudinaryImage
      width="350"
      height="404"
      resize="scale"
      quality="best"
      alt="Кнопка аккаунта при аутентификации (открыта)"
      src="academy/account-button-auth-open"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Веб-компонент кнопки аккаунта (открытое меню)*</figcaption>
</figure>

## Встраивание TripPay

Для использования веб-компонента оплаты TripPay на любой странице необходимо включить два элемента.

1. Подключить наш файл стилей.
2. Подключить наш Javascript.

### Файл стилей

Подключите наши CSS-стили в секции head вашего документа.

```html {3}
<html>
  <head>
    <link rel="stylesheet" href="https://elements.trippay.io/styles.css"></link>
  </head>
</html>
```

### Javascript

Подключите наш Javascript внизу вашего документа. (*Рекомендуется сразу перед закрывающим тегом body*).

```html {3}
<html>
  <body>
    <script src="https://elements.trippay.io/elements.js" type="module" defer></script>
  </body>
</html>
```

Теперь ваш сайт готов отображать наши веб-компоненты.

## Компоненты

### Оплата

Компонент оплаты позволяет сообщить TripPay, что путешественник хочет что-то приобрести, а также правила и цены для этих товаров.

Для виджета требуется один обязательный атрибут:

- `id` Идентификатор контракта бронирования, который вы хотите выполнить.

```html {3}
<html>
  <body>
    <trip-pay id="<INSERT_BOOKING_CONTRACT_ID>"></trip-pay>
  </body>
</html>
```

:::note
Чтобы узнать, как сгенерировать `id` контракта бронирования, прочитайте руководство: [Интеграция с TripPay](/guides/integrating-with-trip-pay).
:::

Виджет подготавливает контракт к выполнению и отображает пользователю детали оплаты *(Рисунок 1)* для завершения бронирования.

<figure>
<CloudinaryImage
      width="700"
      height="1141"
      resize="scale"
      quality="best"
      alt="Детали оплаты"
      src="academy/payment-modal"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Рисунок 1. Пример формы оплаты*</figcaption>
</figure>

## Ошибки

Если при встраивании одного из наших веб-компонентов, будь то на WinkLinks или на вашем собственном сайте, вы видите сообщение об ошибке, возможно, произошли следующие проблемы:

### Доступность

Инвентарь может быть больше недоступен. Перейдите в [Wink Studio](/studio/cards) и проверьте статус "карточки".
Если статус неактивен, он будет выделен красным. В таком случае вы можете подождать, возможно, поставщик снова сделает его доступным, или удалить его из вашего списка.

:::note
`Доступность` не означает ежедневную доступность инвентаря для бронирования. Это означает, что инвентарь полностью недоступен для вас и/или всех остальных.
:::

### Удалено

Инвентарь мог быть удалён. Перейдите в [Wink Studio](/studio/cards) и проверьте статус "карточки".
Если статус неактивен, он будет выделен красным. В таком случае вы можете подождать, возможно, поставщик снова сделает его доступным, или удалить его из вашего списка.

### Настройка

Возможно, вы случайно удалили настройку, которую определили для вашего инвентаря. Убедитесь, что настройка всё ещё доступна, и установите новую, если она отсутствует.

### Приложение

Это касается только веб-разработчиков. Если вы случайно удалили [Приложение](/developer/applications), из-за чего client ID стал недоступен, создайте новое приложение и используйте новый client ID для встраивания наших веб-компонентов.
