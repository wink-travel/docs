---
title: Webhooks
description: Подпишитесь на мероприятия Wink и TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '../../../components/cloudinary-image.astro';

Веб-хуки — это способ получать и реагировать на события в реальном времени от Wink и TripPay, касающиеся вашего аккаунта.

## Пример

<Steps>
  1. Бронирование происходит на Wink.
  2. Событие «Подмигивай» `booking.created` отправлено.
  3. Ваша система активно отслеживает это событие.
  4. Ваша система отслеживает собственный набор аналитики и использует это событие для обновления своей базы данных временных рядов.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Пример вебхука" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Пример записи вебхука*</figcaption>
</figure>


:::note
Вебхук Wink отличается от вебхука TripPay.

* Если вы хотите прослушивать события Wink, вы можете создать вебхук из[Экстранет](https://extranet.wink.travel) или [Студия](https://studio.wink.travel).
* Если вы хотите прослушивать события TripPay, вы можете создать вебхук из[Оплата](https://pay.wink.travel).
  :::

*В этом примере мы будем аутентифицироваться через[Студия](https://studio.wink.travel).*

<Steps>
  1. После аутентификации нажмите на значок своего профиля в правом верхнем углу, и появится меню.
  2. Нажмите на `Webhooks` связь.
  3. Вы будете перенаправлены на страницу ваших веб-хуков.
</Steps>


## Создать вебхук

:::осторожно
Вам необходимо создать партнерский аккаунт на Wink или аккаунт на TripPay, прежде чем создавать вебхук, поскольку вы будете привязывать свой вебхук к определенному аккаунту.
:::

Вот шаги по созданию вебхука:

<Steps>
  1. На странице веб-хуков нажмите кнопку `Create new webhook` кнопка.
  2. ***Имя*** Дайте своему вебхуку имя. *например, Wink Stalker*
  3. ***Давать возможность*** Оставьте все как есть, чтобы включить.
  4. **Имя сущности** Свяжите свой вебхук с одной из ваших существующих учетных записей. *например, классный аккаунт*
  5. **События** Слушайте события, которые вас интересуют. *например `booking.created`*
  6. **URL-адрес веб-перехватчика** Введите URL-адрес, по которому вы будете слушать наши мероприятия. *например `https://my.system.com/webhook/wink`*
  7. Нажмите на `Save` кнопку, чтобы продолжить.
</Steps>


Вы будете перенаправлены обратно к списку веб-хуков, и ваш новый веб-хук готов к работе.

## Обновление вебхука

Вам необходимо обновить приложение, если вы хотите:

* Отключите вебхук.
* Прослушивание большего/меньшего количества событий.
* Измените URL-адрес вашего прослушивающего веб-перехватчика.

Чтобы обновить существующий вебхук, выполните следующие действия:

<Steps>
  1. Нажмите на `Actions` ссылку на вебхук, который вы хотите обновить.
  2. Нажмите на `Update` кнопку в разделе «Действия».
  3. Внесите изменения в вебхук.
  4. Нажмите на `Save` кнопку, чтобы продолжить.
</Steps>


Вы будете перенаправлены обратно к списку вебхуков.

## Удалить вебхук

Если вебхук вам больше не нужен, вы можете его удалить.

Чтобы удалить вебхук, выполните следующие действия:

<Steps>
  1. Нажмите на `Actions` ссылку на вебхук, который вы хотите обновить.
  2. Нажмите на `Remove` кнопку в разделе «Действия».
  3. Нажмите `OK` кнопку для подтверждения удаления.
</Steps>


Вы будете перенаправлены обратно к списку вебхуков.

