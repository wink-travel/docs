---
title: Webhooks
description: 訂閱 Wink 和 TripPay 事件。
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks 是一種讓您接收並回應來自 Wink 和 TripPay 關於您帳戶的即時事件的方式。

## 範例

<Steps>
1. 在 Wink 上發生一筆訂單。
1. Wink 事件 `booking.created` 被觸發。
2. 您的系統正在積極監聽此事件。
3. 您的系統追蹤自己的分析數據，並使用此事件更新其時間序列資料庫。
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="範例 webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*範例 webhook 條目*</figcaption>
</figure>

:::note
Wink webhook 與 TripPay webhook 不同。

- 如果您想監聽 Wink 事件，可以從 [Extranet](https://extranet.wink.travel) 或 [Studio](https://studio.wink.travel) 建立 webhook。
- 如果您想監聽 TripPay 事件，可以從 [Payment](https://pay.wink.travel) 建立 webhook。
:::

*在此範例中，我們將透過 [Studio](https://studio.wink.travel) 進行驗證。*

<Steps>
1. 驗證後，點擊右上角的個人資料圖示，會出現選單。
2. 點擊 `Webhooks` 連結。
3. 您將被導向您的 webhook 頁面。
</Steps>

## 建立 webhook

:::caution
您需要先在 Wink 建立聯盟帳戶或在 TripPay 建立帳戶，才能建立 webhook，因為您將會把 webhook 綁定到特定帳戶。
:::

建立 webhook 的步驟如下：

<Steps>
1. 在 webhook 頁面，點擊 `Create new webhook` 按鈕。
2. ***名稱*** 為您的 webhook 命名。*例如 Wink Stalker*
3. ***啟用*** 保持啟用狀態。
4. **實體名稱** 將您的 webhook 連結到您現有的帳戶之一。*例如 Cool Account*
5. **事件** 監聽您感興趣的事件。*例如 `booking.created`*
6. **Webhook URL** 輸入您將用來接收事件的 URL。*例如 `https://my.system.com/webhook/wink`*
7. 點擊 `Save` 按鈕繼續。
</Steps>

您將被導回 webhook 清單頁面，您的新 webhook 已準備就緒。

## 更新 webhook

如果您想要：

- 停用您的 webhook。
- 監聽更多或更少的事件。
- 更改監聽的 webhook URL。

您需要更新您的應用程式。

更新現有 webhook 的步驟如下：

<Steps>
1. 點擊您想更新的 webhook 的 `Actions` 連結。
2. 點擊 Actions 下的 `Update` 按鈕。
3. 修改 webhook 設定。
4. 點擊 `Save` 按鈕繼續。
</Steps>

您將被導回 webhook 清單頁面。

## 移除 webhook

如果您不再需要該 webhook，可以將其移除。

移除 webhook 的步驟如下：

<Steps>
1. 點擊您想移除的 webhook 的 `Actions` 連結。
2. 點擊 Actions 下的 `Remove` 按鈕。
3. 點擊 `OK` 按鈕確認刪除。
</Steps>

您將被導回 webhook 清單頁面。
