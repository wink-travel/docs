---
title: Oppsett
description: Denne artikkelen viser deg hvordan du raskt kommer i gang som utvikler og begynner å teste våre API-er på Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Denne artikkelen viser deg hvordan du raskt kommer i gang som utvikler og begynner å teste våre API-er på Wink.

:::note
Testing bør alltid foregå i vårt [staging-miljø](/getting-started/environments). Det er mye mindre data der, men du står fritt til å teste så mye du vil uten å belaste produksjonsmiljøet.

Når du er klar til å gå live, vil vi sertifisere kontoen og applikasjonen din, og du kan lansere i vårt produksjonsmiljø.
:::

Følg disse stegene:

<Steps>
1. [Registrer](/user/register) brukerkontoen din på Wink
2. Opprett en [reisebyråkonto](/travel-agent/what-is-agent) eller en [affiliate-konto](/studio/what-is-studio).
3. [Opprett en applikasjon](/developer/applications) hvor du knytter den til kontoen du opprettet i steg 2.
4. Når du har opprettet din `Application`, lagre client-id og client secret på et trygt sted.
</Steps>

## CDN

Hos Wink bruker vi Cloudinary for alle våre bilde- og videoressurser. Når du får tilgang til vår reiseinventar, vil du ha full tilgang til alle Cloudinarys avanserte funksjoner.

Vårt `cloud_name` er `traveliko`.

### Cloudinary

- [Kom i gang](https://cloudinary.com/documentation/dev_kickstart)
- [SDK-er](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary på GitHub](https://github.com/cloudinary)
-	[Videoopplæringer](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Eksempel

For hver type reiseinventar vi støtter, vil det være et nestet JSON-array kalt `multimedias`. JSON-en for en multimediaoppføring ser slik ut:

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Bilde av lobbyen",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

Den uthevede linjen over viser Cloudinarys unike ID `partners/radisson_blu_logo`. Det er alt du trenger for å hente bildet i hvilket som helst format, kvalitet og størrelse du ønsker.

## Testing

Gå til vår [API-seksjon](/developer/apis) og velg API-et du vil jobbe med.

### API-dokumentasjon

Dokumentasjonsnettstedet vårt er satt opp slik at du kan kjøre API-kommandoer direkte fra siden.

I dette eksempelet vil du bruke `Search Lookups (OAuth2)` API-kallet.

:::tip[Proff tips]
For enkel bruk anbefaler vi at integratorer bruker endepunktene vi betegner som `OAuth2`. Disse endepunktene vet at det er API-kallere og vet allerede hvilken konto du er på, så du slipper å spesifisere `companyIdentifier` i URL-ene dine.
:::

<Steps>
1. Bruk [Lookup API](https://developer.wink.travel/lookup) for å hente destinasjoner eller hoteller.
2. I venstre navigasjonsfelt, klikk på `Authentication`.
3. Skriv inn din client-id og client secret og klikk på `Get TOKEN`-knappen.
4. Hvis legitimasjonen din er gyldig, vil du se at API-nøkkelen din er aktivert.
5. Du kan nå teste lookup-endepunktet.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Lookup API endepunkt"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Eksempel på Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Du kan gjøre det samme med Postman.

<Steps>
1. Last ned [Postman](https://www.postman.com/downloads).
2. Klikk på `Download OpenAPI spec` øverst på [Lookup API](https://developer.wink.travel/lookup)-siden.
3. Importer det til Postman.
4. Hvis du importerte det som en ny samling kalt `Wink API`, klikk på de horisontale ellipsene (3 prikker) ved siden av samlingsnavnet og velg `Edit`.
5. I `Authorization`-fanen, sett `Auth type` til OAuth2.
6. Sett feltet `Add auth data to` til `Request headers`.
7. Sett feltet `Header prefix` til `Bearer`.
8. Sett feltet `Token Name` til hva du vil kalle din lagrede token i Postman, f.eks. Wink Staging.
9. Sett feltet `Grant type` til `Client Credentials`.
10. Sett feltet `Access token URL` til https://staging-iam.wink.travel/oauth2/token.
11. Sett feltet `Client ID` til Client ID-en appen din genererte.
12. Sett feltet `Client Secret` til Client Secret-en appen din genererte.
13. Sett feltet `Scope` til `inventory.read inventory.write inventory.remove`. Dette er alle scopes du trenger for Wink.
14. Sett feltet `Client Authentication` til `Send as Basic Auth header`.
15. Klikk på `Get New Access Token`-knappen for å hente token og lagre den.
16. For alle API-kall under Wink API-samlingen, sørg for at autentiseringsfanen sier `Inherit auth from parent` slik at token inkluderes i hvert kall.
</Steps>

:::tip[Proff tips]
Det anbefales å gjøre serverdomene, client ID og client secret til miljøvariabler. På den måten kan du enkelt bytte mellom staging- og produksjonsmiljøer og gjenbruke alle operasjonene du har laget.
:::
