---
title: Webhooks
description: Abonner på Wink- og TripPay-hendelser.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks er en måte for deg å motta og reagere på sanntidshendelser fra Wink og TripPay som gjelder din konto.

## Eksempel

<Steps>
1. En booking skjer på Wink.
1. Wink-hendelsen `booking.created` sendes ut.
2. Systemet ditt lytter aktivt til denne hendelsen.
3. Systemet ditt sporer egne analyser og bruker denne hendelsen til å oppdatere sin tidsserie-database.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Eksempel på webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Eksempel på webhook-oppføring*</figcaption>
</figure>

:::note
En Wink-webhook er forskjellig fra en TripPay-webhook.

- Hvis du vil lytte til Wink-hendelser, kan du opprette en webhook fra [Extranet](https://extranet.wink.travel) eller [Studio](https://studio.wink.travel).
- Hvis du vil lytte til TripPay-hendelser, kan du opprette en webhook fra [Payment](https://pay.wink.travel).
:::

*For dette eksempelet vil vi autentisere via [Studio](https://studio.wink.travel).*

<Steps>
1. Når du er autentisert, klikker du på profilikonet ditt øverst til høyre, og en meny vises.
2. Klikk på lenken `Webhooks`.
3. Du blir videresendt til siden for webhooks.
</Steps>

## Opprett webhook

:::caution
Du må opprette en affiliate-konto på Wink eller en konto på TripPay før du oppretter en webhook, siden du vil knytte webhooken til en spesifikk konto.
:::

Her er stegene for å opprette en webhook:

<Steps>
1. Fra webhooks-siden klikker du på knappen `Create new webhook`.
2. ***Navn*** Gi webhooken et navn. *f.eks. Wink Stalker*
3. ***Aktiver*** La stå som den er for å være aktivert.
4. **Enhetsnavn** Knytt webhooken til en av dine eksisterende kontoer. *f.eks. Cool Account*
5. **Hendelser** Lytt til de hendelsene som interesserer deg. *f.eks. `booking.created`*
6. **Webhook-URL** Skriv inn URL-en hvor du vil motta hendelser fra oss. *f.eks. `https://my.system.com/webhook/wink`*
7. Klikk på knappen `Save` for å fortsette.
</Steps>

Du blir videresendt tilbake til listen over webhooks, og din nye webhook er klar til bruk.

## Oppdater webhook

Du må oppdatere appen din hvis du vil:

- Deaktivere webhooken.
- Lytte til flere eller færre hendelser.
- Endre webhook-URL-en du lytter på.

For å oppdatere en eksisterende webhook, gjør følgende:

<Steps>
1. Klikk på lenken `Actions` for webhooken du vil oppdatere.
2. Klikk på knappen `Update` under Actions.
3. Gjør endringene på webhooken.
4. Klikk på knappen `Save` for å fortsette.
</Steps>

Du blir videresendt tilbake til listen over webhooks.

## Fjern webhook

Hvis du ikke har bruk for webhooken lenger, kan du fjerne den.

For å fjerne en webhook, gjør følgende:

<Steps>
1. Klikk på lenken `Actions` for webhooken du vil fjerne.
2. Klikk på knappen `Remove` under Actions.
3. Klikk på `OK` for å bekrefte slettingen.
</Steps>

Du blir videresendt tilbake til listen over webhooks.
