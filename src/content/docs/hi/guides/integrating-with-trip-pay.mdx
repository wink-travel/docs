---
title: ट्रिपपे के साथ एकीकरण
description: >-
  इस लेख में इस बात का पूरा उदाहरण दिया गया है कि ट्रिपपे के साथ कैसे एकीकृत हुआ
  जाए और उसे आपके लिए भुगतान का प्रबंध करने दिया जाए।
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';

इस लेख में ट्रिपपे के साथ एकीकरण करने का एक विस्तृत उदाहरण दिया गया है।

यह अनुशंसित है कि आप पहले ही पढ़ लें:

* [भुगतान > मैपिंग](/payment/mapping).
* [भुगतान > एकीकरण](/payment/integration).
* [भुगतान वेब घटक](/developers/web-components/#payment).
* [भुगतान एपीआई](/developers/apis/#payment-api).*इस अनुभाग को पढ़ें`Create payable contracts`*

बुकिंग के भुगतान के लिए ट्रिपपे का सफलतापूर्वक उपयोग करने के चरण यहां दिए गए हैं:

<Steps>
  1. सुनिश्चित करें कि बुकिंग अनुबंध में आपके द्वारा उल्लिखित लाभार्थियों का मानचित्रण किया गया है।
  2. यात्री को वह सामान चुनने दें जिसे वे बुक करना चाहते हैं और फिर भुगतान के लिए तैयार हो जाएं।
  3. एक बनाने के `payable contract` ट्रिपपे के साथ जिसमें बुक की जाने वाली वस्तुएं शामिल होती हैं।
  4. यात्री को ट्रिपपे वेब घटक का उपयोग करके भुगतान करने दें।
</Steps>


हम मानते हैं कि आपने पहले ही यह कार्य पूरा कर लिया है`Step 1` और `Step 2`और ट्रिपपे को बुकिंग के बारे में बताने के लिए तैयार हैं।

## भुगतान योग्य अनुबंध बनाएं

:::नोट
भुगतान योग्य अनुबंध बनाने की आवश्यकताओं के बारे में अधिक जानने के लिए भुगतान API पर जाएँ।
:::

### अनुरोध

यहां एक JSON नमूना अनुरोध है जिसमें वह सब कुछ शामिल है जो आपको अपने पहले भुगतान योग्य अनुबंध के लिए बनाने की आवश्यकता है।

```json {3-6, 8-9}
{
  "user": {
    "userIdentifier": "191d5729-0b90-4000-85df-1bea7a6e9a01",
    "firstName": "John",
    "lastName": "Smith",
    "email": "john.smith@email.com"
  },
  "affiliateAccountIdentifier": "291d5729-0b91-4001-95df-2bec7a6e9a01",
  "affiliateAccountIdentifierType": "INTERNAL",
  "displayCurrency": "USD",
  "traceId": "trace-1",
  "redirectUrl": "/thank-you",
  "sourceUrl": "https://www.travel.com",
  "contractList": [
    {
      "identifier": "191d5729-0b90-4000-8298-72431beb1701",
      "supplierIdentifier": "191d5729-0b90-4000-8b72-58186a642401",
      "supplierIdentifierType": "EXTERNAL",
      "contractItemList": [
        {
          "user": {
            "userIdentifier": "191d5729-0b90-4000-8596-ed18f9876801",
            "firstName": "John",
            "lastName": "Smith",
            "email": "john.smith@email.com",
            "telephone": "+1 212 555 1212",
          },
          "nameInEnglish": "Deluxe King",
          "descriptionInEnglish": "This is the best deluxe king that money can buy.",
          "price": {
            "amount": 100,
            "currency": "USD"
          },
          "itinerary": {
            "startDate": "2024-12-24T00:00:00.000Z",
            "endDate": "2024-12-25T00:00:00.000Z",
            "adults": 2
          },
          "pricingType": "PER_STAY",
          "type": "LODGING",
          "payable": "PREPAY",
          "policy": {
            "refundable": true
          },
          "externalIdentifier": "room-type-1",
          "dailyRateList": [
            {
              "date": "2024-12-24",
              "price": {
                "amount": 100,
                "currency": "USD"
              }
            }
          ],
          "beneficiaryList": [
            {
              "identifier": "account-0",
              "identifierType": "INTERNAL",
              "amountDue": {
                "type": "PERCENTAGE",
                "percent": 0.015
              },
              "type": "PLATFORM_FEE"
            },
            {
              "identifier": "account-1",
              "identifierType": "INTERNAL",
              "amountDue": {
                "type": "PERCENTAGE",
                "percent": 0.0985
              },
              "type": "COMMISSION"
            },
            {
              "identifier": "account-2",
              "identifierType": "INTERNAL",
              "amountDue": {
                "type": "PERCENTAGE",
                "percent": 0.8865
              },
              "type": "SALE"
            }
          ]
        }
      ]
    }
  ]
}
```

स्पष्टीकरण:

हम यहां प्रत्येक डेटा बिंदु की व्याख्या नहीं करेंगे क्योंकि वे पहले से ही API दस्तावेज़ों में शामिल हैं।

* पंक्तियाँ:**2 - 7**बुकिंग के लिए उपयोगकर्ता जिम्मेदार है। बुक करने वाले दो प्रकार के होते हैं:
  * यात्री.
  * ट्रैवल एजेंट।
* पंक्तियाँ:**8 - 9**ट्रिपपे अकाउंट बुकिंग की सुविधा प्रदान करता है। यह हो सकता है:
  * आपका ट्रिपपे इंटीग्रेटर खाता.
  * यदि आप एक सहबद्ध नेटवर्क चलाते हैं, तो यह आपका सहबद्ध हो सकता है।
* का उपयोग करो `traceId`कई आपूर्तिकर्ताओं के बीच कई बुकिंग को समूहीकृत करने के लिए। इस तरह आप समूह बुकिंग रद्द कर सकते हैं।
* `redirectUrl`इससे ट्रिपपे को पता चलता है कि भुगतान पूरा होने के बाद उसे किस पेज पर रीडायरेक्ट करना है।
* `sourceUrl`वह साइट/ऐप है जिस पर बुकिंग हुई है।

द`contractList`सरणी में वह वस्तुएँ शामिल हैं जिन्हें यात्री कई आपूर्तिकर्ताओं से खरीदना चाहता है। प्रत्येक वस्तु में शामिल हैं:

* द`identifier`आपके द्वारा जनरेट किया गया वैध UUID है.
* वह आपूर्तिकर्ता जिससे आप इन्वेंट्री बुक करना चाहते हैं.
* वह इन्वेंट्री जिसे आप उस सप्लायर से बुक करना चाहते हैं। ये सभी नेस्टेड ऐरे में निर्दिष्ट हैं`contractItemList`.
* इसके अंतर्गत प्रत्येक प्रविष्टि`contractItemList` रोकना:
  * **अतिथि उपयोगकर्ता**यह वह उपयोगकर्ता है जो परिसर में पहुंचेगा।
  * **अंग्रेजी में नाम**अंग्रेजी भाषा में इन्वेंट्री का नाम.
  * **अंग्रेजी में विवरण**अंग्रेजी भाषा में सूची का विस्तृत विवरण।
  * **कीमत**वस्तु का मूल्य.
  * **यात्रा कार्यक्रम**इस वस्तु को कब बुक किया जाना चाहिए.
  * **मूल्य निर्धारण प्रकार**मूल्य की गणना कैसे की गई?
  * **इन्वेंटरी प्रकार**यह किस प्रकार की इन्वेंट्री है?
  * **देय**यात्री से कब शुल्क लिया जाना चाहिए?*हम वर्तमान में केवल तत्काल भुगतान विकल्पों का समर्थन करते हैं।*
  * **नीति**रद्दीकरण नीति नियम शामिल करें.
  * **दैनिक दर सूची**यदि बुक की जा रही वस्तु एक कमरा है, तो आप यह चुन सकते हैं कि अतिथि द्वारा प्रति रात्रि ठहरने के लिए उस कमरे का किराया कितना है।
  * **लाभार्थियों**इसमें यह भी शामिल करें कि किस ट्रिपपे खाते को वस्तु के मूल्य की कितनी राशि आवंटित की जानी चाहिए।*निश्चित/प्रतिशत राशि समर्थित है।*

:::नोट
उपर्युक्त JSON उदाहरण में, हमारे पास 3 लाभार्थी हैं:

* 1.5% राशि बुकिंग की सुविधा प्रदान करने वाले प्लेटफॉर्म को आबंटित की गई।*जैसे: विंक*
* 9.85% कमीशन के रूप में सहयोगी को आवंटित किया गया था।*जैसे किम कार्दशियन*
* कमरे की बुकिंग के लिए आपूर्तिकर्ता को 88.65% राशि आवंटित की गई।*जैसे हिल्टन*

जब ट्रिपपे एक भुगतान योग्य अनुबंध के साथ प्रतिक्रिया करता है, तो आप देखेंगे कि उसने अपने लाभार्थी को 4.0% पर इंजेक्ट किया है।

### प्रतिक्रिया

जब TripPay आपके अनुरोध का जवाब देगा, तो वह कुछ इस तरह दिखाई देगा:

```json {3}
[
  {
    "id": "contract-1",
    "traceId": "trace-1",
    "supplierContractIdentifier": "191d5729-0b90-4000-8298-72431beb1701",
    "supplierIdentifier": "191d5729-0b90-4000-8b72-58186a642401",
    "supplierName": "Hilton",
    "totalPrice": {
      "amount": 100,
      "currency": "USD"
    },
    "totalDisplayPrice": {
      "amount": 100,
      "currency": "USD"
    },
    "totalSupplierPrice": {
      "amount": 100,
      "currency": "USD"
    },
    "totalInternalPrice": {
      "amount": 100,
      "currency": "USD"
    },
    "totalCapturePrice": {
      "amount": 100,
      "currency": "USD"
    }
  }
]
```

बचाओ `id`लाइन 3 पर। आप इसका उपयोग TripPay वेब घटक में इंजेक्ट करने के लिए करेंगे।

## ट्रिपपे एम्बेड करें

:::नोट
सुनिश्चित करें कि आपने हमारी शैलियाँ और जावास्क्रिप्ट पहले से लोड कर ली हैं।
:::

इस बिंदु पर, आप एम्बेड करने के लिए तैयार हैं`Payment Web Component`अपनी वेबसाइट में डालें और उपयोगकर्ता को दिखाएं।

```html
<trip-pay id="contract-1"></trip-pay>
```

जहाँ तक एकीकरण की बात है, आपको बस इतना ही करना है। आगे से सारा भारी काम TripPay द्वारा किया जाएगा।

