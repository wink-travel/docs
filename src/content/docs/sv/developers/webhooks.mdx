---
title: Webhooks
description: Prenumerera på Wink- och TripPay-händelser.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Webhooks är ett sätt för dig att ta emot och reagera på realtids-händelser från Wink och TripPay som rör ditt konto.

## Exempel

<Steps>
1. En bokning sker på Wink.
1. Wink-händelsen `booking.created` skickas ut.
2. Ditt system lyssnar aktivt på denna händelse.
3. Ditt system spårar sin egen uppsättning analyser och använder denna händelse för att uppdatera sin tidsseriedatabas.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Exempel på webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exempel på webhook-post*</figcaption>
</figure>

:::note
En Wink-webhook skiljer sig från en TripPay-webhook.

- Om du vill lyssna på Wink-händelser kan du skapa en webhook från [Extranet](https://extranet.wink.travel) eller [Studio](https://studio.wink.travel).
- Om du vill lyssna på TripPay-händelser kan du skapa en webhook från [Payment](https://pay.wink.travel).
:::

*För detta exempel kommer vi att autentisera via [Studio](https://studio.wink.travel).*

<Steps>
1. När du är autentiserad klickar du på din profilikon uppe till höger, och en meny visas.
2. Klicka på länken `Webhooks`.
3. Du kommer att omdirigeras till din webhooks-sida.
</Steps>

## Skapa webhook

:::caution
Du måste skapa ett affiliate-konto på Wink eller ett konto på TripPay innan du skapar en webhook eftersom du kommer att koppla din webhook till ett specifikt konto.
:::

Här är stegen för att skapa en webhook:

<Steps>
1. Från webhooks-sidan klickar du på knappen `Create new webhook`.
2. ***Namn*** Ge din webhook ett namn. *t.ex. Wink Stalker*
3. ***Aktivera*** Lämna som det är för att vara aktiverad.
4. **Enhetsnamn** Koppla din webhook till ett av dina befintliga konton. *t.ex. Cool Account*
5. **Händelser** Lyssna på de händelser som intresserar dig. *t.ex. `booking.created`*
6. **Webhook-URL** Ange URL:en där du kommer att lyssna på händelser från oss. *t.ex. `https://my.system.com/webhook/wink`*
7. Klicka på knappen `Save` för att fortsätta.
</Steps>

Du omdirigeras tillbaka till din lista över webhooks och din nya webhook är redo att användas.

## Uppdatera webhook

Du behöver uppdatera din app om du vill:

- Inaktivera din webhook.
- Lyssna på fler/färre händelser.
- Ändra din webhook-URL för lyssning.

För att uppdatera en befintlig webhook, gör så här:

<Steps>
1. Klicka på länken `Actions` för den webhook du vill uppdatera.
2. Klicka på knappen `Update` under Actions.
3. Gör dina ändringar i webhooken.
4. Klicka på knappen `Save` för att fortsätta.
</Steps>

Du omdirigeras tillbaka till din lista över webhooks.

## Ta bort webhook

Om du inte längre har användning för webhooken kan du ta bort den.

För att ta bort en webhook, gör så här:

<Steps>
1. Klicka på länken `Actions` för den webhook du vill ta bort.
2. Klicka på knappen `Remove` under Actions.
3. Klicka på knappen `OK` för att bekräfta borttagningen.
</Steps>

Du omdirigeras tillbaka till din lista över webhooks.
