---
title: アプリケーション
description: 自分のサイトでユーザーを認証できる新しいWinkアプリの作成方法を学びましょう。
sidebar:
  order: 3
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

アプリケーションはWinkとTripPayの機能にフルアクセスでき、ユーザーが当社のOAuth2認証サーバーを使ってあなたのサイトにログイン・認証できるようにします。FacebookやGoogleと同様です。
Winkを使って独自のOTAを構築できます。すべてはアプリケーションから始まります。

*デフォルトでは、新しいWinkアフィリエイトアカウントまたはTripPayアカウントを登録するとアプリが付与されます。特定のシナリオで`client ID`を使用します。*

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="サンプルアプリケーション"
      src="academy/application"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*サンプルアプリケーションのエントリー*</figcaption>
</figure>

:::note
WinkまたはTripPayで生成されたアプリケーションはすべてのAPIエンドポイントで使用できます。
:::

*この例では、[Wink Studio](https://studio.wink.travel)を通じて認証します。*

<Steps>
1. 認証後、右上のプロフィールアイコンをクリックするとメニューが表示されます。
2. `Applications`リンクをクリックします。
3. アプリ一覧ページにリダイレクトされます。
</Steps>

## アプリ作成

作成済みのアプリの`secret key`にはアクセスできないため、自分で作成する必要があります。

:::caution
アプリを作成する前に、WinkのアフィリエイトアカウントまたはTripPayのアカウントを作成してください。アプリは特定のアカウントに紐づけられます。
:::

アプリケーション作成の手順は以下の通りです：

<Steps>
1. アプリ一覧ページで`Create new application`ボタンをクリックします。
2. ***名前*** アプリに名前を付けます。*例: Cool App*
3. **エンティティ名** 既存のアカウントのいずれかとアプリを紐づけます。*例: Cool Account*
4. **リダイレクトURI** 少なくとも1つのリダイレクトURIが必要です。認証成功後のリダイレクトドメインの検証に使われます。*例: https://www.cool-site.com*
5. `Save`ボタンをクリックして続行します。
</Steps>

アプリ一覧にリダイレクトされ、新しいアプリがリストに表示されます。アプリのシークレットキーはこの時だけ表示されるので、必ずコピーして安全な場所に保存してください。

## アプリ更新

リダイレクトURIを変更したり、URIを追加・削除したい場合はアプリを更新する必要があります。

既存のアプリを更新するには、以下の手順を行います：

<Steps>
1. 更新したいアプリの`Actions`リンクをクリックします。
2. `Update`ボタンをクリックします。
3. アプリの内容を変更します。
4. `Save`ボタンをクリックして続行します。
</Steps>

アプリ一覧にリダイレクトされます。

## アプリ削除

:::caution
アカウントのすべての機能が正常に動作するように、自動作成されたアプリは削除しないでください。
:::

不要なアプリがある場合は削除できます。

アプリを削除するには、以下の手順を行います：

<Steps>
1. 削除したいアプリの`Actions`リンクをクリックします。
2. `Remove`ボタンをクリックします。
3. 削除確認のため`OK`ボタンをクリックします。
</Steps>

アプリ一覧にリダイレクトされます。
