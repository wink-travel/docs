---
title: 認証
description: WinkのOAuth2認可サーバーを使った認証方法を学びましょう。
sidebar:
  order: 2
---

:::tip
Wink IAM認証サーバーは一般的なOAuth2エンドポイントをサポートしています：

- /oauth2/authorize
- /oauth2/token
- /oauth2/introspect
- /oauth2/revoke
- /oauth2/userinfo
:::

アプリケーションは、WinkおよびTripPayのAPIと通信するために使用できる認証済みOAuth2セッションを作成するために必要な`Client ID`と`Secret Key`を提供します。

認証済みセッションを作成する手順は以下の通りです。

**ステップ1**. ステージングまたは本番環境でアクセストークンを取得します：

おそらく、言語に対応した強力なOAuth2ライブラリを使用しているため、複雑な処理はライブラリが行います。
ここでは、`curl`を使ったコマンドラインでの最も基本的な使用例を示します。

### ステージング

```bash

curl -X POST https://staging-iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

### 本番

```bash

curl -X POST https://iam.wink.travel/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=<YOUR_CLIENT_ID>" \
  -d "client_secret=<YOUR_SECRET_KEY>"

```

これにより、アクセストークンとその他のOAuth2レスポンスデータが返されます：

```json
{
  "access_token": "abc123"
}
```

いずれかのエンドポイントにリクエストを送る際は、ヘッダーに以下を含めてください：

- `Wink-Version` = `2.0` 最新 - *他の利用可能なバージョンはAPIドキュメントをご覧ください。*
- `Authentication` = `Bearer: ${access_token}` *アクセストークンを挿入してください。*

:::tip
コードを一行も書くことなく、すべてのAPIをテストできます。

お手持ちのアプリから「Client ID」と「Secret Key」を取得し、任意の[API](/ja/developers/apis)にアクセスしてください。
:::
