---
title: Configuration
description: Cet article vous montre comment vous configurer rapidement en tant que développeur et commencer à tester nos API sur Wink.
sidebar:
  order: 1
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Cet article vous montre comment vous configurer rapidement en tant que développeur et commencer à tester nos API sur Wink.

:::note
Les tests doivent toujours être effectués dans notre [environnement de préproduction](/fr/getting-started/environments). Il y a beaucoup moins de données, mais vous êtes libre de tester autant que vous le souhaitez sans impacter l’environnement de production.

Une fois que vous êtes prêt à passer en production, nous certifierons votre compte et votre application, et vous pourrez lancer dans notre environnement de production.
:::

Suivez ces étapes :

<Steps>
1. [Enregistrez-vous](/fr/user/register) en tant qu’utilisateur sur Wink
2. Créez un [compte agent de voyage](/fr/travel-agent/what-is-agent) ou un [compte affilié](/fr/studio/what-is-studio).
3. [Créez une Application](/fr/developer/applications) en l’associant au compte que vous avez créé à l’étape 2.
4. Une fois votre `Application` créée, conservez le client-id et le client secret en lieu sûr.
</Steps>

## CDN

Chez Wink, nous utilisons Cloudinary pour tous nos assets d’images et de vidéos. Lorsque vous accédez à notre inventaire de voyages, vous aurez un accès complet à toutes les fonctionnalités avancées de Cloudinary.

Notre `cloud_name` est `traveliko`.

### Cloudinary

- [Premiers pas](https://cloudinary.com/documentation/dev_kickstart)
- [SDKs](https://cloudinary.com/documentation/cloudinary_sdks)
- [Cloudinary sur GitHub](https://github.com/cloudinary)
-	[Tutoriels vidéo](https://cloudinary.com/documentation/cloudinary_sdks_tutorials)

### Exemple

Pour chaque type d’inventaire de voyage que nous supportons, il y aura un tableau JSON imbriqué appelé `multimedias`. Le JSON pour une entrée multimédia ressemble à ceci :

```json {3}
{
  "multimediaIdentifier": "multimedia-1",
  "identifier": "partners/radisson_blu_logo",
  "type": "IMAGE",
  "width": "1024",
  "height": "768",
  "category": "1",
  "descriptions": [
    {
      "name": "Lobby",
      "description": "Picture of the lobby",
      "language": "en"
    }
  ],
  "lifestyleType": "LIFESTYLE_BUSINESS",
  "attribution": [
    {
      "url": "https://www.hilton.com",
      "name": "Hilton"
    }
  ]
}
```

La ligne surlignée ci-dessus montre l’ID unique Cloudinary `partners/radisson_blu_logo`. C’est tout ce dont vous avez besoin pour récupérer l’image dans n’importe quel format, qualité et taille que vous souhaitez.

## Tests

Rendez-vous dans notre section [APIs](/fr/developer/apis) et choisissez l’API avec laquelle vous souhaitez travailler.

### Documentation API

Notre site de documentation est configuré de manière à ce que vous puissiez exécuter des commandes API directement depuis le site.

Dans cet exemple, vous souhaitez utiliser l’appel API `Search Lookups (OAuth2)`.

:::tip[Astuce pro]
Pour faciliter l’utilisation, nous recommandons aux intégrateurs d’utiliser les endpoints que nous désignons comme `OAuth2`. Ces endpoints savent qu’ils doivent s’attendre à des appels API et connaissent déjà le compte sur lequel vous êtes, vous n’avez donc pas à spécifier le `companyIdentifier` dans vos URLs.
:::

<Steps>
1. Utilisez l’[API Lookup](https://developer.wink.travel/lookup) pour récupérer des destinations ou des hôtels.
2. Dans la barre de navigation à gauche, cliquez sur `Authentication`.
3. Saisissez votre client-id et client secret puis cliquez sur le bouton `Get TOKEN`.
4. Si vos identifiants sont valides, vous verrez que votre clé API a été appliquée.
5. Vous pouvez maintenant tester le endpoint lookup.
</Steps>

<figure>
<CloudinaryImage
      width="700"
      height="265"
      resize="scale"
      quality="best"
      alt="Endpoint API Lookup"
      src="academy/lookup-api-call"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemple de Search Lookups (OAuth2)*</figcaption>
</figure>

### Postman
Vous pouvez faire la même chose avec Postman.

<Steps>
1. Téléchargez [Postman](https://www.postman.com/downloads).
2. Cliquez sur `Download OpenAPI spec` en haut de la page de l’[API Lookup](https://developer.wink.travel/lookup).
3. Importez-le dans Postman.
4. Si vous l’avez importé en tant que nouvelle collection appelée `Wink API`, cliquez sur les ellipses horizontales (3 points) à côté du nom de la collection et cliquez sur `Edit`.
5. Dans l’onglet `Authorization`, définissez le `Auth type` sur OAuth2.
6. Réglez le champ `Add auth data to` sur `Request headers`.
7. Réglez le champ `Header prefix` sur `Bearer`.
8. Donnez un nom au champ `Token Name` pour nommer votre token sauvegardé dans Postman, par exemple Wink Staging.
9. Réglez le champ `Grant type` sur `Client Credentials`.
10. Réglez le champ `Access token URL` sur https://staging-iam.wink.travel/oauth2/token.
11. Réglez le champ `Client ID` sur le Client ID généré par votre application.
12. Réglez le champ `Client Secret` sur le Client Secret généré par votre application.
13. Réglez le champ `Scope` sur `inventory.read inventory.write inventory.remove`. Ce sont tous les scopes dont vous aurez besoin pour Wink.
14. Réglez le champ `Client Authentication` sur `Send as Basic Auth header`.
15. Cliquez sur le bouton `Get New Access Token` pour récupérer votre token et le sauvegarder.
16. Pour tous les appels API sous la collection Wink API, assurez-vous que l’onglet d’authentification indique `Inherit auth from parent` afin d’inclure votre token à chaque appel.
</Steps>

:::tip[Astuce pro]
Il est recommandé de transformer le domaine du serveur, le client ID et le client secret en variables d’environnement. Ainsi, vous pouvez facilement basculer entre les environnements de préproduction et de production et réutiliser toutes les opérations que vous avez créées.
:::
