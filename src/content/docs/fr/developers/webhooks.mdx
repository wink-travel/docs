---
title: Webhooks
description: Abonnez-vous aux événements Wink et TripPay.
sidebar:
  order: 4
---

import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '/src/components/cloudinary-image.astro';

Les webhooks vous permettent de recevoir et de réagir en temps réel aux événements de Wink et TripPay concernant votre compte.

## Exemple

<Steps>
1. Une réservation est effectuée sur Wink.
1. L'événement Wink `booking.created` est déclenché.
2. Votre système écoute activement cet événement.
3. Votre système suit ses propres analyses et utilise cet événement pour mettre à jour sa base de données en séries temporelles.
</Steps>

<figure>
<CloudinaryImage
      width="350"
      height="215"
      resize="scale"
      quality="best"
      alt="Exemple de webhook"
      src="academy/webhook"
      errorImage="noimage_opaque_nyrtl0.png"
    />
    <figcaption>*Exemple d'entrée webhook*</figcaption>
</figure>

:::note
Un webhook Wink est différent d’un webhook TripPay.

- Si vous souhaitez écouter les événements Wink, vous pouvez créer un webhook depuis [Extranet](https://extranet.wink.travel) ou [Studio](https://studio.wink.travel).
- Si vous souhaitez écouter les événements TripPay, vous pouvez créer un webhook depuis [Payment](https://pay.wink.travel).
:::

*Pour cet exemple, nous allons nous authentifier via [Studio](https://studio.wink.travel).*

<Steps>
1. Une fois authentifié, cliquez sur votre icône de profil, en haut à droite, un menu apparaîtra.
2. Cliquez sur le lien `Webhooks`.
3. Vous serez redirigé vers votre page de webhooks.
</Steps>

## Créer un webhook

:::caution
Vous devez créer un compte affilié sur Wink ou un compte sur TripPay avant de créer un webhook, car vous allez lier votre webhook à un compte spécifique.
:::

Voici les étapes pour créer un webhook :

<Steps>
1. Depuis la page des webhooks, cliquez sur le bouton `Create new webhook`.
2. ***Nom*** Donnez un nom à votre webhook. *ex. Wink Stalker*
3. ***Activer*** Laissez tel quel pour activer.
4. **Nom de l’entité** Liez votre webhook à l’un de vos comptes existants. *ex. Cool Account*
5. **Événements** Écoutez les événements qui vous intéressent. *ex. `booking.created`*
6. **URL du webhook** Saisissez l’URL où vous écouterez les événements de notre part. *ex. `https://my.system.com/webhook/wink`*
7. Cliquez sur le bouton `Save` pour continuer.
</Steps>

Vous êtes redirigé vers votre liste de webhooks et votre nouveau webhook est prêt à être utilisé.

## Mettre à jour un webhook

Vous devrez mettre à jour votre application si vous souhaitez :

- Désactiver votre webhook.
- Écouter plus ou moins d’événements.
- Modifier l’URL d’écoute du webhook.

Pour mettre à jour un webhook existant, procédez comme suit :

<Steps>
1. Cliquez sur le lien `Actions` du webhook que vous souhaitez modifier.
2. Cliquez sur le bouton `Update` sous Actions.
3. Effectuez vos modifications sur le webhook.
4. Cliquez sur le bouton `Save` pour continuer.
</Steps>

Vous êtes redirigé vers votre liste de webhooks.

## Supprimer un webhook

Si vous n’avez plus besoin du webhook, vous pouvez le supprimer.

Pour supprimer un webhook, procédez comme suit :

<Steps>
1. Cliquez sur le lien `Actions` du webhook que vous souhaitez supprimer.
2. Cliquez sur le bouton `Remove` sous Actions.
3. Cliquez sur le bouton `OK` pour confirmer la suppression.
</Steps>

Vous êtes redirigé vers votre liste de webhooks.
