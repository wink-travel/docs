---
title: Webhooks
description: Abonnez-vous aux événements Wink et TripPay.
sidebar:
  order: 4
---
import { Steps } from '@astrojs/starlight/components';
import CloudinaryImage from '../../../components/cloudinary-image.astro';

Les Webhooks sont un moyen pour vous de recevoir et de réagir aux événements en temps réel de Wink et TripPay concernant votre compte.

## Exemple

<Steps>
  1. Une réservation a lieu sur Wink.
  2. L'événement Wink `booking.created` est expédié.
  3. Votre système écoute activement cet événement.
  4. Votre système suit votre propre ensemble d’analyses et utilise cet événement pour mettre à jour sa base de données de séries chronologiques.
</Steps>


<figure>
  <CloudinaryImage width="350" height="215" resize="scale" quality="best" alt="Exemple de webhook" src="academy/webhook" errorImage="noimage_opaque_nyrtl0.png" />

  <figcaption>*Exemple d'entrée de webhook*</figcaption>
</figure>


:::note
Un webhook Wink est différent d'un webhook TripPay.

* Si vous souhaitez écouter les événements Wink, vous pouvez créer un webhook à partir de[Extranet](https://extranet.wink.travel) ou [Studio](https://studio.wink.travel).
* Si vous souhaitez écouter les événements TripPay, vous pouvez créer un webhook à partir de[Paiement](https://pay.wink.travel).
  :::

*Pour cet exemple, nous allons nous authentifier via[Studio](https://studio.wink.travel).*

<Steps>
  1. Une fois authentifié, cliquez sur l'icône de votre profil, dans le coin supérieur droit, et un menu apparaîtra.
  2. Cliquez sur le `Webhooks` lien.
  3. Vous serez redirigé vers votre page webhooks.
</Steps>


## Créer un webhook

:::Attention
Vous devez créer un compte affilié sur Wink ou un compte sur TripPay avant de créer un webhook, car vous lierez votre webhook à un compte spécifique.
:::

Voici les étapes pour créer un webhook :

<Steps>
  1. Depuis la page des webhooks, cliquez sur le `Create new webhook` bouton.
  2. ***Nom*** Donnez un nom à votre webhook. *par exemple Wink Stalker*
  3. ***Activer*** Laisser tel quel pour être activé.
  4. **Nom de l'entité** Liez votre webhook à l’un de vos comptes existants. *par exemple, Cool Account*
  5. **Événements** Écoutez les événements qui vous intéressent. *par exemple `booking.created`*
  6. **URL du webhook** Entrez l'URL où vous écouterez nos événements. *par exemple `https://my.system.com/webhook/wink`*
  7. Cliquez sur le `Save` bouton pour continuer.
</Steps>


Vous êtes redirigé vers votre liste de webhooks et votre nouveau webhook est prêt à fonctionner.

## Mettre à jour le webhook

Vous devrez mettre à jour votre application si vous souhaitez :

* Désactivez votre webhook.
* Écoutez plus/moins d'événements.
* Modifiez l’URL de votre webhook d’écoute.

Pour mettre à jour un webhook existant, procédez comme suit :

<Steps>
  1. Cliquez sur le `Actions` lien pour le webhook que vous souhaitez mettre à jour.
  2. Cliquez sur le `Update` bouton sous Actions.
  3. Apportez vos modifications au webhook.
  4. Cliquez sur le `Save` bouton pour continuer.
</Steps>


Vous êtes redirigé vers votre liste de webhooks.

## Supprimer le webhook

Si vous n’avez plus besoin du webhook, vous pouvez continuer et le supprimer.

Pour supprimer un webhook, procédez comme suit :

<Steps>
  1. Cliquez sur le `Actions` lien pour le webhook que vous souhaitez mettre à jour.
  2. Cliquez sur le `Remove` bouton sous Actions.
  3. Cliquez `OK` bouton pour confirmer la suppression.
</Steps>


Vous êtes redirigé vers votre liste de webhooks.

